<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ã‚ãâ˜†ã¨ã‚Œ</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ«¡</text></svg>">
  
  <link href="https://fonts.googleapis.com/css2?family=DotGothic16&family=Klee+One:wght@400;600&family=Noto+Sans+JP:wght@400;500;700&family=Orbitron:wght@500;700&family=Shippori+Mincho:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  
  <style>
:root {
      --primary-color: #0079bf;
      --bg-color: #f4f5f7;
      --card-bg: #ffffff;
      --text-color: #172b4d;
      --sub-text: #5e6c84;
      --list-bg: #ebecf0;
      --border-color: #dfe1e6;
      --header-bg: #ffffff;
      --input-bg: #fafbfc;
      --scrollbar-thumb: #bfc4ce;
      --scrollbar-track: #f1f1f1;
      --font-family: 'Noto Sans JP', sans-serif;
      --border-radius: 4px;
      --box-shadow: 0 1px 3px rgba(0,0,0,0.1);
      --bg-scale: 1.0;
      --xp-color: #00c2e0;
      --gold-color: #ffd700;
      --rare-color: #9b59b6;
    }

    /* =========================================
       æ—¢å­˜ãƒ¢ãƒ¼ãƒ‰è¨­å®š
       ========================================= */
    /* ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ */
    body.dark-mode {
      --primary-color: #5ba4cf;
      --bg-color: #1d2125;
      --card-bg: #22272b;
      --text-color: #b6c2cf;
      --sub-text: #9fadbc;
      --list-bg: #101204;
      --border-color: #3b4249;
      --header-bg: #1d2125;
      --input-bg: #22272b;
      --scrollbar-thumb: #56606a;
      --scrollbar-track: #1d2125;
    }

    /* çŒ«ãƒ¢ãƒ¼ãƒ‰ */
    body.cat-mode {
      --primary-color: #ff85a2;
      --bg-color: #fff0f5;
      --card-bg: #ffffff;
      --text-color: #5d4037;
      --sub-text: #9e8279;
      --list-bg: #ffe4e1;
      --border-color: #ffcdd2;
      --header-bg: #ffffff;
      --input-bg: #fffbf0;
      --scrollbar-thumb: #ffb7b2;
      --scrollbar-track: #fff0f5;
      background-image: 
        radial-gradient(circle at 50% 30%, #ffd1dc 10%, transparent 11%),
        radial-gradient(circle at 30% 60%, #ffd1dc 6%, transparent 7%),
        radial-gradient(circle at 50% 70%, #ffd1dc 6%, transparent 7%),
        radial-gradient(circle at 70% 60%, #ffd1dc 6%, transparent 7%);
      background-size: 60px 60px;
      background-repeat: repeat;
    }
    body.cat-mode::after { content: "ğŸ±"; position: fixed; bottom: 20px; right: 20px; font-size: 80px; opacity: 0.5; z-index: -1; pointer-events: none; }

    /* çŠ¬ãƒ¢ãƒ¼ãƒ‰ */
    body.dog-mode {
      --primary-color: #fb8c00;
      --bg-color: #fff8e1;
      --card-bg: #ffffff;
      --text-color: #3e2723;
      --sub-text: #6d4c41;
      --list-bg: #ffe0b2;
      --border-color: #ffe082;
      --header-bg: #fffde7;
      --input-bg: #ffffff;
      --scrollbar-thumb: #ffcc80;
      --scrollbar-track: #fff8e1;
      background-image: linear-gradient(45deg, #ffe0b2 25%, transparent 25%, transparent 50%, #ffe0b2 50%, #ffe0b2 75%, transparent 75%, transparent);
      background-size: 40px 40px;
    }
    body.dog-mode::after { content: "ğŸ¶"; position: fixed; bottom: 20px; right: 20px; font-size: 80px; opacity: 0.5; z-index: -1; pointer-events: none; }

    /* ãƒ‰ãƒ©ã‚´ãƒ³ãƒ¢ãƒ¼ãƒ‰ */
    body.dragon-mode {
      --primary-color: #d32f2f;
      --bg-color: #263238;
      --card-bg: #37474f;
      --text-color: #eceff1;
      --sub-text: #b0bec5;
      --list-bg: #1c2529;
      --border-color: #455a64;
      --header-bg: #263238;
      --input-bg: #37474f;
      --scrollbar-thumb: #d32f2f;
      --scrollbar-track: #263238;
      background-image: 
        linear-gradient(45deg, transparent 75%, rgba(0,0,0,0.2) 75%),
        linear-gradient(-45deg, transparent 75%, rgba(0,0,0,0.2) 75%);
      background-size: 30px 30px;
      background-position: 0 0, 15px 0;
    }
    body.dragon-mode::after { content: "ğŸ‰"; position: fixed; bottom: 20px; right: 20px; font-size: 80px; opacity: 0.5; z-index: -1; pointer-events: none; filter: drop-shadow(0 0 5px #d32f2f); }

    /* ãƒã‚ªãƒ³ãƒ¢ãƒ¼ãƒ‰ */
    body.neon-mode {
      --primary-color: #00fff9;
      --secondary-color: #ff00ff;
      --bg-color: #0a0a12;
      --card-bg: #12121a;
      --text-color: #e0e0e0;
      --sub-text: #a0a0b0;
      --list-bg: #1a1a24;
      --border-color: #333344;
      --header-bg: #0f0f18;
      --input-bg: #12121a;
      --scrollbar-thumb: #00fff9;
      --scrollbar-track: #0a0a12;
      --font-family: 'Orbitron', 'Noto Sans JP', sans-serif;
      background-image: 
        linear-gradient(rgba(0, 255, 249, 0.1) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 255, 249, 0.1) 1px, transparent 1px);
      background-size: 30px 30px;
      background-position: center center;
    }
    body.neon-mode h1, body.neon-mode .btn-quick-filter.active { text-shadow: 0 0 5px var(--primary-color); }
    body.neon-mode .industry-column, body.neon-mode .trello-card { border-color: var(--primary-color); box-shadow: 0 0 5px rgba(0,255,249,0.2); }

    /* ã‚²ãƒ¼ãƒŸãƒ³ã‚°ãƒ¢ãƒ¼ãƒ‰ */
    @keyframes rainbow-border { 0% { border-color: #ff0000; box-shadow: 0 0 10px #ff0000; } 100% { border-color: #ff00ff; box-shadow: 0 0 10px #ff00ff; } }
    @keyframes rainbow-bg { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
    body.gaming-mode {
      --primary-color: #ff0000;
      --bg-color: #000000;
      --card-bg: #111111;
      --text-color: #ffffff;
      --sub-text: #aaaaaa;
      --list-bg: #0a0a0a;
      --border-color: #333;
      --header-bg: #080808;
      --input-bg: #111111;
      --scrollbar-thumb: #555;
      --scrollbar-track: #111;
      --font-family: 'Orbitron', 'Noto Sans JP', sans-serif;
      background: linear-gradient(45deg, #1a1a1a, #000000);
    }
    body.gaming-mode .industry-column, body.gaming-mode .trello-card { border: 2px solid; animation: rainbow-border 5s infinite alternate; }
    body.gaming-mode .btn-login, body.gaming-mode .btn-save { background: linear-gradient(90deg, red, yellow, green, cyan, blue, magenta); background-size: 300%; animation: rainbow-bg 3s infinite; color: black; }

    /* ãƒ¬ãƒˆãƒ­RPGãƒ¢ãƒ¼ãƒ‰ */
    body.retro-mode {
      --primary-color: #d32f2f;
      --bg-color: #fce4a8;
      --card-bg: #ffffff;
      --text-color: #212121;
      --sub-text: #555555;
      --list-bg: #8b4513;
      --border-color: #000000;
      --header-bg: #3e2723;
      --input-bg: #fff8e1;
      --scrollbar-thumb: #d32f2f;
      --scrollbar-track: #fce4a8;
      --font-family: 'DotGothic16', sans-serif;
      --border-radius: 0px;
      --box-shadow: 4px 4px 0px rgba(0,0,0,0.2);
    }
    body.retro-mode .trello-card, 
    body.retro-mode .industry-column,
    body.retro-mode .btn-quick-filter,
    body.retro-mode .btn-login,
    body.retro-mode input, 
    body.retro-mode select { border: 2px solid #000; box-shadow: 4px 4px 0px rgba(0,0,0,1); }
    body.retro-mode header { border-bottom: 4px solid #000; background: #5c94fc; color: white; }
    body.retro-mode h1 { color: white; text-shadow: 2px 2px 0 #000; }
    body.retro-mode ::-webkit-scrollbar-thumb { border: 2px solid #000; background: #ffcc00; }
    body.retro-mode::after { content: "ğŸ‘¾"; position: fixed; bottom: 20px; right: 20px; font-size: 80px; opacity: 0.8; z-index: -1; }

    /* è¨­è¨ˆå›³ãƒ¢ãƒ¼ãƒ‰ */
    body.blueprint-mode {
      --primary-color: #ffffff;
      --bg-color: #2c5ea8;
      --card-bg: #2c5ea8;
      --text-color: #ffffff;
      --sub-text: #d0e0ff;
      --list-bg: rgba(255,255,255,0.1);
      --border-color: #ffffff;
      --header-bg: #224a85;
      --input-bg: rgba(255,255,255,0.1);
      --scrollbar-thumb: #ffffff;
      --scrollbar-track: #2c5ea8;
      --font-family: 'Klee One', 'Noto Sans JP', sans-serif;
      --border-radius: 255px 15px 225px 15px / 15px 225px 15px 255px;
      --box-shadow: none;
      background-image: linear-gradient(#ffffff 1px, transparent 1px), linear-gradient(90deg, #ffffff 1px, transparent 1px);
      background-size: 20px 20px; background-position: center center; background-blend-mode: overlay; opacity: 1;
    }
    body.blueprint-mode .trello-card, body.blueprint-mode .industry-column, body.blueprint-mode input, body.blueprint-mode select, body.blueprint-mode button { border: 2px solid rgba(255,255,255,0.8); background-color: transparent; box-shadow: none; }
    body.blueprint-mode .trello-card { background-color: rgba(44, 94, 168, 0.9); }
    body.blueprint-mode::after { content: "ğŸ“"; position: fixed; bottom: 20px; right: 20px; font-size: 80px; opacity: 0.5; z-index: -1; }

    /* å’Œé¢¨ãƒ»æµ®ä¸–çµµãƒ¢ãƒ¼ãƒ‰ */
    body.japan-mode {
      --primary-color: #b7282e;
      --bg-color: #f3f0e6;
      --card-bg: #ffffff;
      --text-color: #2f2725;
      --sub-text: #706b67;
      --list-bg: #e6e1d6;
      --border-color: #9e8b7e;
      --header-bg: #1f314a;
      --input-bg: #f9f8f5;
      --scrollbar-thumb: #b7282e;
      --scrollbar-track: #f3f0e6;
      --font-family: 'Shippori Mincho', serif;
      --border-radius: 2px;
      --box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0IiBoZWlnaHQ9IjQiPgo8cmVjdCB3aWR0aD0iNCIgaGVpZ2h0PSI0IiBmaWxsPSIjZjNmMGU2Ii8+CjxyZWN0IHdpZHRoPSI0IiBoZWlnaHQ9IjQiIGZpbGw9IiNkZGQiIG9wYWNpdHk9IjAuMiIvPgo8L3N2Zz4=');
    }
    body.japan-mode header { color: white; border-bottom: 4px solid #b7282e; }
    body.japan-mode header h1 { color: #f3f0e6; }
    body.japan-mode .trello-card { border: 1px solid #d4cbb8; }
    body.japan-mode .column-header { border-left: 5px solid #1f314a; padding-left: 10px; }
    body.japan-mode::after { content: "ğŸµ"; position: fixed; bottom: 20px; right: 20px; font-size: 80px; opacity: 0.5; z-index: -1; }

    body:not(.cat-mode):not(.dog-mode):not(.dragon-mode):not(.neon-mode):not(.gaming-mode):not(.retro-mode):not(.blueprint-mode):not(.japan-mode) { background-image: none; }
    body:not(.cat-mode):not(.dog-mode):not(.dragon-mode):not(.retro-mode):not(.blueprint-mode):not(.japan-mode)::after { content: none; }

/* ==========================================================================
   ã€100ç‚¹ç‰ˆã€‘é¦¬ãƒ¢ãƒ¼ãƒ‰ï¼ˆG1ãƒ»ãƒ€ãƒ¼ãƒ“ãƒ¼ã‚¹ãƒšã‚·ãƒ£ãƒ«ï¼‰
   ========================================================================== */
body.horse-mode {
  /* --- ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆï¼šè‹±å›½ç«¶é¦¬ã®ä¼çµ±ã¨æ ¼å¼ --- */
  --primary-color: #0b4d2c;   /* ãƒ­ã‚¤ãƒ¤ãƒ«ã‚¿ãƒ¼ãƒ•ã‚°ãƒªãƒ¼ãƒ³ */
  --secondary-color: #c5a059; /* ã‚¢ãƒ³ãƒ†ã‚£ãƒ¼ã‚¯ã‚´ãƒ¼ãƒ«ãƒ‰ */
  --accent-color: #d63031;    /* å‹è² æœã®èµ¤ */
  --bg-color: #f4f1ea;        /* ç ‚ï¼ˆãƒ€ãƒ¼ãƒˆï¼‰ã®ã‚ˆã†ãªãƒ™ãƒ¼ã‚¸ãƒ¥ */
  --card-bg: #fffbf0;         /* ä¸Šè³ªãªç´™ã®ã‚ˆã†ãªç™½ */
  --text-color: #2d1b0e;      /* ãƒ€ãƒ¼ã‚¯ãƒ¬ã‚¶ãƒ¼ãƒ–ãƒ©ã‚¦ãƒ³ */
  --sub-text: #634f3d;        /* ã‚¨ã‚¤ã‚¸ãƒ³ã‚°ãƒ¬ã‚¶ãƒ¼è‰² */
  --list-bg: #e6dfcf;         /* æœ¨æã®ä¸‹åœ°è‰² */
  --border-color: #8b5e3c;    /* é©ã®æ–­é¢è‰² */
  
  --font-family: 'Shippori Mincho', 'Noto Sans JP', serif; /* æ ¼å¼é«˜ã„ãƒ•ã‚©ãƒ³ãƒˆ */
  
  /* --- èƒŒæ™¯ï¼šé¢¨ã«ãªã³ãèŠç”Ÿã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ --- */
  background-color: var(--primary-color);
  background-image: 
    /* è¹„é‰„ã®ãƒ‘ã‚¿ãƒ¼ãƒ³é€ã‹ã— */
    radial-gradient(circle at 50% 50%, transparent 0%, transparent 40%, rgba(0,0,0,0.05) 41%, rgba(0,0,0,0.05) 50%, transparent 51%),
    /* èŠç”Ÿã®ãƒ†ã‚¯ã‚¹ãƒãƒ£ */
    linear-gradient(45deg, #0b4d2c 25%, #0d5c35 25%, #0d5c35 50%, #0b4d2c 50%, #0b4d2c 75%, #0d5c35 75%, #0d5c35 100%);
  background-size: 60px 60px, 40px 40px;
  animation: turf-scroll 60s linear infinite; /* èŠç”ŸãŒã‚†ã£ãã‚Šå‹•ã */
}

/* èŠç”Ÿã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
@keyframes turf-scroll {
  0% { background-position: 0 0, 0 0; }
  100% { background-position: 0 0, -1000px 1000px; }
}

/* --- ã‚«ã‚¹ã‚¿ãƒ ã‚«ãƒ¼ã‚½ãƒ«ï¼šè¹„é‰„ï¼ˆGold Horseshoeï¼‰ --- */
body.horse-mode, body.horse-mode a, body.horse-mode button {
  cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="%23c5a059" stroke-width="2"><path d="M6 3C4 6 2 10 2 15c0 5 4 9 10 9s10-4 10-9c0-5-2-9-4-12"/><path d="M6 3h4"/><path d="M14 3h4"/><path d="M7 21l2-2"/><path d="M17 21l-2-2"/></svg>') 16 16, auto !important;
}

/* --- ãƒ˜ãƒƒãƒ€ãƒ¼ï¼šè²´è³“å¸­ï¼ˆVIP Boxï¼‰ã®è£…é£¾ --- */
body.horse-mode header {
  background: linear-gradient(to bottom, #1a1a1a, #2d1b0e); /* é»’é©ã®é‡åšæ„Ÿ */
  border-bottom: 4px solid #c5a059;
  box-shadow: 0 5px 15px rgba(0,0,0,0.5);
}
body.horse-mode h1 {
  font-family: 'Shippori Mincho', serif;
  color: #c5a059;
  text-shadow: 0 2px 4px rgba(0,0,0,0.8);
  letter-spacing: 2px;
}
/* æ¤œç´¢ãƒœãƒƒã‚¯ã‚¹ã‚„ãƒœã‚¿ãƒ³ã‚’ã€ŒçœŸé®ï¼ˆBrassï¼‰ã€é¢¨ã« */
body.horse-mode .search-container input,
body.horse-mode select {
  background: #2d1b0e;
  border: 1px solid #c5a059;
  color: #c5a059;
}
body.horse-mode .btn-quick-filter {
  background: linear-gradient(to bottom, #fff, #e6dfcf);
  border: 1px solid #8b5e3c;
  color: #2d1b0e;
  font-family: serif;
}
body.horse-mode .btn-quick-filter.active {
  background: #d63031; /* ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã¯å‹è² æœã®èµ¤ */
  color: #fff;
  border-color: #fff;
}

/* --- ãƒªã‚¹ãƒˆï¼šã‚¹ã‚¿ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚²ãƒ¼ãƒˆã¨æœ¨è£½çœ‹æ¿ --- */
body.horse-mode .industry-column {
  background: #fdfcf8;
  border: 8px solid #5d4037; /* å¤ªã„æœ¨ã®æ  */
  border-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.5' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23noise)' opacity='0.5'/%3E%3C/svg%3E");
  border-radius: 4px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.3);
  position: relative;
}
/* ãƒªã‚¹ãƒˆä¸Šéƒ¨ã®è£…é£¾ï¼ˆã‚²ãƒ¼ãƒˆç•ªå·é¢¨ï¼‰ */
body.horse-mode .industry-column::before {
  content: "GATE";
  position: absolute;
  top: -24px; left: 50%; transform: translateX(-50%);
  background: #0b4d2c;
  color: #c5a059;
  font-size: 10px;
  padding: 2px 10px;
  border-radius: 4px 4px 0 0;
  border: 1px solid #c5a059;
  font-weight: bold;
}
body.horse-mode .column-header {
  border-bottom: 2px dashed #8b5e3c;
  padding-bottom: 10px;
  margin-bottom: 10px;
  color: #2d1b0e;
  font-size: 16px;
  text-align: center;
}

/* --- ã‚«ãƒ¼ãƒ‰ï¼šã‚µãƒ©ãƒ–ãƒ¬ãƒƒãƒ‰ã¨éï¼ˆSaddleï¼‰ --- */
body.horse-mode .trello-card {
  background: #fff;
  border: none;
  box-shadow: 
    0 1px 0 rgba(0,0,0,0.1), 
    0 4px 0 rgba(139, 94, 60, 0.2), /* åšã¿ã®ã‚ã‚‹é©ã®å½± */
    0 5px 10px rgba(0,0,0,0.1);
  margin-bottom: 12px;
  padding: 12px;
  transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275), box-shadow 0.2s;
}

/* ã‚«ãƒ¼ãƒ‰ãƒ›ãƒãƒ¼æ™‚ï¼šã‚²ãƒ¼ãƒˆã‚ªãƒ¼ãƒ—ãƒ³ï¼ */
body.horse-mode .trello-card:hover {
  transform: translateY(-5px) scale(1.02);
  box-shadow: 
    0 15px 30px rgba(11, 77, 44, 0.3),
    0 0 0 2px #c5a059; /* ã‚´ãƒ¼ãƒ«ãƒ‰ã®ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ */
  z-index: 10;
}

/* ãƒ”ãƒ³ç•™ã‚ã‚«ãƒ¼ãƒ‰ï¼šå„ªå‹ãƒ­ã‚¼ãƒƒãƒˆï¼ˆRosetteï¼‰è£…é£¾ */
body.horse-mode .trello-card.pinned {
  background: linear-gradient(to right, #fffbf0, #fff);
}
body.horse-mode .trello-card.pinned::after {
  content: "â˜…WINNER";
  position: absolute;
  top: -5px; right: -25px;
  background: #c5a059;
  color: #2d1b0e;
  font-size: 9px;
  font-weight: bold;
  padding: 2px 25px;
  transform: rotate(45deg);
  box-shadow: 0 2px 4px rgba(0,0,0,0.2);
  border-bottom: 1px solid #fff;
}

/* ãƒ‰ãƒ©ãƒƒã‚°ä¸­ï¼šç–¾èµ°ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ */
body.horse-mode .trello-card.dragging {
  opacity: 1;
  transform: rotate(3deg) scale(1.05);
  box-shadow: 0 20px 40px rgba(0,0,0,0.4);
  background: #fff;
  /* ç–¾èµ°ã™ã‚‹ã‚¹ãƒ”ãƒ¼ãƒ‰ç·š */
  background-image: repeating-linear-gradient(90deg, transparent, transparent 10px, rgba(139, 94, 60, 0.1) 10px, rgba(139, 94, 60, 0.1) 20px);
}

/* --- ãƒ©ãƒ™ãƒ«ãƒ»ã‚¿ã‚°é¡ --- */
/* Trelloãƒ©ãƒ™ãƒ«ã‚’ã‚¸ãƒ§ãƒƒã‚­ãƒ¼ã®å¸½å­è‰²é¢¨ã« */
body.horse-mode .trello-label {
  border-radius: 50px;
  border: 1px solid rgba(0,0,0,0.1);
  box-shadow: inset 0 -2px 0 rgba(0,0,0,0.2);
}
body.horse-mode .tag {
  border-radius: 2px;
  font-family: 'Roboto', sans-serif;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* --- ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ï¼šã‚³ãƒ¼ã‚¹ã®æŸµ --- */
body.horse-mode ::-webkit-scrollbar {
  width: 16px;
  background-color: #0b4d2c;
}
body.horse-mode ::-webkit-scrollbar-thumb {
  background-color: #fff;
  border-radius: 8px;
  border: 4px solid #0b4d2c; /* ç™½ã¨ç·‘ã§æŸµã‚’è¡¨ç¾ */
  background-image: repeating-linear-gradient(45deg, #ddd, #ddd 5px, #fff 5px, #fff 10px);
}

/* --- è£…é£¾ï¼šå³ä¸‹ã®ãƒã‚¹ã‚³ãƒƒãƒˆã‚’ã€Œåé¦¬ã€ã«é€²åŒ– --- */
body.horse-mode::after {
  content: "ğŸ"; /* èµ°ã‚‹é¦¬ */
  font-size: 150px;
  position: fixed;
  bottom: 20px;
  right: -20px;
  opacity: 0.8;
  z-index: 0;
  filter: drop-shadow(0 10px 10px rgba(0,0,0,0.5));
  animation: gallop 2s ease-in-out infinite alternate;
}
/* ã‚®ãƒ£ãƒ­ãƒƒãƒ—ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
@keyframes gallop {
  0% { transform: translateY(0) rotate(0deg) scaleX(-1); }
  100% { transform: translateY(-20px) rotate(-5deg) scaleX(-1); }
}

/* æœŸé™åˆ‡ã‚Œã‚«ãƒ¼ãƒ‰ï¼šè½é¦¬å¯¸å‰ */
body.horse-mode .due-overdue {
  background: #2d1b0e !important;
  color: #fff !important;
  border: 1px solid #ff0000;
  animation: shake 0.5s infinite;
}
@keyframes shake {
  0% { transform: translateX(0); }
  25% { transform: translateX(2px); }
  75% { transform: translateX(-2px); }
  100% { transform: translateX(0); }
}

    /* å…±é€šBodyè¨­å®š */
    body {
      font-family: var(--font-family);
      background-color: var(--bg-color);
      color: var(--text-color);
      margin: 0; padding: 0; height: 100vh;
      display: flex; flex-direction: column;
      overflow: hidden;
      transition: background-color 0.3s, color 0.3s, background-image 0.3s, box-shadow 0.3s;
    }
    
    /* ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã‚¹ã‚¿ã‚¤ãƒ« */
    #login-overlay {
      position: fixed; inset: 0; z-index: 10000;
      background-color: var(--bg-color);
      display: flex; justify-content: center; align-items: center;
      transition: opacity 0.3s;
    }
    .login-box {
      background: var(--card-bg);
      padding: 40px; border-radius: var(--border-radius);
      box-shadow: var(--box-shadow);
      width: 300px; text-align: center;
      border: 1px solid var(--border-color);
    }
    .login-box h2 { margin-top: 0; color: var(--primary-color); }
    .login-input {
      width: 100%; padding: 10px; margin-bottom: 15px;
      box-sizing: border-box; border: 1px solid var(--border-color);
      border-radius: var(--border-radius); background: var(--input-bg); color: var(--text-color);
    }
    .btn-login {
      width: 100%; padding: 10px; background: var(--primary-color);
      color: white; border: none; border-radius: var(--border-radius);
      font-weight: bold; cursor: pointer;
    }
    .btn-login:hover { opacity: 0.9; }
    .login-error { color: #eb5a46; font-size: 12px; margin-top: 10px; min-height: 1.2em; }

    /* ãƒ˜ãƒƒãƒ€ãƒ¼ */
    header {
      background: var(--header-bg); padding: 10px 20px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1); z-index: 10;
      transition: padding 0.3s, background-color 0.3s;
      border-bottom: 1px solid var(--border-color);
    }
    .header-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; transition: margin 0.3s; }
    h1 { font-size: 18px; margin: 0; display: flex; align-items: center; gap: 8px; transition: font-size 0.3s; }
    
    /* ã‚²ãƒ¼ãƒŸãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ãƒ˜ãƒƒãƒ€ãƒ¼UI */
    .game-status-bar {
        display: flex; align-items: center; gap: 15px; margin-left: 15px; padding: 4px 10px;
        background: var(--list-bg); border-radius: 20px; border: 1px solid var(--border-color);
        font-size: 12px;
    }
    .game-level-badge {
        background: var(--primary-color); color: white; padding: 2px 8px; border-radius: 10px; font-weight: bold;
    }
    .game-rank-text { font-weight: bold; color: var(--text-color); }
    .game-xp-container {
        width: 100px; height: 8px; background: var(--border-color); border-radius: 4px; overflow: hidden; position: relative;
    }
    .game-xp-bar {
        height: 100%; background: linear-gradient(90deg, #00c2e0, #0079bf); width: 0%; transition: width 0.5s ease-out;
    }
    .game-xp-text { font-size: 10px; color: var(--sub-text); margin-left: 5px; }
    
    .search-container { position: relative; width: 200px; }
    .search-container input {
      width: 100%; padding: 6px 30px 6px 10px; box-sizing: border-box;
      border: 1px solid var(--border-color); border-radius: var(--border-radius); background: var(--input-bg);
      color: var(--text-color);
    }
    .search-container .material-icons {
      position: absolute; right: 5px; top: 50%; transform: translateY(-50%);
      color: #999; font-size: 18px; pointer-events: none;
    }

    .quick-filters { display: flex; gap: 8px; margin-right: 10px; }
    .btn-quick-filter {
      border: 1px solid transparent; padding: 6px 12px; border-radius: var(--border-radius); cursor: pointer;
      font-weight: bold; display: flex; align-items: center; gap: 4px; font-size: 12px;
      background: var(--list-bg); color: var(--text-color); transition: all 0.2s;
    }
    .btn-quick-filter:hover { opacity: 0.8; }
    .btn-overdue.active { background-color: #ffebe6; color: #bf2600; border-color: #ffbdad; }
    .btn-due24h.active { background-color: #fffae6; color: #b66d1d; border-color: #ffe380; }
    .btn-due3d.active { background-color: #e6fcff; color: #00768e; border-color: #b3f5ff; }
    .btn-today.active { background-color: #e3fcef; color: #006644; border-color: #abf5d1; }
    .btn-tomorrow.active { background-color: #e3f2fd; color: #0d47a1; border-color: #90caf9; }
    .btn-nextMonday.active { background-color: #f3e5f5; color: #6a1b9a; border-color: #e1bee7; }

    .filter-bar { display: flex; gap: 10px; flex-wrap: wrap; align-items: center; font-size: 12px; }
    .filter-group { display: flex; flex-direction: column; gap: 2px; }
    .filter-group label { font-weight: bold; color: var(--sub-text); font-size: 10px; }
    select { 
      padding: 4px; border: 1px solid var(--border-color); border-radius: var(--border-radius); 
      background: var(--input-bg); color: var(--text-color); max-width: 120px; 
    }
    
    .refresh-btn { background: var(--primary-color); color: white; border: none; padding: 6px 12px; border-radius: var(--border-radius); cursor: pointer; font-weight: bold; display: flex; align-items: center; gap: 4px; font-size: 12px; }
    
    .btn-settings {
      background: var(--card-bg); border: 1px solid var(--border-color); color: var(--sub-text);
      padding: 4px 12px; border-radius: var(--border-radius); cursor: pointer;
      margin-left: 0; 
      display: flex; align-items: center; justify-content: center; gap: 4px;
      font-size: 11px; font-weight: bold;
    }
    .btn-settings:hover { background: var(--list-bg); color: var(--primary-color); }
    
    /* ãƒ­ã‚°ã‚¢ã‚¦ãƒˆãƒœã‚¿ãƒ³ */
    .btn-logout {
      background: #eb5a46; border: 1px solid #cf513d; color: white;
      padding: 8px 12px; border-radius: var(--border-radius); cursor: pointer;
      display: flex; align-items: center; justify-content: center; gap: 4px; font-size: 12px; font-weight: bold;
      margin-top: 15px; width: 100%;
    }
    .btn-logout:hover { background: #cf513d; }

    .btn-memo {
      background: var(--list-bg); border: 1px solid var(--border-color); color: var(--text-color);
      padding: 6px 12px; border-radius: var(--border-radius); cursor: pointer;
      display: flex; align-items: center; gap: 4px; font-size: 12px; font-weight: bold;
    }
    .btn-memo:hover { background: var(--primary-color); color: white; }

.btn-omikuji {
      background: #9b59b6; /* ç´«è‰² */
      border: 1px solid #8e44ad; color: white;
      padding: 6px 12px; border-radius: var(--border-radius); cursor: pointer;
      display: flex; align-items: center; gap: 4px; font-size: 12px; font-weight: bold;
    }
    .btn-omikuji:hover { background: #8e44ad; }

    .btn-toggle-header {
      background: transparent; border: none; cursor: pointer; color: var(--sub-text);
      margin-left: 8px; padding: 4px; border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      transition: background 0.2s;
    }
    .btn-toggle-header:hover { background: var(--list-bg); color: var(--primary-color); }

    .btn-chart {
      background: #6c757d; color: white; border: none; padding: 6px 12px; border-radius: var(--border-radius); cursor: pointer; font-weight: bold; display: flex; align-items: center; gap: 4px; font-size: 12px;
    }
    .btn-chart:hover { background: #5a6268; }

    .btn-bulk-mode {
      background: #172b4d; color: white; border: none; padding: 6px 12px; border-radius: var(--border-radius); cursor: pointer; font-weight: bold; display: flex; align-items: center; gap: 4px; font-size: 12px;
    }
    .btn-bulk-mode.active { background: #eb5a46; }

    header.collapsed { padding: 5px 20px; }
    header.collapsed #header-controls { display: none !important; }
    header.collapsed #filter-bar { display: none !important; }
    header.collapsed .header-top { margin-bottom: 0; }
    header.collapsed h1 { font-size: 14px; }

    /* ãƒ¡ã‚¤ãƒ³ã‚¨ãƒªã‚¢ */
    #dashboard { flex: 1; padding: 20px; overflow-x: auto; white-space: nowrap; cursor: grab; user-select: none; }
    #dashboard.active { cursor: grabbing; }

    /* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ */
    #dashboard::-webkit-scrollbar { height: 14px; }
    #dashboard::-webkit-scrollbar-track { background: var(--scrollbar-track); }
    #dashboard::-webkit-scrollbar-thumb { background: var(--scrollbar-thumb); border-radius: 7px; border: 3px solid var(--bg-color); }
    #dashboard::-webkit-scrollbar-thumb:hover { background: #a0a6b5; }

    .list-wrapper { display: inline-block; width: 300px; margin-right: 12px; vertical-align: top; white-space: normal; }

    /* ãƒªã‚¹ãƒˆï¼ˆã‚«ãƒ©ãƒ ï¼‰ */
    .industry-column { background: var(--list-bg); border-radius: 8px; padding: 10px; max-height: calc(100vh - 160px); display: flex; flex-direction: column; transition: background 0.2s, opacity 0.2s; border: 1px solid var(--border-color); box-shadow: var(--box-shadow); }
/* â˜…ä¿®æ­£ï¼šãƒ­ãƒƒã‚¯æ™‚ã«è–„ããªã‚‰ãªã„ã‚ˆã†ã« opacity ã‚’ 1 ã«å¤‰æ›´ã—ã€æ ç·šã§åŒºåˆ¥ */
    .industry-column.locked { opacity: 1; border: 2px solid var(--sub-text); background-color: rgba(0,0,0,0.02); }
    .industry-column.locked .column-header { color: var(--sub-text); }
    .industry-column.locked .card-list { cursor: default; }

    /* â˜…ä¿®æ­£ï¼šcolorã‚’æ¿ƒã„é»’è‰²ã«æŒ‡å®š */
.column-header { padding: 8px; font-weight: 700; display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; color: #0a0a0a; }
    .column-header-actions { display: flex; align-items: center; gap: 4px; }
    
    .btn-lock {
      background: transparent; border: none; cursor: pointer; color: var(--sub-text);
      padding: 2px; border-radius: 4px;
      display: flex; align-items: center; justify-content: center;
      transition: color 0.2s;
    }
    .btn-lock:hover { background-color: rgba(9,30,66,0.08); color: var(--text-color); }
    .btn-lock.locked { color: #eb5a46; }

    .card-list { overflow-y: auto; padding-right: 4px; min-height: 10px; }
    .card-list.drag-over { background-color: rgba(0,0,0,0.1); border-radius: 4px; min-height: 60px; }

    /* ã‚«ãƒ¼ãƒ‰ */
    .trello-card {
      background: var(--card-bg); border-radius: var(--border-radius);
      box-shadow: var(--box-shadow); margin-bottom: 8px; padding: 10px;
      position: relative; display: block; text-decoration: none; color: var(--text-color);
      transition: background 0.2s, border 0.2s, box-shadow 0.2s, transform 0.2s;
      border: 2px solid transparent;
    }
    .trello-card:hover { background-color: rgba(255,255,255,0.8); }
    body.dark-mode .trello-card:hover { background-color: rgba(255,255,255,0.05); }
    .trello-card.dragging { opacity: 0.5; border: 2px dashed #0079bf; background: #e4f7fa; }
    .trello-card.selected { border-color: var(--primary-color); background-color: rgba(0, 121, 191, 0.1); }
    body.dark-mode .trello-card.selected { background-color: rgba(91, 164, 207, 0.2); }
    .trello-card.pinned { border-left: 4px solid #eb5a46; }
    .trello-card.pinned::before {
        content: "push_pin"; font-family: 'Material Icons';
        position: absolute; top: -8px; left: -8px;
        background: #eb5a46; color: white;
        border-radius: 50%; padding: 3px; font-size: 14px;
        transform: rotate(45deg); box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        z-index: 10;
    }

    .trello-label-container { display: flex; flex-wrap: wrap; gap: 4px; margin-bottom: 6px; }
    .trello-label { font-size: 10px; font-weight: 700; padding: 2px 1px; border-radius: 4px; color: #fff; display: inline-block; line-height: 1.2; }
    .label-green { background-color: #61bd4f; } .label-yellow { background-color: #f2d600; color: #172b4d; } .label-orange { background-color: #ff9f1a; } .label-red { background-color: #eb5a46; } .label-purple { background-color: #c377e0; } .label-blue { background-color: #0079bf; } .label-sky { background-color: #00c2e0; } .label-lime { background-color: #51e898; color: #172b4d; } .label-pink { background-color: #ffdceb; color: #9e1c4e; } .label-black { background-color: #344563; } .label-null { background-color: #b3bac5; }
/* æ—¢å­˜ã®ã‚¹ã‚¿ã‚¤ãƒ«å†…ã«è¿½åŠ  */
.label-pure-black { background-color: #000000 !important;  color: #ffffff !important; }

    .trello-card-name {
        margin-top: 15px;      /* â˜…ä¿®æ­£ï¼šä¸Šã®éš™é–“ã‚’å°‘ã—åºƒã’ã‚‹ */
        margin-bottom: 15px;   /* â˜…ä¿®æ­£ï¼šä¸‹ã®éš™é–“ã‚’å°‘ã—åºƒã’ã‚‹ */
        font-weight: 500;
        line-height: 1.4;
        padding-right: 25px;  /* â˜…ä¿®æ­£ï¼šå³ã®ä½™ç™½ã‚’æ¸›ã‚‰ã—ã¦ï¼ˆ45pxâ†’25pxï¼‰ã€æ–‡å­—ãŒå…¥ã‚‹å¹…ã‚’åºƒã’ã‚‹ */
        font-size: 14px;
        display: flex;
        align-items: center;  /* â˜…ä¿®æ­£ï¼šã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã¨æ–‡å­—ã®é«˜ã•ã‚’ä¸­å¤®æƒãˆã«ã™ã‚‹ */
        gap: 4px;
    }
    .construction-number { font-size: 11px; font-weight: bold; color: #fff; background-color: #505f79; padding: 1px 6px; border-radius: 3px; margin-right: 4px; vertical-align: middle; white-space: nowrap; }

    .card-actions-top-right {
        position: absolute; top: 8px; right: 8px; display: flex; gap: 4px; z-index: 5;
    }
    .action-btn {
        color: #999; cursor: pointer; padding: 4px; border-radius: 4px;
        display: flex; align-items: center; justify-content: center;
    }
    .action-btn:hover { background: rgba(0,0,0,0.1); color: var(--primary-color); }
    .assigned .action-btn.btn-edit { color: var(--primary-color); }

    .copy-btn { font-size: 14px; color: #999; cursor: pointer; padding: 2px; border-radius: 4px; visibility: hidden; transition: color 0.2s; }
    .trello-card:hover .copy-btn { visibility: visible; }
    .copy-btn:hover { background-color: rgba(0,0,0,0.1); color: var(--primary-color); }

    .due-container { display: flex; align-items: center; gap: 6px; margin-bottom: 6px; }
    .due-text { font-size: 11px; color: var(--sub-text); font-weight: 500; }
    .due-badge { display: inline-flex; align-items: center; gap: 4px; font-size: 11px; padding: 2px 6px; border-radius: 3px; font-weight: bold; }
    .due-ok { background-color: #eae6ff; color: #403294; }
    .due-soon { background-color: #fffae6; color: #b66d1d; }
    .due-overdue { background-color: #ffebe6; color: #bf2600; }
    .due-complete { background-color: #e4f7fa; color: #00768e; }

    .last-updated { font-size: 10px; color: #999; text-align: right; margin-top: 4px; }
    .tags-container { display: flex; flex-wrap: wrap; gap: 4px; margin-top: 6px; }
    .tag { font-size: 10px; padding: 2px 6px; border-radius: 4px; font-weight: bold; border: 1px solid transparent; }
    .tag-industry { background-color: #e1fcef; color: #006644; }
    .tag-prefecture { background-color: #deebff; color: #0747a6; }
    .tag-role { display: inline-flex; align-items: center; gap: 2px; }
    .tag-construction { background-color: #fff0b3; color: #172b4d; border-color: #ffe082; }
    .tag-system { background-color: #e6fcff; color: #00768e; border-color: #b3f5ff; }
    .tag-sales { background-color: #ffebe6; color: #bf2600; border-color: #ffbdad; }
    .tag-mtg { background-color: #e3fcef; color: #006644; border-color: #abf5d1; }
/* â˜…å†ä¿®æ­£ï¼šã‚·ã‚¹ãƒ†ãƒ ç¨®åˆ¥ã‚¿ã‚°ã®ãƒ‡ã‚¶ã‚¤ãƒ³ï¼ˆé»„è‰²ãƒ»ç´«ï¼‰ */
    .tag-systemType {
        /* ä¸­æ±Ÿå¼ï¼šé»„è‰²ã€œã‚ªãƒ¬ãƒ³ã‚¸ã®ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã€æ–‡å­—ã¯è¦–èªæ€§ã®ãŸã‚é»’ã£ã½ã */
        background: linear-gradient(135deg, #f1c40f, #f39c12);
        color: #2c3e50 !important; 
        border: none;
        box-shadow: 0 2px 4px rgba(243, 156, 18, 0.4);
        padding: 3px 8px;
        border-radius: 12px;
        font-weight: bold;
    }
    
    .tag-mokare {
        /* Mokareï¼šç´«è‰²ã®ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã€æ–‡å­—ã¯ç™½ */
        background: linear-gradient(135deg, #9b59b6, #8e44ad);
        color: #ffffff !important;
        border: none;
        box-shadow: 0 2px 4px rgba(142, 68, 173, 0.4);
        padding: 3px 8px;
        border-radius: 12px;
        font-weight: bold;
        text-shadow: 0 1px 1px rgba(0,0,0,0.2);
    }

/* â˜…å†ä¿®æ­£ï¼šã‚«ãƒ¼ãƒ‰å·¦ç«¯ã®ã‚«ãƒ©ãƒ¼ãƒ©ã‚¤ãƒ³ï¼ˆãã‚Œã„ãªãƒãƒ¼è¡¨ç¤ºç‰ˆï¼‰ */
    
    /* 1. ã¾ãšãƒ†ã‚­ã‚¹ãƒˆãŒç·šã«è¢«ã‚‰ãªã„ã‚ˆã†ã«å·¦ä½™ç™½ã‚’åºƒã’ã‚‹ */
    .trello-card.border-nakae, 
    .trello-card.border-mokare {
        padding-left: 16px !important; /* é€šå¸¸ã®10px + ç·šã®åˆ†6px */
    }

    /* 2. å…±é€šã®ç·šã®è¨­å®šï¼ˆ::afterã‚’ä½¿ç”¨ï¼‰ */
    .trello-card.border-nakae::after,
    .trello-card.border-mokare::after {
        content: "";
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        width: 6px; /* ç·šã®å¤ªã• */
        border-radius: 4px 0 0 4px; /* ã‚«ãƒ¼ãƒ‰ã®è§’ä¸¸ã«åˆã‚ã›ã‚‹ */
        z-index: 1;
    }

    /* ãƒ”ãƒ³ç•™ã‚ã•ã‚Œã¦ã„ã‚‹å ´åˆã®ä½ç½®èª¿æ•´ */
    /* ãƒ”ãƒ³ç•™ã‚(border-left:4px)ãŒã‚ã‚‹å ´åˆã€ç·šã¯ãã®å†…å´ã«è¡¨ç¤ºã•ã‚Œã¾ã™ */
    .trello-card.pinned.border-nakae::after,
    .trello-card.pinned.border-mokare::after {
        border-radius: 0; /* ãƒœãƒ¼ãƒ€ãƒ¼ã¨æ¥ã™ã‚‹ã®ã§è§’ä¸¸ãªã—ã« */
    }

    /* 3. è‰²ã®è¨­å®š */
    
    /* ä¸­æ±Ÿå¼ï¼šé»„è‰² */
    .trello-card.border-nakae::after {
        background-color: #f39c12;
    }

    /* Mokareï¼šç´«è‰² */
    .trello-card.border-mokare::after {
        background-color: #8e44ad;
    }

    /* ä¸¡æ–¹è¨­å®šã•ã‚Œã¦ã„ã‚‹å ´åˆï¼šã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ */
    .trello-card.border-nakae.border-mokare::after {
        background: linear-gradient(to bottom, #f39c12, #8e44ad);
    }

    .card-memo-container { margin-top: 6px; display: flex; flex-direction: column; gap: 2px; }
    .card-memo { font-size: 11px; color: var(--text-color); background-color: var(--input-bg); border: 1px solid var(--border-color); border-radius: 3px; padding: 2px 6px; word-break: break-word; line-height: 1.3; }

    .btn-custom-link { display: inline-flex; align-items: center; gap: 4px; margin-top: 8px; padding: 4px 8px; background-color: var(--input-bg); border: 1px solid var(--border-color); border-radius: 3px; color: var(--text-color); font-size: 11px; font-weight: bold; text-decoration: none; cursor: pointer; }
    .btn-custom-link:hover { background-color: var(--list-bg); color: var(--primary-color); }

    /* ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ */
    .context-menu {
        position: fixed; background: var(--card-bg); border: 1px solid var(--border-color);
        box-shadow: 0 4px 12px rgba(0,0,0,0.15); border-radius: 4px; z-index: 5000;
        min-width: 180px; padding: 4px 0; font-size: 13px;
        color: var(--text-color);
    }
    .context-menu-item {
        padding: 8px 16px; cursor: pointer; display: flex; align-items: center; gap: 8px;
    }
    .context-menu-item:hover { background: var(--list-bg); color: var(--primary-color); }
    .context-menu-divider { border-top: 1px solid var(--border-color); margin: 4px 0; }

    /* ãƒ¢ãƒ¼ãƒ€ãƒ«å…±é€š */
    .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.5); display: flex; justify-content: center; align-items: center; z-index: 2000; }
    .modal { background: var(--card-bg); padding: 24px; border-radius: var(--border-radius); width: 400px; box-shadow: 0 4px 12px rgba(0,0,0,0.2); max-height: 90vh; overflow-y: auto; color: var(--text-color); border: 1px solid var(--border-color); }
    .modal h3 { margin-top: 0; margin-bottom: 15px; font-size: 16px; border-bottom: 1px solid var(--border-color); padding-bottom: 10px; }
    .form-group { margin-bottom: 12px; }
    .form-group label { display: block; font-size: 11px; font-weight: bold; color: var(--sub-text); margin-bottom: 4px; }
    .form-group select, .form-group input, .form-group textarea { width: 100%; padding: 8px; box-sizing: border-box; border: 1px solid var(--border-color); border-radius: var(--border-radius); background: var(--input-bg); color: var(--text-color); max-width: none; font-size: 12px; font-family: inherit; }
    .modal-buttons { display: flex; justify-content: flex-end; gap: 10px; margin-top: 20px; }
    .btn-save { background: var(--primary-color); color: white; border: none; padding: 8px 16px; border-radius: var(--border-radius); cursor: pointer; font-weight: bold; }
    .btn-cancel { background: var(--list-bg); color: var(--text-color); border: none; padding: 8px 16px; border-radius: var(--border-radius); cursor: pointer; }

    /* ä¸€æ‹¬æ“ä½œãƒãƒ¼ */
    #bulk-action-bar {
      position: fixed; bottom: 0; left: 0; width: 100%;
      background: var(--primary-color); color: white;
      padding: 10px 20px; box-sizing: border-box;
      display: flex; justify-content: space-between; align-items: center;
      z-index: 2100; transform: translateY(100%); transition: transform 0.3s;
    }
    #bulk-action-bar.visible { transform: translateY(0); }
    .bulk-actions { display: flex; gap: 10px; }
    .btn-bulk-action {
      background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.4);
      color: white; padding: 6px 12px; border-radius: var(--border-radius); cursor: pointer; font-weight: bold; font-size: 12px;
      display: flex; align-items: center; gap: 4px;
    }
    .btn-bulk-action:hover { background: rgba(255,255,255,0.3); }

    /* ç§»å‹•ç”¨ãƒ¢ãƒ¼ãƒ€ãƒ« ãƒªã‚¹ãƒˆé¸æŠUI */
    .move-list-container {
      height: 250px; overflow-y: auto;
      border: 1px solid var(--border-color); border-radius: 4px; background: var(--input-bg);
    }
    .list-section-header {
      font-size: 10px; font-weight: bold; color: var(--sub-text); padding: 8px 12px 4px;
      background: var(--bg-color); position: sticky; top: 0; z-index: 1;
    }
    .move-list-item {
      padding: 8px 12px; cursor: pointer; display: flex; justify-content: space-between; align-items: center;
      border-bottom: 1px solid var(--border-color); font-size: 13px; transition: background 0.1s;
      color: var(--text-color);
    }
    .move-list-item:hover { background-color: var(--list-bg); }
    .move-list-item.selected { background-color: #e6fcff; color: #00768e; font-weight: bold; }
    body.dark-mode .move-list-item.selected { background-color: #0c3e4b; color: #7ee2ff; }

    /* ãŠæ°—ã«å…¥ã‚Šã‚¹ã‚¿ãƒ¼ãƒœã‚¿ãƒ³ */
    .btn-star-list { color: var(--border-color); cursor: pointer; font-size: 18px; line-height: 1; padding: 2px; transition: color 0.2s; }
    .btn-star-list:hover { color: #ff9f1a; }
    .btn-star-list.active { color: #ff9f1a; }

    .hidden { display: none !important; }
    #loading { position: fixed; inset: 0; background: rgba(255,255,255,0.8); display: flex; justify-content: center; align-items: center; z-index: 1000; font-weight: bold; color: var(--primary-color); }
    body.dark-mode #loading { background: rgba(0,0,0,0.8); }
    #error-msg { color: #eb5a46; font-weight: bold; padding: 20px; }

    #toast { visibility: hidden; min-width: 250px; background-color: #333; color: #fff; text-align: center; border-radius: 4px; padding: 12px; position: fixed; z-index: 3000; left: 50%; bottom: 80px; transform: translateX(-50%); font-size: 13px; box-shadow: 0 2px 10px rgba(0,0,0,0.2); opacity: 0; transition: opacity 0.3s; }
    #toast.show { visibility: visible; opacity: 1; }

    /* XPç²å¾—ãƒˆãƒ¼ã‚¹ãƒˆ */
    .xp-toast {
        position: fixed; pointer-events: none; z-index: 4000;
        color: #ffd700; font-weight: bold; font-size: 16px;
        text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        animation: floatUp 1.5s ease-out forwards;
    }
    @keyframes floatUp { 0% { opacity: 1; transform: translateY(0); } 100% { opacity: 0; transform: translateY(-50px); } }

    /* ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—ãƒ•ã‚¡ãƒ³ãƒ•ã‚¡ãƒ¼ãƒ¬ */
    .levelup-overlay {
        position: fixed; inset: 0; background: rgba(0,0,0,0.7);
        display: flex; flex-direction: column; justify-content: center; align-items: center;
        z-index: 5000; animation: fadeIn 0.5s;
    }
    .levelup-box {
        background: linear-gradient(135deg, #fce38a, #f38181);
        padding: 40px; border-radius: 20px; text-align: center;
        box-shadow: 0 0 30px rgba(255, 215, 0, 0.8);
        transform: scale(0.8); animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        color: #fff;
    }
    .levelup-box h2 { font-size: 32px; margin: 0; text-shadow: 2px 2px 0 rgba(0,0,0,0.2); }
    .levelup-rank { font-size: 24px; margin: 10px 0; font-weight: bold; }
    @keyframes popIn { to { transform: scale(1); } }

#bg-video-container {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -10;
      overflow: hidden; background-size: cover; background-position: center; background-repeat: no-repeat;
      pointer-events: none;
      transform-origin: center center;
      /* ä½ç½®(X,Y) ã¨ æ‹¡å¤§(Scale) ã‚’é©ç”¨ */
      transform: translate(var(--bg-x), var(--bg-y)) scale(var(--bg-scale));
      transition: transform 0.1s linear; /* ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼æ“ä½œã«åˆã‚ã›ã¦å°‘ã—ã‚­ãƒ“ã‚­ãƒ“å‹•ãã‚ˆã†ã«èª¿æ•´ */
    }
    #bg-video { position: absolute; top: 50%; left: 50%; min-width: 100%; min-height: 100%; width: auto; height: auto; transform: translateX(-50%) translateY(-50%); display: none; }
    #bg-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #000; opacity: 0; transition: opacity 0.3s; }
    body.has-custom-bg { background-color: transparent !important; }
    body.has-custom-bg .industry-column { background: rgba(235, 236, 240, 0.85); backdrop-filter: blur(5px); }
    body.has-custom-bg.dark-mode .industry-column { background: rgba(30, 30, 30, 0.85); }

    /* ãã®ä»–ãƒ¡ãƒ‹ãƒ¥ãƒ¼é¡ */
    .dropdown-container { position: relative; display: inline-block; }
    .dropdown-menu { position: absolute; top: 100%; right: 0; margin-top: 4px; background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 4px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); z-index: 100; min-width: 200px; padding: 8px 0; max-height: 300px; overflow-y: auto; }
    .dropdown-item { display: flex; align-items: center; padding: 6px 12px; font-size: 12px; color: var(--text-color); cursor: pointer; user-select: none; }
    .dropdown-item:hover { background: var(--list-bg); }
    
    .sidebar-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.4); z-index: 2500; opacity: 0; transition: opacity 0.3s; pointer-events: none; }
    .sidebar-overlay.open { opacity: 1; pointer-events: auto; }
    .sidebar-right { position: fixed; top: 0; right: -420px; width: 400px; height: 100vh; background: var(--bg-color); box-shadow: -2px 0 10px rgba(0,0,0,0.1); transition: right 0.3s cubic-bezier(0.25, 0.8, 0.25, 1); z-index: 2600; display: flex; flex-direction: column; color: var(--text-color); }
    .sidebar-right.open { right: 0; }
    /* --- â˜…è¿½åŠ ï¼šã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒ˜ãƒƒãƒ€ãƒ¼ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆä¿®æ­£ --- */
.sidebar-header {
    background: var(--header-bg);
    padding: 15px 20px;
    border-bottom: 1px solid var(--border-color);
    display: flex;
    flex-direction: column; /* ä¸Šä¸‹ã«ä¸¦ã¹ã‚‹ */
    gap: 15px;              /* ã‚¿ã‚¤ãƒˆãƒ«ã¨æ¤œç´¢çª“ã®é–“éš” */
}

.sidebar-header-top {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
}

/* ã‚¿ã‚¤ãƒˆãƒ«ã®ãƒãƒ¼ã‚¸ãƒ³ã‚’ãƒªã‚»ãƒƒãƒˆ */
.sidebar-header h3 {
    margin: 0;
    display: flex;
    align-items: center;
    gap: 5px;
}
    .close-sidebar-btn { background: none; border: none; cursor: pointer; color: #666; padding: 4px; border-radius: 4px; }
    .close-sidebar-btn:hover { background: var(--list-bg); color: var(--text-color); }
    #sidebar-content { flex: 1; overflow-y: auto; padding: 20px; }
    .sidebar-list-header { font-size: 13px; font-weight: bold; color: var(--text-color); background-color: var(--list-bg); padding: 6px 10px; border-radius: 4px; margin-top: 15px; margin-bottom: 8px; }

/* --- ãƒ¡ãƒ¢å¸³ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆä¿®æ­£ --- */
/* ãƒ¢ãƒ¼ãƒ€ãƒ«å¹…ã‚’åºƒã’ã‚‹ */
#memo-modal .modal {
  width: 1200px; /* åºƒã’ã¾ã—ãŸ */
  max-width: 95vw;
  height: 85vh;
  display: flex;
  flex-direction: column;
}

/* 3ã‚«ãƒ©ãƒ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç”¨ã‚³ãƒ³ãƒ†ãƒŠ */
.memo-container {
  display: flex;
  flex: 1;
  gap: 15px;
  overflow: hidden;
  min-height: 0;
}

/* å·¦ï¼šå…¥åŠ›ã‚¨ãƒªã‚¢ */
.memo-left-panel {
  flex: 0 0 300px;
  display: flex;
  flex-direction: column;
  overflow-y: auto;
  padding-right: 10px;
  border-right: 1px solid var(--border-color);
}
/* ä¸­å¤®ï¼šæœªå®Œäº†ãƒªã‚¹ãƒˆã‚¨ãƒªã‚¢ */
.memo-center-panel {
  flex: 1;
  display: flex;
  flex-direction: column;
  background-color: var(--bg-color); /* å°‘ã—è‰²ã‚’ã¤ã‘ã‚‹ */
  border-radius: 8px;
  padding: 10px;
  overflow: hidden;
  border: 1px solid var(--border-color);
}
/* å³ï¼šå®Œäº†æ¸ˆã¿ãƒªã‚¹ãƒˆã‚¨ãƒªã‚¢ */
.memo-right-panel {
  flex: 1;
  display: flex;
  flex-direction: column;
  background-color: #f0f2f5; /* å®Œäº†æ¸ˆã¿ã£ã½ã„è‰² */
  border-radius: 8px;
  padding: 10px;
  overflow: hidden;
  border: 1px solid var(--border-color);
}
/* ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ */
body.dark-mode .memo-right-panel {
  background-color: #2c333a;
}
    .memo-tabs { display: flex; border-bottom: 1px solid var(--border-color); margin-bottom: 15px; flex-shrink: 0; }
    .memo-tab { flex: 1; text-align: center; padding: 10px; cursor: pointer; font-weight: bold; color: var(--sub-text); border-bottom: 2px solid transparent; }
    .memo-tab.active { color: var(--primary-color); border-bottom-color: var(--primary-color); }
    
    /* ãƒªã‚¹ãƒˆå…±é€š */
.memo-list {
  list-style: none;
  padding: 0;
  margin: 0;
  flex: 1;
  overflow-y: auto;
  padding-right: 5px;
}
    .memo-item { background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 4px; padding: 10px; margin-bottom: 8px; position: relative; box-shadow: 0 1px 2px rgba(0,0,0,0.05); }
    .memo-header { display: flex; justify-content: space-between; align-items: center; font-size: 10px; color: var(--sub-text); margin-bottom: 6px; padding-bottom: 4px; border-bottom: 1px dashed var(--border-color); }
    .memo-content { font-size: 13px; white-space: pre-wrap; line-height: 1.5; color: var(--text-color); }
    .memo-notify { font-size: 11px; color: #e67e22; margin-top: 6px; font-weight: bold; display: flex; align-items: center; gap: 4px; }
    .btn-delete-memo { cursor: pointer; color: #999; padding: 4px; border-radius: 4px; }
    .btn-delete-memo:hover { color: #eb5a46; background: rgba(0,0,0,0.05); }

/* ãƒ­ã‚°ãƒ¢ãƒ¼ãƒ€ãƒ«ç”¨ãƒªã‚¹ãƒˆã‚¹ã‚¿ã‚¤ãƒ« */
    .log-list {
        list-style: none; padding: 0; margin: 0;
        max-height: 400px; overflow-y: auto;
    }
    .log-item {
        padding: 10px; border-bottom: 1px solid var(--border-color);
        font-size: 12px;
    }
    .log-item:last-child { border-bottom: none; }
    .log-date { color: var(--sub-text); font-size: 10px; margin-bottom: 2px; }
    .log-user { font-weight: bold; color: var(--primary-color); margin-right: 5px; }
    .log-action { color: var(--text-color); }

    .related-users-selector { display: flex; flex-wrap: wrap; gap: 6px; margin-top: 8px; margin-bottom: 15px; padding: 10px; background: var(--input-bg); border: 1px solid var(--border-color); border-radius: 4px; }
    .user-chip { font-size: 11px; padding: 4px 10px; border-radius: 12px; border: 1px solid var(--border-color); background: var(--card-bg); color: var(--text-color); cursor: pointer; user-select: none; transition: all 0.2s; }
    .user-chip:hover { border-color: var(--primary-color); }
    .user-chip.selected { background: var(--primary-color); color: white; border-color: var(--primary-color); }
    .memo-related-tags { margin-top: 6px; display: flex; flex-wrap: wrap; gap: 4px; }
    .memo-tag { font-size: 10px; background: #e4f7fa; color: #00768e; padding: 2px 6px; border-radius: 4px; }

    /* â˜… è¿½åŠ æ©Ÿèƒ½ç”¨ã‚¹ã‚¿ã‚¤ãƒ« â˜… */
    /* ã‚´ãƒƒãƒ‰ãƒ¢ãƒ¼ãƒ‰ï¼ˆè™¹è‰²ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ï¼‰ */
    @keyframes rainbow-flash { 0% { background-position: 0% 50%; } 100% { background-position: 100% 50%; } }
    .rainbow-overlay {
        position: fixed; inset: 0; pointer-events: none; z-index: 9999;
        background: linear-gradient(45deg, rgba(255,0,0,0.2), rgba(255,165,0,0.2), rgba(255,255,0,0.2), rgba(0,128,0,0.2), rgba(0,0,255,0.2), rgba(75,0,130,0.2), rgba(238,130,238,0.2));
        background-size: 300% 300%;
        animation: rainbow-flash 1s linear infinite;
        display: none;
    }
    .god-mode-active .rainbow-overlay { display: block; }
    
    /* é›†ä¸­BGMãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ */
    #bgm-player {
        position: fixed; bottom: 20px; left: 20px;
        background: var(--card-bg); border: 1px solid var(--border-color);
        padding: 10px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        z-index: 1500; display: flex; flex-direction: column; gap: 8px;
        width: 140px; transition: opacity 0.3s; overflow: hidden;
    }
    #bgm-player:hover { opacity: 1; }
/* ã€å¤‰æ›´å¾Œã€‘ ç«‹ä½“çš„ã§å°‘ã—å¤§ããªã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ã«ã—ã¾ã™ */
#bgm-player.minimized {
    width: 56px;                /* å°‘ã—å¤§ããã—ã¦æŠ¼ã—ã‚„ã™ã */
    height: 56px;
    padding: 0;
    border-radius: 50%;         /* çœŸã‚“ä¸¸ */
    
    /* ä¸­èº«ã‚’ä¸­å¤®æƒãˆ */
    display: flex;
    align-items: center;
    justify-content: center;

    /* ãƒ‡ã‚¶ã‚¤ãƒ³ï¼šã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã¨ç™½ã„æ ç·š */
    background: linear-gradient(135deg, #00c2e0, #0079bf);
    color: white;
    border: 3px solid #ffffff;
    
    /* å½±ã‚’ã¤ã‘ã¦æµ®ã‹ã›ã‚‹ */
    box-shadow: 0 4px 10px rgba(0, 121, 191, 0.5);
    
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* ã·ã‚‹ã‚“ã¨å‹•ãã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
}

/* ãƒ›ãƒãƒ¼æ™‚ã®å‹•ã */
#bgm-player.minimized:hover {
    transform: scale(1.1) rotate(10deg); /* å°‘ã—æ‹¡å¤§ã—ã¦å‚¾ã */
    box-shadow: 0 8px 20px rgba(0, 194, 224, 0.6); /* å½±ã‚’å¼·ã */
}

/* æœ€å°åŒ–æ™‚ã®ã‚¢ã‚¤ã‚³ãƒ³èª¿æ•´ */
#bgm-player.minimized .bgm-minimized-icon {
    display: block;
    font-size: 28px; /* ã‚¢ã‚¤ã‚³ãƒ³ã‚’å°‘ã—å¤§ãã */
    text-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

    .bgm-header-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 2px; }
    .bgm-header { font-size: 10px; font-weight: bold; color: var(--sub-text); margin: 0; }
    .btn-bgm-minimize { cursor: pointer; color: var(--sub-text); border: none; background: none; padding: 0; display: flex; align-items: center; }
    .btn-bgm-minimize:hover { color: var(--text-color); }

    .bgm-btn {
        display: flex; align-items: center; gap: 8px; cursor: pointer;
        padding: 6px; border-radius: 4px; transition: background 0.2s;
        font-size: 11px; color: var(--text-color);
    }
    .bgm-btn:hover { background: var(--list-bg); }
    .bgm-btn.active { color: var(--primary-color); font-weight: bold; background: rgba(0,121,191,0.1); }
    .bgm-volume { width: 100%; cursor: pointer; }

    /* ã‚²ãƒ¼ãƒŸãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ¼”å‡ºç³» */
    /* ã‚¯ãƒªãƒƒã‚¯ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ« */
    .click-particle {
        position: fixed; pointer-events: none; width: 6px; height: 6px; border-radius: 50%;
        background: var(--xp-color); z-index: 9999;
        animation: particleFade 0.8s ease-out forwards;
    }
    @keyframes particleFade {
        0% { transform: scale(1) translate(0, 0); opacity: 1; }
        100% { transform: scale(0) translate(var(--tx), var(--ty)); opacity: 0; }
    }

/* =========================================
       ã‚²ãƒ¼ãƒŸãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ¼”å‡ºç³»ï¼ˆå¼·åŒ–ç‰ˆï¼‰
       ========================================= */
    
    /* â–¼â–¼â–¼ ã‚«ãƒ¼ã‚½ãƒ«è¿½åŠ  (5å€‹) â–¼â–¼â–¼ */
    /* æ—¢å­˜: sword, wand, tool */
    body.cursor-sword { cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.5 17.5L3 6V3h3l11.5 11.5"/><path d="M13 19l6-6"/><path d="M16 16l4 4"/><path d="M19 21l2-2"/></svg>'), auto; }
    body.cursor-wand { cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="purple" stroke-width="2"><line x1="2" y1="22" x2="10" y2="14"/><path d="M13 11l2-2 4 4-2 2z"/></svg>'), auto; }
    body.cursor-tool { cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="gray" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>'), auto; }
    /* è¿½åŠ åˆ† */
    body.cursor-crosshair { cursor: crosshair; }
    body.cursor-cat { cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><text y="20" font-size="20">ğŸ±</text></svg>'), auto; }
    body.cursor-rocket { cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><text y="20" font-size="20">ğŸš€</text></svg>'), auto; }
    body.cursor-diamond { cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><text y="20" font-size="20">ğŸ’</text></svg>'), auto; }
    body.cursor-magic { cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><text y="20" font-size="20">âœ¨</text></svg>'), auto; }

/* ã‚²ãƒ¼ãƒŸãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ¼”å‡ºç³» */
    /* ã‚¯ãƒªãƒƒã‚¯ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ï¼ˆåŸºæœ¬ã‚¹ã‚¿ã‚¤ãƒ«ï¼‰ */
    .click-particle {
        position: fixed; pointer-events: none; width: 8px; height: 8px; border-radius: 50%;
        background: var(--xp-color); z-index: 9999;
        animation: particleFade 0.8s ease-out forwards;
    }
    @keyframes particleFade {
        0% { transform: scale(1) translate(0, 0); opacity: 1; }
        100% { transform: scale(0) translate(var(--tx), var(--ty)); opacity: 0; }
    }
    /* è‰²é•ã„ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ« */
    .click-particle.p-fire { background: #ff4500; box-shadow: 0 0 4px #ff4500; }
    .click-particle.p-ice { background: #00ffff; box-shadow: 0 0 4px #00ffff; }
    .click-particle.p-sakura { background: #ffb7c5; border-radius: 0; width:10px; height:10px; clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%); }
    .click-particle.p-coin { background: #ffd700; border: 1px solid #daa520; }
    .click-particle.p-dark { background: #000000; box-shadow: 0 0 4px #800080; }

    /* ã‚«ã‚¹ã‚¿ãƒ ã‚«ãƒ¼ã‚½ãƒ« */
    body.cursor-sword { cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.5 17.5L3 6V3h3l11.5 11.5"/><path d="M13 19l6-6"/><path d="M16 16l4 4"/><path d="M19 21l2-2"/></svg>'), auto; }
    body.cursor-wand { cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="purple" stroke-width="2"><line x1="2" y1="22" x2="10" y2="14"/><path d="M13 11l2-2 4 4-2 2z"/></svg>'), auto; }
    body.cursor-tool { cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="gray" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>'), auto; }
    /* è¿½åŠ ã‚«ãƒ¼ã‚½ãƒ« */
    body.cursor-crosshair { cursor: crosshair; }
    body.cursor-cat { cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><text y="20" font-size="20">ğŸ±</text></svg>'), auto; }
    body.cursor-rocket { cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><text y="20" font-size="20">ğŸš€</text></svg>'), auto; }
    body.cursor-diamond { cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><text y="20" font-size="20">ğŸ’</text></svg>'), auto; }
    body.cursor-magic { cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><text y="20" font-size="20">âœ¨</text></svg>'), auto; }

    /* ã‚ªãƒ¼ãƒ©ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ (God Mode / æ‹…å½“ã‚«ãƒ¼ãƒ‰) */
    @keyframes auraPulse { from { box-shadow: 0 0 5px var(--xp-color); } to { box-shadow: 0 0 15px var(--xp-color); border-color: var(--xp-color); } }
    @keyframes auraFire { 0% { box-shadow: 0 0 5px #ff4500; border-color: #ff4500; } 50% { box-shadow: 0 0 20px #ff8c00; border-color: #ff8c00; } 100% { box-shadow: 0 0 5px #ff4500; border-color: #ff4500; } }
    @keyframes auraIce { 0% { box-shadow: 0 0 5px #00ffff; } 50% { box-shadow: 0 0 15px #e0ffff; filter: brightness(1.2); } 100% { box-shadow: 0 0 5px #00ffff; } }
    @keyframes auraThunder { 0%, 100% { box-shadow: 0 0 5px #ffd700; } 50% { box-shadow: 0 0 25px #ffff00; } 10%, 90% { transform: translate(1px, 1px); } }
    @keyframes auraDark { 0% { box-shadow: 0 0 10px #000; border-color:#4b0082; } 50% { box-shadow: 0 0 20px #4b0082; border-color:#800080; } 100% { box-shadow: 0 0 10px #000; border-color:#4b0082; } }
    @keyframes auraRainbow { 0% { border-color: red; box-shadow: 0 0 10px red; } 20% { border-color: yellow; box-shadow: 0 0 10px yellow; } 40% { border-color: green; box-shadow: 0 0 10px green; } 60% { border-color: cyan; box-shadow: 0 0 10px cyan; } 80% { border-color: blue; box-shadow: 0 0 10px blue; } 100% { border-color: magenta; box-shadow: 0 0 10px magenta; } }

    .trello-card.card-aura { box-shadow: 0 0 10px var(--xp-color); animation: auraPulse 2s infinite alternate; }
    .trello-card.card-aura-std { animation: auraPulse 2s infinite alternate; }
    .trello-card.card-aura-fire { animation: auraFire 1.5s infinite; border: 1px solid #ff4500; }
    .trello-card.card-aura-ice { animation: auraIce 3s infinite; border: 1px solid #00ffff; }
    .trello-card.card-aura-thunder { animation: auraThunder 0.2s infinite; border: 1px solid #ffd700; }
    .trello-card.card-aura-dark { animation: auraDark 4s infinite; border: 1px solid #000; background-color: #2c2c2c !important; color: #fff !important; }
    .trello-card.card-aura-rainbow { animation: auraRainbow 2s infinite linear; border-width: 2px; }

    /* ã‚«ãƒ¼ãƒ‰ã‚¹ã‚­ãƒ³ */
    .trello-card.skin-silver { background: linear-gradient(135deg, #e0e0e0, #ffffff); border: 1px solid #c0c0c0; }
    .trello-card.skin-gold { background: linear-gradient(135deg, #fff8db, #ffd700); border: 1px solid #e6c200; box-shadow: 0 2px 5px rgba(218, 165, 32, 0.4); animation: goldShine 3s infinite; }
    @keyframes goldShine { 0%,100% { filter: brightness(1); } 50% { filter: brightness(1.1); } }
    .trello-card.skin-hologram { background: linear-gradient(135deg, #e0c3fc, #8ec5fc); border: 1px solid #a0a0ff; opacity: 0.95; }
    .trello-card.skin-blackdiamond { background: #2c3e50; color: #ecf0f1; border: 1px solid #34495e; }
    .trello-card.skin-blueprint { background-color: #2980b9; background-image: linear-gradient(rgba(255,255,255,0.2) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.2) 1px, transparent 1px); background-size: 10px 10px; color: #fff; font-family: 'Klee One', cursive; border: 1px solid #fff; }
    .trello-card.skin-matrix { background: #000; color: #0f0; border: 1px solid #0f0; font-family: 'Courier New', monospace; box-shadow: 0 0 5px #0f0; }
    .trello-card.skin-gaming { background: #111; border: 2px solid; border-image: linear-gradient(45deg, #f00, #ff0, #0f0, #0ff, #00f, #f0f) 1; color: #fff; }
    .trello-card.skin-rain { background: linear-gradient(to bottom, #a1c4fd, #c2e9fb); border: 1px solid #89b0ea; }
    .trello-card.skin-zen { background: #fdfbf7; border: 1px solid #d4c4b5; font-family: 'Shippori Mincho', serif; background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0IiBoZWlnaHQ9IjQiPgo8cmVjdCB3aWR0aD0iNCIgaGVpZ2h0PSI0IiBmaWxsPSIjZjNmMGU2Ii8+CjxyZWN0IHdpZHRoPSI0IiBoZWlnaHQ9IjQiIGZpbGw9IiNkZGQiIG9wYWNpdHk9IjAuMiIvPgo8L3N2Zz4='); }
    .trello-card.skin-paw { background: #fff0f5; border: 2px dashed #ffb7b2; border-radius: 12px; }

    /* â–¼â–¼â–¼ ã‚ªãƒ¼ãƒ©ã‚¨ãƒ•ã‚§ã‚¯ãƒˆè¿½åŠ  (5å€‹) â–¼â–¼â–¼ */
    /* åŸºæœ¬ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
    @keyframes auraPulse { from { box-shadow: 0 0 5px var(--xp-color); } to { box-shadow: 0 0 15px var(--xp-color); border-color: var(--xp-color); } }
    @keyframes auraFire { 0% { box-shadow: 0 0 5px #ff4500; border-color: #ff4500; } 50% { box-shadow: 0 0 20px #ff8c00; border-color: #ff8c00; } 100% { box-shadow: 0 0 5px #ff4500; border-color: #ff4500; } }
    @keyframes auraIce { 0% { box-shadow: 0 0 5px #00ffff; } 50% { box-shadow: 0 0 15px #e0ffff; filter: brightness(1.2); } 100% { box-shadow: 0 0 5px #00ffff; } }
    @keyframes auraThunder { 0%, 100% { box-shadow: 0 0 5px #ffd700; } 50% { box-shadow: 0 0 25px #ffff00; } 10%, 90% { transform: translate(1px, 1px); } }
    @keyframes auraDark { 0% { box-shadow: 0 0 10px #000; border-color:#4b0082; } 50% { box-shadow: 0 0 20px #4b0082; border-color:#800080; } 100% { box-shadow: 0 0 10px #000; border-color:#4b0082; } }
    @keyframes auraRainbow { 0% { border-color: red; box-shadow: 0 0 10px red; } 20% { border-color: yellow; box-shadow: 0 0 10px yellow; } 40% { border-color: green; box-shadow: 0 0 10px green; } 60% { border-color: cyan; box-shadow: 0 0 10px cyan; } 80% { border-color: blue; box-shadow: 0 0 10px blue; } 100% { border-color: magenta; box-shadow: 0 0 10px magenta; } }

    .trello-card.card-aura-std { animation: auraPulse 2s infinite alternate; }
    .trello-card.card-aura-fire { animation: auraFire 1.5s infinite; border: 1px solid #ff4500; }
    .trello-card.card-aura-ice { animation: auraIce 3s infinite; border: 1px solid #00ffff; }
    .trello-card.card-aura-thunder { animation: auraThunder 0.2s infinite; border: 1px solid #ffd700; }
    .trello-card.card-aura-dark { animation: auraDark 4s infinite; border: 1px solid #000; background-color: #2c2c2c !important; color: #fff !important; }
    .trello-card.card-aura-rainbow { animation: auraRainbow 2s infinite linear; border-width: 2px; }

    /* ã‚«ãƒ¼ãƒ‰ã‚¹ã‚­ãƒ³ */
    .trello-card.skin-silver { background: linear-gradient(135deg, #e0e0e0, #ffffff); border: 1px solid #c0c0c0; }
    .trello-card.skin-gold { background: linear-gradient(135deg, #fff8db, #ffd700); border: 1px solid #e6c200; box-shadow: 0 2px 5px rgba(218, 165, 32, 0.4); animation: goldShine 3s infinite; }
    @keyframes goldShine { 0%,100% { filter: brightness(1); } 50% { filter: brightness(1.1); } }
    .trello-card.skin-hologram { background: linear-gradient(135deg, #e0c3fc, #8ec5fc); border: 1px solid #a0a0ff; opacity: 0.95; }
    .trello-card.skin-blackdiamond { background: #2c3e50; color: #ecf0f1; border: 1px solid #34495e; }
    .trello-card.skin-blueprint { background-color: #2980b9; background-image: linear-gradient(rgba(255,255,255,0.2) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.2) 1px, transparent 1px); background-size: 10px 10px; color: #fff; font-family: 'Klee One', cursive; border: 1px solid #fff; }
    .trello-card.skin-matrix { background: #000; color: #0f0; border: 1px solid #0f0; font-family: 'Courier New', monospace; box-shadow: 0 0 5px #0f0; }
    .trello-card.skin-gaming { background: #111; border: 2px solid; border-image: linear-gradient(45deg, #f00, #ff0, #0f0, #0ff, #00f, #f0f) 1; color: #fff; }
    .trello-card.skin-rain { background: linear-gradient(to bottom, #a1c4fd, #c2e9fb); border: 1px solid #89b0ea; }
    .trello-card.skin-zen { background: #fdfbf7; border: 1px solid #d4c4b5; font-family: 'Shippori Mincho', serif; background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0IiBoZWlnaHQ9IjQiPgo8cmVjdCB3aWR0aD0iNCIgaGVpZ2h0PSI0IiBmaWxsPSIjZjNmMGU2Ii8+CjxyZWN0IHdpZHRoPSI0IiBoZWlnaHQ9IjQiIGZpbGw9IiNkZGQiIG9wYWNpdHk9IjAuMiIvPgo8L3N2Zz4='); }
    .trello-card.skin-paw { background: #fff0f5; border: 2px dashed #ffb7b2; border-radius: 12px; }

    /* è¨­å®šã‚¿ãƒ– */
    .settings-tabs { display: flex; border-bottom: 1px solid var(--border-color); margin-bottom: 15px; }
    .settings-tab { padding: 10px 15px; cursor: pointer; color: var(--sub-text); border-bottom: 2px solid transparent; font-weight: bold; }
    .settings-tab.active { color: var(--primary-color); border-bottom-color: var(--primary-color); }
    .settings-content { display: none; }
    .settings-content.active { display: block; }
    .toggle-switch { position: relative; display: inline-block; width: 36px; height: 20px; vertical-align: middle; margin-right: 8px; }
    .toggle-switch input { opacity: 0; width: 0; height: 0; }
    .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 20px; }
.slider:before { position: absolute; content: ""; height: 16px; width: 16px; left: 2px; bottom: 2px; background-color: white; transition: .4s; border-radius: 50%; }
    input:checked + .slider { background-color: var(--primary-color); }
    input:checked + .slider:before { transform: translateX(16px); }

    /* â–¼â–¼â–¼ è¿½åŠ æ©Ÿèƒ½ç”¨ã‚¹ã‚¿ã‚¤ãƒ« â–¼â–¼â–¼ */
    /* 1. ãƒ•ã‚©ãƒ³ãƒˆå¤‰æ›´ */
    body.font-retro { font-family: 'DotGothic16', sans-serif !important; }
    body.font-hand { font-family: 'Klee One', cursive !important; }
    body.font-mincho { font-family: 'Shippori Mincho', serif !important; }
    body.font-sf { font-family: 'Orbitron', sans-serif !important; }

    /* 2. ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ */
    body.scroll-rainbow ::-webkit-scrollbar-thumb { background: linear-gradient(180deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3); border-radius: 10px; border: 2px solid white; }
    body.scroll-cat ::-webkit-scrollbar-thumb { background-color: #ffb7b2; border-radius: 20px; border: 3px dashed #fff; }
    body.scroll-sword ::-webkit-scrollbar-thumb { background: linear-gradient(90deg, #888, #eee, #888); border-radius: 0; border: 1px solid #555; }
    body.scroll-neon ::-webkit-scrollbar-track { background: #000; }
    body.scroll-neon ::-webkit-scrollbar-thumb { background: #00fff9; box-shadow: 0 0 10px #00fff9; border: none; }

    /* 3. ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒã‚¹ã‚³ãƒƒãƒˆ */
    #desktop-mascot {
        position: fixed; z-index: 8000; font-size: 40px; pointer-events: auto; cursor: pointer;
        transition: top 2s ease-in-out, left 2s ease-in-out, transform 0.2s;
        filter: drop-shadow(0 2px 5px rgba(0,0,0,0.3)); user-select: none;
    }
    #desktop-mascot:active { transform: scale(0.8); }
    #desktop-mascot.jumping { animation: mascotJump 0.5s; }
    @keyframes mascotJump { 0% { transform: translateY(0); } 50% { transform: translateY(-30px); } 100% { transform: translateY(0); } }

/* index.html ã® <style> å†…ã®æœ«å°¾ã«è¿½åŠ  */

/* â˜…è¿½åŠ ï¼šã‚«ãƒ¼ãƒ‰ä¸Šã®ãƒ¡ãƒ¢ãƒœã‚¿ãƒ³ */
.btn-card-memo-trigger {
/* â˜…ä¿®æ­£ï¼šçµ¶å¯¾é…ç½®ã«å¤‰æ›´ã—ã¦å³ä¸Šã«å›ºå®š */
  position: absolute;
  top: 34px;  /* ä¸Šã‹ã‚‰ã®ä½ç½®ï¼ˆè¨­å®šãƒœã‚¿ãƒ³ã®ä¸‹ã«æ¥ã‚‹ã‚ˆã†ã«èª¿æ•´ï¼‰ */
  right: 8px; /* å³ã‹ã‚‰ã®ä½ç½® */
  z-index: 10;
  
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background-color: #ffffff;
  border: 2px solid #40BA8D;
  color: #006B3E;
  border-radius: 4px;
  padding: 1px 2px;       /* â˜…ä¿®æ­£ï¼šå·¦å³ã®ä½™ç™½ã‚’8pxâ†’4pxã«åŠæ¸› */
  margin-left: 0;
  cursor: pointer;
  font-weight: bold;
  font-size: 11px;        /* â˜…ä¿®æ­£ï¼šãƒ•ã‚©ãƒ³ãƒˆã‚’1pxå°ã•ãã—ã¦ã‚ˆã‚Šã‚¹ãƒªãƒ ã« */
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  transition: all 0.2s;
}

.btn-card-memo-trigger:hover {
  background-color: #40BA8D;
  color: #ffffff;
  transform: scale(1.05); /* ãƒ›ãƒãƒ¼æ™‚ã«å°‘ã—å¤§ãã */
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}

/* ãƒ¡ãƒ¢ãƒ¢ãƒ¼ãƒ€ãƒ«ãŒã‚«ãƒ¼ãƒ‰ãƒ¢ãƒ¼ãƒ‰ã®æ™‚ã®ã‚¹ã‚¿ã‚¤ãƒ«èª¿æ•´ */
.memo-tabs.hidden { display: none; }
.card-memo-mode-header {
    background: #e4f7fa; padding: 10px; border-radius: 4px; margin-bottom: 10px;
    font-weight: bold; color: #40BA8D; border: 1px solid #00c2e0;
    display: flex; align-items: center; gap: 5px;
}

/* å®Œäº†æ¸ˆã¿ã‚¢ã‚¤ãƒ†ãƒ ã®ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆå°‘ã—æ§ãˆã‚ã«ï¼‰ */
.memo-item.memo-finished {
  opacity: 0.7;
  background-color: #fff; /* èƒŒæ™¯ã¯ç™½ã«æˆ»ã™ */
}
body.dark-mode .memo-item.memo-finished {
  background-color: #22272b;
}
.memo-item.memo-finished .memo-content {
  text-decoration: none; /* å–ã‚Šæ¶ˆã—ç·šã¯ã‚ãˆã¦ãªãã™ï¼ˆç§»å‹•ã—ãŸã®ã§ï¼‰ */
  color: var(--sub-text);
}

/* â˜…è¿½åŠ ï¼šå®Œäº†ãƒã‚§ãƒƒã‚¯ãƒœã‚¿ãƒ³ */
.btn-memo-check {
  cursor: pointer;
  color: #ccc;
  margin-right: 8px;
  transition: color 0.2s;
}
.btn-memo-check:hover {
  color: #61bd4f; /* ç·‘è‰² */
}
.btn-memo-check.checked {
  color: #61bd4f;
}

/* â˜…è¿½åŠ ï¼šã‚«ãƒ¼ãƒ‰ãƒ¡ãƒ¢ãƒœã‚¿ãƒ³ã®æœŸé™åˆ‡ã‚Œã‚¹ã‚¿ã‚¤ãƒ« */
.btn-card-memo-trigger.overdue {
  background-color: #eb5a46 !important; /* èµ¤è‰² */
  border-color: #b04632 !important;
  color: #ffffff !important;
  animation: pulse-alert 2s infinite; /* ç‚¹æ»…ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
  font-weight: bold;
}

/* è­¦å‘Šç”¨ã®ç‚¹æ»…ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
@keyframes pulse-alert {
  0% { box-shadow: 0 0 0 0 rgba(235, 90, 70, 0.7); }
  70% { box-shadow: 0 0 0 6px rgba(235, 90, 70, 0); }
  100% { box-shadow: 0 0 0 0 rgba(235, 90, 70, 0); }
}

/* =========================================
   â˜…è¿½åŠ ï¼šæœŸé™æ—¥æ™‚ã®ãƒœã‚¿ãƒ³é¢¨ãƒ‡ã‚¶ã‚¤ãƒ³
   ========================================= */
.due-btn {
    display: inline-flex;
    align-items: center;
    gap: 6px;
padding: 1px 10px; /* â˜…ä¿®æ­£ï¼šä¸Šä¸‹ã‚’2pxã«ç¸®å°ã€å·¦å³ã‚‚ãƒãƒ©ãƒ³ã‚¹ã‚’è¦‹ã¦10pxã«èª¿æ•´ */
    border-radius: 20px; /* è§’ä¸¸ï¼ˆãƒ”ãƒ«å‹ï¼‰ */
    font-size: 12px;
font-weight: bold;
  margin-bottom: 0;         /* â†å¿µã®ãŸã‚0ã«ã™ã‚‹ */
  margin-right: 0;          /* â†å³ä½™ç™½ã‚‚gapã«ä»»ã›ã‚‹ã®ã§0ã«ã™ã‚‹ */
    
    /* ç«‹ä½“çš„ãªãƒœã‚¿ãƒ³è¡¨ç¾ */
    box-shadow: 0 3px 0 rgba(0,0,0,0.15); 
    border: 1px solid rgba(0,0,0,0.05);
    transition: all 0.1s;
    cursor: pointer; /* ã‚¯ãƒªãƒƒã‚¯å¯èƒ½ã«å¤‰æ›´ */
    position: relative;
    top: 0;
}

/* ãƒ›ãƒãƒ¼æ™‚ã®å‹•ã */
.due-btn:hover {
    filter: brightness(0.95);
    transform: translateY(-1px);
    box-shadow: 0 4px 0 rgba(0,0,0,0.15);
}

/* ã‚¯ãƒªãƒƒã‚¯ï¼ˆã‚¢ã‚¯ãƒ†ã‚£ãƒ–ï¼‰æ™‚ã®å‹•ã */
.due-btn:active {
    top: 3px;
    box-shadow: 0 0 0 rgba(0,0,0,0.15);
}

/* --- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆ¥ã‚«ãƒ©ãƒ¼è¨­å®š --- */

/* ä½™è£•ã‚ã‚Š (OK) */
.due-btn.due-ok { 
    background-color: #eae6ff; 
    color: #403294; 
    border-bottom: 1px solid #b8b0e6;
}

/* ã‚‚ã†ã™ã (Soon) - é»„è‰²ç³» */
.due-btn.due-soon { 
    background-color: #fff7d1; 
    color: #b66d1d; 
    border-bottom: 1px solid #e6d385;
}

/* æœŸé™åˆ‡ã‚Œ (Overdue) - èµ¤ç³» */
.due-btn.due-overdue { 
    background-color: #ffebe6; 
    color: #bf2600; 
    border-bottom: 1px solid #ffbdad;
    animation: pulse-alert 2s infinite; /* æ—¢å­˜ã®ç‚¹æ»…ã‚¢ãƒ‹ãƒ¡ã‚’æ´»ç”¨ */
}

/* å®Œäº† (Complete) - é’ç·‘ç³» */
.due-btn.due-complete { 
    background-color: #e4f7fa; 
    color: #00768e; 
    border-bottom: 1px solid #94dce8;
}

/* æ—¥ä»˜éƒ¨åˆ†ã®æ–‡å­—ã‚¹ã‚¿ã‚¤ãƒ« */
.due-date-text {
    font-size: 13px;
    opacity: 0.9;
    border-left: 1px solid rgba(0,0,0,0.1);
    padding-left: 6px;
    margin-left: 2px;
}

/* --- ã€ŒCBã€ãƒ©ãƒ™ãƒ«ç”¨ã®é»’ç™½ã‚¹ãƒˆãƒ©ã‚¤ãƒ—å¸¯ --- */
.card-cb-stripe {
    height: 6px;                         /* ç·šã®å¤ªã• */
    margin: -10px -10px 8px -10px;        /* ã‚«ãƒ¼ãƒ‰ã®paddingã‚’æ‰“ã¡æ¶ˆã—ã¦ä¸Šç«¯ãƒ»å·¦å³ç«¯ã«åºƒã’ã‚‹ */
    border-radius: 4px 4px 0 0;           /* ã‚«ãƒ¼ãƒ‰ã®è§’ä¸¸ã«åˆã‚ã›ã‚‹ */
    border-bottom: 1px solid #ccc;        /* ä¸‹ã«ç´°ã„ç·šã‚’å…¥ã‚Œã¦åŒºåˆ‡ã‚‹ */
    
    /* é»’ã¨ç™½ã®æ–œã‚ã‚¹ãƒˆãƒ©ã‚¤ãƒ—ï¼ˆç¹°ã‚Šè¿”ã—ï¼‰ */
    background: repeating-linear-gradient(
        -45deg,
        #000000,
        #000000 10px,
        #ffffff 10px,
        #ffffff 20px
    );
}

/* --- â˜…ä¿®æ­£ï¼šæ¤œç´¢ã‚¢ã‚¤ã‚³ãƒ³ã¨ã‚¯ãƒªã‚¢ãƒœã‚¿ãƒ³ã®ãƒ‡ã‚¶ã‚¤ãƒ³ --- */

/* 1. æ¤œç´¢ã‚³ãƒ³ãƒ†ãƒŠã®åŸºæº–ä½ç½® */
.search-container {
    position: relative;
    width: 200px;
}

/* 2. å…¥åŠ›æ¬„ï¼ˆå³å´ã®ä½™ç™½ã‚’ã‚¢ã‚¤ã‚³ãƒ³1ã¤åˆ†ç¢ºä¿ï¼‰ */
.search-container input {
    width: 100%;
    padding: 6px 30px 6px 10px !important; /* å³ä½™ç™½30px */
    box-sizing: border-box;
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    background: var(--input-bg);
    color: var(--text-color);
}

/* 3. ã‚¢ã‚¤ã‚³ãƒ³å…±é€šé…ç½®ï¼ˆè™«çœ¼é¡ã‚‚âœ•ã‚‚åŒã˜å ´æ‰€ã«é‡ã­ã‚‹ï¼‰ */
.search-action-icon {
    position: absolute;
    right: 5px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 18px;
    color: #999;
    user-select: none; /* é¸æŠä¸å¯ */
}

/* âœ•ãƒœã‚¿ãƒ³å°‚ç”¨ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ãƒ»ã‚µã‚¤ãƒ‰ãƒãƒ¼å…±é€šï¼‰ */
#search-clear-btn, 
#sidebar-search-clear-btn {
    cursor: pointer;
    border-radius: 50%;
    padding: 2px;
    transition: color 0.2s, background 0.2s;
    /* ã‚¯ãƒªãƒƒã‚¯ã‚’ç¢ºå®Ÿã«æœ‰åŠ¹åŒ– */
    pointer-events: auto !important;
    z-index: 10;
}

#search-clear-btn:hover, 
#sidebar-search-clear-btn:hover {
    color: #eb5a46;
    background-color: rgba(0,0,0,0.1);
}

/* éè¡¨ç¤ºç”¨ã‚¯ãƒ©ã‚¹ï¼ˆå¿µã®ãŸã‚ï¼‰ */
.hidden { display: none !important; }

/* ã‚²ãƒ¼ãƒŸãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ãƒ˜ãƒƒãƒ€ãƒ¼UI */
    .game-status-bar {
        display: flex; align-items: center; gap: 15px; margin-left: 15px; padding: 4px 10px;
        background: var(--list-bg); border-radius: 20px; border: 1px solid var(--border-color);
        font-size: 12px;
        /* â˜…è¿½åŠ ï¼šå°‘ã—æ¨ªå¹…ã«ä½™è£•ã‚’æŒãŸã›ã‚‹ */
        min-width: 300px;
    }
    
    /* â˜…æ–°è¦è¿½åŠ ï¼šã‚¯ãƒƒã‚­ãƒ¼ã‚¯ãƒªãƒƒã‚«ãƒ¼é¢¨UI */
    .cookie-clicker-area {
        display: flex; align-items: center; gap: 10px;
        margin-right: 10px; border-right: 1px solid var(--border-color); padding-right: 10px;
    }
    .btn-cookie {
        font-size: 24px; cursor: pointer; user-select: none;
        transition: transform 0.1s;
        filter: drop-shadow(0 2px 2px rgba(0,0,0,0.2));
    }
    .btn-cookie:active { transform: scale(0.9); }
    .btn-cookie:hover { transform: scale(1.1); }
    
    .auto-clicker-status {
        font-size: 10px; color: var(--sub-text);
        display: flex; flex-direction: column; line-height: 1.1;
    }

    /* â˜…æ–°è¦è¿½åŠ ï¼šã‚²ãƒ¼ãƒ æ“ä½œãƒœã‚¿ãƒ³ï¼ˆè‡ªå‹•åŒ–ãƒ»ãƒ©ãƒ³ã‚­ãƒ³ã‚°ï¼‰ */
    .game-btn-group {
        display: flex; gap: 4px; margin-left: 10px;
    }
    .btn-game-mini {
        background: var(--card-bg); border: 1px solid var(--border-color);
        color: var(--text-color); border-radius: 4px; padding: 2px 6px;
        font-size: 10px; cursor: pointer; display: flex; align-items: center; gap: 2px;
    }
    .btn-game-mini:hover { background: var(--list-bg); color: var(--primary-color); }

    /* ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒ¢ãƒ¼ãƒ€ãƒ«ç”¨ */
    .ranking-list {
        list-style: none; padding: 0; margin: 0;
    }
    .ranking-item:nth-child(1) .rank-num { color: #ffd700; font-size: 16px; text-shadow: 0 1px 0 rgba(0,0,0,0.2); } /* é‡‘ */
    .ranking-item:nth-child(2) .rank-num { color: #c0c0c0; font-size: 15px; } /* éŠ€ */
    .ranking-item:nth-child(3) .rank-num { color: #b87333; font-size: 14px; } /* éŠ… */
    
    .ranking-user { display: flex; align-items: center; gap: 8px; }
    .ranking-score { font-weight: bold; color: var(--primary-color); }
    .rank-num { font-weight: bold; width: 25px; text-align: center; }

/* --- ã‚²ãƒ¼ãƒ é¢¨ã‚¹ã‚³ã‚¢ãƒœãƒ¼ãƒ‰ãƒ‡ã‚¶ã‚¤ãƒ³ --- */
#ranking-modal .modal {
    background: #1a1a2e; /* æ¿ƒã„ãƒã‚¤ãƒ“ãƒ¼èƒŒæ™¯ */
    color: #fff;
    border: 2px solid #00d4ff; /* ã‚µã‚¤ãƒãƒ¼ãƒ–ãƒ«ãƒ¼ã®æ  */
    box-shadow: 0 0 20px rgba(0, 212, 255, 0.4), inset 0 0 50px rgba(0, 0, 0, 0.8);
    font-family: 'Orbitron', 'Noto Sans JP', sans-serif; /* ãƒ‡ã‚¸ã‚¿ãƒ«ã£ã½ã„ãƒ•ã‚©ãƒ³ãƒˆå„ªå…ˆ */
    width: 450px;
}

#ranking-modal h3 {
    text-align: center;
    color: #00d4ff;
    text-shadow: 0 0 10px #00d4ff;
    border-bottom: 1px solid rgba(0, 212, 255, 0.3);
    padding-bottom: 15px;
    margin-bottom: 20px;
    font-size: 20px;
    letter-spacing: 2px;
}

.ranking-list {
    list-style: none;
    padding: 0;
    margin: 0;
    max-height: 400px;
    overflow-y: auto;
}

/* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã‚‚ã‚µã‚¤ãƒãƒ¼é¢¨ã« */
.ranking-list::-webkit-scrollbar { width: 8px; }
.ranking-list::-webkit-scrollbar-track { background: #0f0f1a; }
.ranking-list::-webkit-scrollbar-thumb { background: #00d4ff; border-radius: 4px; }

.ranking-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: rgba(255, 255, 255, 0.05);
    margin-bottom: 8px;
    padding: 12px 15px;
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: transform 0.2s, box-shadow 0.2s, background 0.2s;
    position: relative;
    overflow: hidden;
}

.ranking-item:hover {
    transform: translateX(5px);
    background: rgba(255, 255, 255, 0.1);
    border-color: #00d4ff;
    box-shadow: 0 0 10px rgba(0, 212, 255, 0.2);
}

/* è‡ªåˆ†ã®è¡Œãƒã‚¤ãƒ©ã‚¤ãƒˆï¼ˆæ—¢å­˜ã®ä¸Šæ›¸ãï¼‰ */
.ranking-item.is-me {
    background: rgba(0, 212, 255, 0.15) !important;
    border: 1px solid #00d4ff !important;
    box-shadow: inset 0 0 15px rgba(0, 212, 255, 0.2);
}
.ranking-item.is-me::after {
    content: "YOU";
    position: absolute;
    right: 40px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 40px;
    color: rgba(255, 255, 255, 0.05);
    font-weight: bold;
    pointer-events: none;
    z-index: 0;
}

/* é †ä½ãƒãƒƒã‚¸ã®ãƒ‡ã‚¶ã‚¤ãƒ³ */
.rank-num {
    font-size: 18px;
    font-weight: bold;
    width: 30px;
    text-align: center;
    margin-right: 10px;
    text-shadow: 2px 2px 0 rgba(0,0,0,0.5);
    z-index: 1;
}

/* 1ä½ã€œ3ä½ã®ç‰¹åˆ¥è£…é£¾ */
.ranking-item:nth-child(1) {
    background: linear-gradient(90deg, rgba(255, 215, 0, 0.2), transparent);
    border-color: #ffd700;
}
.ranking-item:nth-child(1) .rank-num { color: #ffd700; font-size: 24px; text-shadow: 0 0 10px #ffd700; }

.ranking-item:nth-child(2) {
    background: linear-gradient(90deg, rgba(192, 192, 192, 0.2), transparent);
    border-color: #c0c0c0;
}
.ranking-item:nth-child(2) .rank-num { color: #c0c0c0; font-size: 22px; text-shadow: 0 0 8px #c0c0c0; }

.ranking-item:nth-child(3) {
    background: linear-gradient(90deg, rgba(205, 127, 50, 0.2), transparent);
    border-color: #cd7f32;
}
.ranking-item:nth-child(3) .rank-num { color: #cd7f32; font-size: 20px; text-shadow: 0 0 6px #cd7f32; }

/* ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ± */
.ranking-user {
    display: flex;
    align-items: center;
    gap: 10px;
    flex: 1;
    z-index: 1;
}

.ranking-name {
    font-weight: bold;
    font-size: 14px;
    color: #fff;
}

.ranking-title {
    font-size: 11px;
    color: #aaa;
    background: rgba(0,0,0,0.3);
    padding: 1px 6px;
    border-radius: 4px;
}

.ranking-stats {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    z-index: 1;
}

.ranking-score {
    font-family: 'Orbitron', monospace;
    font-weight: bold;
    color: #00d4ff;
    font-size: 16px;
    text-shadow: 0 0 5px rgba(0, 212, 255, 0.5);
}

.ranking-level {
    font-size: 10px;
    color: #888;
}

/* é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³ï¼ˆã‚²ãƒ¼ãƒ é¢¨ï¼‰ */
#ranking-modal .btn-save {
    background: #00d4ff;
    color: #000;
    border: none;
    box-shadow: 0 0 10px #00d4ff;
    transition: all 0.2s;
    width: 100%;
    margin-top: 15px;
    padding: 12px;
    text-transform: uppercase;
    letter-spacing: 2px;
}
#ranking-modal .btn-save:hover {
    background: #fff;
    box-shadow: 0 0 20px #fff;
    transform: translateY(-2px);
}

    /* è‡ªå‹•åŒ–ã‚·ãƒ§ãƒƒãƒ—ãƒ¢ãƒ¼ãƒ€ãƒ«ç”¨ */
    .shop-item {
        display: flex; justify-content: space-between; align-items: center;
        padding: 15px; border: 1px solid var(--border-color); border-radius: 8px;
        margin-bottom: 10px; background: var(--card-bg);
    }
    .shop-info h4 { margin: 0 0 5px 0; font-size: 14px; }
    .shop-info p { margin: 0; font-size: 11px; color: var(--sub-text); }
    .btn-buy {
        background: var(--primary-color); color: white; border: none;
        padding: 6px 12px; border-radius: 4px; cursor: pointer; font-weight: bold; font-size: 12px;
    }
    .btn-buy:disabled { background: #ccc; cursor: not-allowed; }

/* ã‚µã‚¤ãƒ‰ãƒãƒ¼å†…ã®èª¬æ˜æ–‡ã‚¹ã‚¿ã‚¤ãƒ« */
.sidebar-description {
    font-size: 13px;
    line-height: 1.6;
    color: var(--text-color);
    white-space: pre-wrap; /* æ”¹è¡Œã‚’ãã®ã¾ã¾è¡¨ç¤º */
    padding: 10px;
    background: var(--card-bg);
    border-radius: 4px;
    border: 1px solid var(--border-color);
    word-break: break-word;
}

/* ãƒªãƒ³ã‚¯ãŒã‚ã‚‹å ´åˆã®ã‚¹ã‚¿ã‚¤ãƒ« */
.sidebar-description a {
    color: var(--primary-color);
    text-decoration: underline;
}

/* ã‚«ãƒ¼ãƒ‰å³ä¸Šã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ã‚¨ãƒªã‚¢ã®èª¿æ•´ï¼ˆãƒœã‚¿ãƒ³ãŒå¢—ãˆã‚‹ãŸã‚å°‘ã—å¹…ã‚’ç¢ºä¿ï¼‰ */
.card-actions-top-right {
    /* å¿…è¦ã«å¿œã˜ã¦å¾®èª¿æ•´ã€‚æ—¢å­˜ã®ã¾ã¾ã§ã‚‚OKã§ã™ãŒã€gapã‚’èª¿æ•´ */
    gap: 2px; 
}

/* ã‚µã‚¤ãƒ‰ãƒãƒ¼èª¬æ˜æ–‡ç·¨é›†ã‚¨ãƒªã‚¢ */
.sidebar-desc-editor {
    width: 100%;
    min-height: 200px;
    padding: 10px;
    box-sizing: border-box;
    border: 1px solid var(--primary-color);
    border-radius: 4px;
    background: var(--input-bg);
    color: var(--text-color);
    font-family: inherit;
    font-size: 13px;
    line-height: 1.5;
    resize: vertical;
    margin-bottom: 10px;
}

.desc-actions {
    display: flex;
    justify-content: flex-end;
    gap: 8px;
    margin-top: 10px;
    padding-top: 10px;
    border-top: 1px dashed var(--border-color);
}

.btn-edit-desc {
    background: transparent;
    border: 1px solid var(--sub-text);
    color: var(--sub-text);
    padding: 4px 10px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 11px;
    display: flex; align-items: center; gap: 4px;
}
.btn-edit-desc:hover {
    background: var(--list-bg);
    color: var(--text-color);
}

/* â˜…è¿½åŠ ï¼šãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒ»ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è£…é£¾ç”¨ã‚¹ã‚¿ã‚¤ãƒ« */
    .ranking-item { position: relative; overflow: hidden; transition: transform 0.2s; }
    
/* ãƒ©ãƒ³ã‚¯ã”ã¨ã®è£…é£¾ï¼ˆãƒãƒƒã‚¸ãƒ»ãƒ•ãƒ¬ãƒ¼ãƒ ï¼‰ */
    .rank-badge {
        display: inline-block; padding: 2px 6px; border-radius: 4px; 
        font-size: 10px; font-weight: bold; margin-left: 5px;
        background: #eee; color: #555;
    }
    
/* æ—¢å­˜ã®è£…é£¾ */
    .deco-beginner .rank-badge { background: #4caf50; color: white; content: "ğŸ”°"; }
    .deco-sparkle .ranking-name {
        background: linear-gradient(to right, #ff00cc, #333399);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        font-weight: bold;
    }
    .deco-cat::after {
        content: "ğŸ¾"; position: absolute; right: 10px; top: 50%; transform: translateY(-50%);
        font-size: 20px; opacity: 0.5;
    }
    .deco-gaming {
        border: 2px solid transparent;
        background-image: linear-gradient(#fff, #fff), linear-gradient(to right, red, orange, yellow, green, blue, indigo, violet);
        background-origin: border-box;
        background-clip: content-box, border-box;
        animation: rainbow-border 2s linear infinite;
    }
    .deco-fire {
        box-shadow: 0 0 10px #ff4500 inset;
        background-color: rgba(255, 69, 0, 0.05);
    }
    .deco-fire::before { content: "ğŸ”¥"; margin-right: 5px; }
    .deco-crown::before { content: "ğŸ‘‘"; margin-right: 5px; text-shadow: 0 0 5px gold; }
    .deco-angel::after {
        content: "ğŸª½"; position: absolute; right: 40px; top: 50%; transform: translateY(-50%);
        font-size: 24px; filter: drop-shadow(0 0 5px cyan);
    }
    .deco-cyber {
        background-color: #000; color: #0f0; font-family: 'Courier New', monospace;
        border: 1px solid #0f0;
        text-shadow: 0 0 5px #0f0;
    }
    .deco-cyber .ranking-score { color: #0f0 !important; }
    .deco-space {
        background: linear-gradient(to right, #0f0c29, #302b63, #24243e);
        color: #fff;
    }
    .deco-space .rank-num { color: #fff; }
    .deco-lord {
        background: linear-gradient(135deg, #000 0%, #333 100%);
        color: #ffd700;
        border: 2px solid #ffd700;
        box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
    }
    .deco-lord .ranking-score { color: #ffd700 !important; }
    .deco-lord::before { content: "âšœï¸"; margin-right: 5px; }
    .deco-lord::after { content: "âšœï¸"; position: absolute; right: 10px; top: 50%; transform: translateY(-50%); }

    /* â˜…æ–°è¦è¿½åŠ ï¼šãã‚‰ã³ã‚„ã‹ãªè£…é£¾3ç¨® */
    
    /* 1. ãƒ¬ã‚¸ã‚§ãƒ³ãƒ‰ (Legend) - è™¹è‰²ã®æµã‚Œã‚‹èƒŒæ™¯ */
    @keyframes bg-shine { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
    .deco-legend {
        background: linear-gradient(270deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3);
        background-size: 400% 400%;
        animation: bg-shine 5s ease infinite;
        color: white; border: 2px solid white;
        text-shadow: 0 1px 2px rgba(0,0,0,0.8);
    }
    .deco-legend .ranking-name { font-weight: 900; letter-spacing: 1px; }
    .deco-legend .ranking-score { color: #fff !important; }

    /* 2. ãƒ•ã‚§ãƒ‹ãƒƒã‚¯ã‚¹ (Phoenix) - ç‡ƒãˆä¸ŠãŒã‚‹ç¿¼ã¨èµ¤é‡‘ */
    .deco-phoenix {
        background: linear-gradient(to bottom, #800000, #ff4500);
        color: #fff;
        border: 2px solid #ffd700;
        box-shadow: 0 0 15px #ff4500;
    }
    .deco-phoenix::before { content: "ğŸ¦…"; margin-right: 5px; filter: drop-shadow(0 0 5px orange); }
    .deco-phoenix .ranking-score { color: #ffd700 !important; }

    /* 3. ãƒãƒ“ãƒ¥ãƒ© (Nebula) - å®‡å®™ã®ç¥ç§˜ */
    .deco-nebula {
        background: radial-gradient(circle at center, #6a11cb 0%, #2575fc 100%);
        color: #fff;
        border: 1px solid #fff;
        position: relative; overflow: hidden;
    }
    .deco-nebula::after {
        content: "âœ¨"; position: absolute; right: 10px; animation: spin 3s infinite linear;
        font-size: 18px;
    }
    .deco-nebula .ranking-name { text-shadow: 0 0 5px #00ffff; }

    /* ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è¨­å®šã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¨ãƒªã‚¢ */
    #profile-preview {
        margin-top: 10px; padding: 10px; border: 1px solid #ddd; border-radius: 4px;
        text-align: center; background: #fff; min-height: 40px; display: flex; align-items: center; justify-content: center;
    }

/* =========================================
   ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒ»è‡ªå·±ä¸»å¼µã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºç”¨CSS
   ========================================= */

/* 1. å‹•ãèƒŒæ™¯ãƒ—ãƒ¬ãƒ¼ãƒˆ (Animated Nameplates) */
@keyframes bg-galaxy { 0% { background-position: 0 0; } 100% { background-position: 100% 100%; } }
@keyframes bg-magma { 0% { background-position: 0 100%; } 100% { background-position: 0 0; } }
@keyframes bg-matrix { 0% { background-position: 0 -100%; } 100% { background-position: 0 0; } }
@keyframes bg-gold { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }

.plate-galaxy {
    background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
    position: relative; overflow: hidden; color: #fff !important; border: 1px solid #a18cd1;
}
.plate-galaxy::before {
    content: ""; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
    background-image: radial-gradient(white, rgba(255,255,255,.2) 2px, transparent 3px),
                      radial-gradient(white, rgba(255,255,255,.15) 1px, transparent 2px),
                      radial-gradient(white, rgba(255,255,255,.1) 2px, transparent 3px);
    background-size: 550px 550px, 350px 350px, 250px 250px;
    animation: bg-galaxy 60s linear infinite; z-index: 0; opacity: 0.8;
}

.plate-magma {
    background: linear-gradient(to top, #330000, #800000);
    position: relative; overflow: hidden; color: #fff !important; border: 1px solid #ff4500;
}
.plate-magma::before {
    content: ""; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
    background: radial-gradient(circle, #ff4500 20%, transparent 20%), radial-gradient(circle, transparent 20%, #ff4500 20%, transparent 30%);
    background-size: 50px 50px;
    opacity: 0.2;
    animation: bg-magma 5s linear infinite; z-index: 0;
}

.plate-matrix {
    background-color: #000;
    position: relative; overflow: hidden; color: #0f0 !important; border: 1px solid #0f0;
    font-family: 'Courier New', monospace;
}
.plate-matrix::before {
    content: ""; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
    background: linear-gradient(180deg, transparent 0%, rgba(0, 255, 0, 0.2) 50%, transparent 100%);
    background-size: 100% 20px;
    animation: bg-matrix 2s linear infinite; z-index: 0;
}

.plate-gold {
    background: #daa520;
    position: relative; overflow: hidden; color: #5c4008 !important; border: 1px solid #ffd700;
}
.plate-gold::before {
    content: ""; position: absolute; top: 0; left: -100%; width: 200%; height: 100%;
    background: linear-gradient(115deg, transparent 40%, rgba(255, 255, 255, 0.6) 50%, transparent 60%);
    animation: bg-gold 3s ease-in-out infinite; z-index: 0;
}

/* ãƒ—ãƒ¬ãƒ¼ãƒˆé©ç”¨æ™‚ã®å…±é€šèª¿æ•´ */
.ranking-item[class*="plate-"] > * { position: relative; z-index: 1; }

/* 2. ãƒãƒ¼ãƒ ã‚«ãƒ©ãƒ¼ï¼†ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ (Text Styles) */
@keyframes text-rainbow { 0% { color: #ff0000; } 20% { color: #ffff00; } 40% { color: #00ff00; } 60% { color: #00ffff; } 80% { color: #0000ff; } 100% { color: #ff00ff; } }
@keyframes text-glitch { 0% { transform: translate(0); } 20% { transform: translate(-2px, 2px); } 40% { transform: translate(-2px, -2px); } 60% { transform: translate(2px, 2px); } 80% { transform: translate(2px, -2px); } 100% { transform: translate(0); } }
@keyframes text-burn { 0% { text-shadow: 0 0 4px #ff4500; } 50% { text-shadow: 0 -5px 10px #ffff00, 0 -10px 20px #ff0000; } 100% { text-shadow: 0 0 4px #ff4500; } }
@keyframes text-neon { 0%, 100% { text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 20px #ff00de, 0 0 30px #ff00de; } 50% { text-shadow: none; color: #ff00de; } }

.name-gaming { animation: text-rainbow 2s linear infinite; font-weight: bold; }
.name-glitch { display: inline-block; animation: text-glitch 0.3s cubic-bezier(.25, .46, .45, .94) infinite both; color: #00ff00; text-shadow: 2px 0 #ff0080; }
.name-burn { color: #fff; animation: text-burn 1s ease-in-out infinite alternate; }
.name-neon { color: #fff; animation: text-neon 1.5s ease-in-out infinite alternate; }

/* 3. ãƒ•ãƒ¬ãƒ¼ãƒãƒ¼ãƒ†ã‚­ã‚¹ãƒˆ */
.flavor-text {
    display: block;
    font-size: 10px;
    opacity: 0.8;
    margin-top: 2px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 200px;
}

/* 4. ãƒ©ãƒ³ã‚¯ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆã‚¨ãƒ³ãƒ–ãƒ¬ãƒ ï¼‰ */
.rank-emblem {
    font-size: 18px;
    margin-right: 8px;
    filter: drop-shadow(0 2px 2px rgba(0,0,0,0.3));
    display: inline-block;
    vertical-align: middle;
}

/* 5. ãƒ›ãƒãƒ¼ãƒ»ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ (Interactive Hover) */
@keyframes hover-shake { 0% { transform: translate(1px, 1px) rotate(0deg); } 10% { transform: translate(-1px, -2px) rotate(-1deg); } 20% { transform: translate(-3px, 0px) rotate(1deg); } 30% { transform: translate(3px, 2px) rotate(0deg); } 40% { transform: translate(1px, -1px) rotate(1deg); } 50% { transform: translate(-1px, 2px) rotate(-1deg); } 60% { transform: translate(-3px, 1px) rotate(0deg); } 70% { transform: translate(3px, 1px) rotate(-1deg); } 80% { transform: translate(-1px, -1px) rotate(1deg); } 90% { transform: translate(1px, 2px) rotate(0deg); } 100% { transform: translate(1px, -2px) rotate(-1deg); } }
@keyframes hover-pop { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
@keyframes hover-rotate { 0% { transform: rotateY(0); } 100% { transform: rotateY(360deg); } }
@keyframes hover-flash { 0%, 100% { filter: brightness(1); } 50% { filter: brightness(2); } }

.hover-shake:hover { animation: hover-shake 0.5s; animation-iteration-count: infinite; }
.hover-pop:hover { animation: hover-pop 0.3s; }
.hover-rotate:hover { animation: hover-rotate 1s; }
.hover-flash:hover { animation: hover-flash 0.5s infinite; }

/* ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¨ãƒªã‚¢ã®èª¿æ•´ */
#profile-preview {
    min-height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #333; /* ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆèƒŒæ™¯ */
    color: #fff;
    border-radius: 8px;
}

/* =========================================
   â˜…è¿½åŠ æ©Ÿèƒ½ï¼šãƒªã‚¹ãƒˆè¨­å®šãƒ»æŠ˜ã‚ŠãŸãŸã¿ãƒ»ç§»å‹•ãƒœã‚¿ãƒ³
   ========================================= */

/* ãƒªã‚¹ãƒˆè¨­å®šãƒœã‚¿ãƒ³ */
.btn-list-settings {
  background: transparent; border: none; cursor: pointer; color: var(--sub-text);
  padding: 2px; border-radius: 4px;
  display: flex; align-items: center; justify-content: center;
  transition: color 0.2s;
  margin-left: 4px;
}
.btn-list-settings:hover { background-color: rgba(9,30,66,0.08); color: var(--text-color); }

/* ãƒªã‚¹ãƒˆè¨­å®šãƒãƒƒãƒ—ã‚¢ãƒƒãƒ— */
.list-settings-popup {
  position: absolute; top: 35px; right: 5px;
  background: var(--card-bg); border: 1px solid var(--border-color);
  box-shadow: 0 4px 12px rgba(0,0,0,0.15); border-radius: 4px;
  z-index: 100; padding: 10px; width: 200px;
  text-align: left;
}
.color-grid {
  display: grid; grid-template-columns: repeat(6, 1fr); gap: 4px; margin-bottom: 10px;
}
.color-swatch {
  width: 24px; height: 24px; border-radius: 4px; cursor: pointer;
  border: 1px solid rgba(0,0,0,0.1); transition: transform 0.1s;
}
.color-swatch:hover { transform: scale(1.2); box-shadow: 0 2px 4px rgba(0,0,0,0.2); }
.color-reset-btn {
  font-size: 10px; text-decoration: underline; cursor: pointer; color: var(--sub-text); display: block; text-align: right; margin-bottom: 8px;
}

/* æŠ˜ã‚ŠãŸãŸã¾ã‚ŒãŸãƒªã‚¹ãƒˆã®ã‚¹ã‚¿ã‚¤ãƒ« */
.industry-column.collapsed {
  width: 40px !important; min-width: 40px !important;
  max-width: 40px !important;
  writing-mode: vertical-rl;
  text-orientation: mixed;
  padding: 10px 5px;
  align-items: center;
  background: linear-gradient(to bottom, var(--list-bg), rgba(0,0,0,0.05));
  cursor: pointer;
  overflow: hidden;
}
.industry-column.collapsed .card-list,
.industry-column.collapsed .column-header-actions {
  display: none;
}
.industry-column.collapsed .column-header {
  border-bottom: none; margin: 0; padding: 0;
  justify-content: center; height: 100%;
  white-space: nowrap;
}

/* ã‚«ãƒ¼ãƒ‰è¨­å®šç”»é¢å†…ã®ç§»å‹•ãƒœã‚¿ãƒ³ã‚¨ãƒªã‚¢ */
.modal-move-area {
  margin-bottom: 10px; padding-bottom: 10px; border-bottom: 1px dashed #ccc;
}
.btn-modal-move {
  background: #e4f7fa; border: 1px solid #00c2e0; color: #00768e;
  width: 100%; padding: 8px; border-radius: 4px; cursor: pointer;
  font-weight: bold; display: flex; align-items: center; justify-content: center; gap: 5px;
}
.btn-modal-move:hover { background: #b3f5ff; }

/* =========================================
   â˜…è¿½åŠ ï¼šç«¶é¦¬ï¼†ã‚¬ãƒãƒ£ç”¨ã‚¹ã‚¿ã‚¤ãƒ«
   ========================================= */
.game-money-area {
    display: flex; align-items: center; gap: 8px; margin-left: 15px; padding-left: 15px;
    border-left: 1px solid var(--border-color); color: #f1c40f; font-weight: bold; font-family: 'Orbitron', sans-serif;
}
.btn-race {
    background: linear-gradient(to bottom, #d35400, #e67e22); color: white; border: 1px solid #a04000;
    padding: 2px 8px; border-radius: 4px; cursor: pointer; font-size: 11px; font-weight: bold;
    animation: flash-race 1s infinite alternate;
}
.btn-race:disabled {
    background: #95a5a6; border-color: #7f8c8d; cursor: not-allowed; animation: none; opacity: 0.7;
}
@keyframes flash-race { 0% { box-shadow: 0 0 5px #e67e22; } 100% { box-shadow: 0 0 15px #f39c12; transform: scale(1.05); } }

.btn-gacha {
    background: linear-gradient(to bottom, #8e44ad, #9b59b6); color: white; border: 1px solid #6c3483;
    padding: 2px 8px; border-radius: 4px; cursor: pointer; font-size: 11px; font-weight: bold;
}

/* ç«¶é¦¬ãƒ¬ãƒ¼ã‚¹ç”»é¢ */
.race-track {
    width: 100%; height: 200px; background: #27ae60; border: 4px solid #fff;
    position: relative; overflow: hidden; margin-bottom: 10px; border-radius: 4px;
    background-image: repeating-linear-gradient(90deg, rgba(255,255,255,0.1) 0px, rgba(255,255,255,0.1) 2px, transparent 2px, transparent 50px);
}
.race-horse {
    position: absolute; left: 0; height: 30px; font-size: 24px; transition: left 0.5s linear;
    display: flex; align-items: center; white-space: nowrap; z-index: 10;
    text-shadow: 2px 0 0 #fff, -2px 0 0 #fff, 0 2px 0 #fff, 0 -2px 0 #fff;
}
.race-goal-line {
    position: absolute; right: 20px; top: 0; bottom: 0; width: 4px; background: repeating-linear-gradient(45deg, #000, #000 10px, #fff 10px, #fff 20px);
    z-index: 5;
}

/* ã‚¬ãƒãƒ£æ¼”å‡º */
.gacha-box { text-align: center; padding: 20px; }
.gacha-result-card {
    background: #fff; padding: 15px; border-radius: 8px; box-shadow: 0 0 15px rgba(255,215,0,0.5);
    display: inline-block; animation: popIn 0.5s; border: 2px solid #f1c40f;
}

/* ç«¶é¦¬ãƒãƒ¼ã‚¯ã‚·ãƒ¼ãƒˆç”»é¢ */
.betting-container { padding: 10px; background: #fff; border-radius: 8px; }
.betting-row { display: flex; align-items: center; margin-bottom: 8px; border-bottom: 1px dashed #eee; padding-bottom: 4px; }
.betting-label { width: 80px; font-weight: bold; font-size: 11px; background: #eee; padding: 4px; text-align: center; border-radius: 4px; margin-right: 10px; }
.betting-options { flex: 1; display: flex; flex-wrap: wrap; gap: 5px; }
.horse-check-label {
    display: inline-flex; align-items: center; gap: 4px; cursor: pointer;
    font-size: 11px; padding: 4px 8px; border: 1px solid #ddd; border-radius: 4px; user-select: none;
}
.horse-check-label:hover { background: #f0f8ff; }
.horse-check-label input:checked + span { font-weight: bold; color: #0079bf; }
.horse-check-label.selected { background: #e4f7fa; border-color: #0079bf; }

.bet-summary { background: #333; color: #fff; padding: 10px; border-radius: 4px; margin-top: 10px; font-family: 'Orbitron', monospace; text-align: right; }

/* =========================================
   ãƒ©ãƒ³ã‚­ãƒ³ã‚°ç”¨ãƒ‡ã‚¶ã‚¤ãƒ³ (é•·è€…ç•ªä»˜)
   ========================================= */
.ranking-container {
  max-height: 400px;
  overflow-y: auto;
  padding: 10px;
  background: #f8f9fa;
  border-radius: 8px;
}

.ranking-item {
  display: flex;
  align-items: center;
  background: #fff;
  padding: 12px 15px;
  margin-bottom: 8px;
  border-radius: 50px; /* è§’ä¸¸ãƒªã‚¹ãƒˆ */
  box-shadow: 0 2px 5px rgba(0,0,0,0.05);
  transition: transform 0.1s;
}

.ranking-item:hover {
  transform: scale(1.01);
}

/* è‡ªåˆ†è‡ªèº«ã®è¡Œã‚’ç›®ç«‹ãŸã›ã‚‹ */
.ranking-item.is-me {
  background: #e3f2fd; /* è–„ã„é’ */
  border: 2px solid #2196f3;
  box-shadow: 0 4px 8px rgba(33, 150, 243, 0.2);
}

/* é †ä½ãƒãƒƒã‚¸ */
.rank-badge {
  width: 32px;
  height: 32px;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
  font-weight: bold;
  font-family: 'Orbitron', sans-serif;
  font-size: 14px;
  margin-right: 15px;
  background: #ddd;
  color: #555;
  flex-shrink: 0;
}

/* ä¸Šä½3åã®ç‰¹åˆ¥è‰² */
.rank-1 .rank-badge {
  background: linear-gradient(135deg, #f1c40f, #f39c12);
  color: #fff;
  box-shadow: 0 2px 5px rgba(241, 196, 15, 0.4);
  font-size: 16px;
}
.rank-2 .rank-badge {
  background: linear-gradient(135deg, #bdc3c7, #95a5a6);
  color: #fff;
}
.rank-3 .rank-badge {
  background: linear-gradient(135deg, #e67e22, #d35400); /* ãƒ–ãƒ­ãƒ³ã‚ºé¢¨ */
  color: #fff;
}

/* ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ± */
.rank-user-info {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
}

.rank-name {
  font-weight: bold;
  font-size: 14px;
  color: #333;
}
.rank-id {
  font-size: 10px;
  color: #999;
}

/* é‡‘é¡è¡¨ç¤º */
.rank-money {
  font-family: 'Orbitron', monospace;
  font-weight: bold;
  font-size: 16px;
  color: #333;
  text-align: right;
}

.rank-1 .rank-money { color: #d35400; font-size: 18px; } /* 1ä½ã¯å¤§ãã */

/* ãƒˆãƒ­ãƒ•ã‚£ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ */
.trophy-icon {
  margin-right: 5px;
  font-size: 18px;
}
  </style>
</head>
<body>

<div id="rainbow-overlay" class="rainbow-overlay"></div>
  <div id="desktop-mascot" class="hidden" onclick="GM.pokeMascot()">ğŸ±</div>
  <div id="xp-toast-container" style="position:fixed; bottom: 100px; right: 20px; display:flex; flex-direction:column; gap:10px; pointer-events:none; z-index:4000;"></div>

  <!-- ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—ãƒ•ã‚¡ãƒ³ãƒ•ã‚¡ãƒ¼ãƒ¬ -->
  <div id="levelup-modal" class="levelup-overlay hidden" onclick="closeLevelUp()">
      <div class="levelup-box">
          <h2>LEVEL UP!</h2>
          <div style="font-size:60px;">ğŸ‰</div>
          <div id="levelup-rank" class="levelup-rank">è¦‹ç¿’ã„</div>
          <p>æ–°ã—ã„æ©Ÿèƒ½ãŒè§£æ”¾ã•ã‚Œã¾ã—ãŸï¼</p>
          <div style="font-size:12px; opacity:0.8;">(ã‚¯ãƒªãƒƒã‚¯ã—ã¦é–‰ã˜ã‚‹)</div>
      </div>
  </div>

  <!-- ãŠã¿ãã˜ãƒ¢ãƒ¼ãƒ€ãƒ« -->
  <div id="omikuji-modal" class="modal-overlay hidden">
      <div class="modal" style="text-align:center;">
          <h3>ğŸ”® ä»Šæ—¥ã®é‹å‹¢</h3>
          <div id="omikuji-result" style="font-size:40px; margin:20px 0; color:#d32f2f; font-weight:bold;"></div>
          <p id="omikuji-item" style="font-size:14px; margin-bottom:20px;"></p>
          <p id="omikuji-bonus" style="font-size:12px; color:#f39c12; font-weight:bold;"></p>
          <button class="btn-save" onclick="document.getElementById('omikuji-modal').classList.add('hidden')">é–‰ã˜ã‚‹</button>
      </div>
  </div>

<div id="bgm-player" class="minimized" onclick="if(this.classList.contains('minimized')) toggleBgmMinify()">
    <div class="bgm-minimized-icon">
        <span class="material-icons">headphones</span>
    </div>
      <div class="bgm-header-row">
          <div class="bgm-header">â˜• é›†ä¸­BGM</div>
          <button class="btn-bgm-minimize" onclick="event.stopPropagation(); toggleBgmMinify()"><span class="material-icons" style="font-size:16px;">remove</span></button>
      </div>
      <div class="bgm-content" style="display:flex; flex-direction:column; gap:8px;">
          <div class="bgm-btn active" id="btn-bgm-off" onclick="stopBgm()">
              <span class="material-icons" style="font-size:16px;">volume_off</span> ã‚ªãƒ•
          </div>
          <div class="bgm-btn" onclick="toggleBgm('fire')">
              <span class="material-icons" style="font-size:16px;">local_fire_department</span> ç„šãç«
          </div>
          <div class="bgm-btn" onclick="toggleBgm('rain')">
              <span class="material-icons" style="font-size:16px;">umbrella</span> é›¨ã®éŸ³
          </div>
          <div class="bgm-btn" onclick="toggleBgm('cafe')">
              <span class="material-icons" style="font-size:16px;">storefront</span> ã‚«ãƒ•ã‚§
          </div>
          
          <!-- è§£æ”¾BGM -->
          <div class="bgm-btn hidden" id="bgm-deepsea" onclick="toggleBgm('deepsea')">
              <span class="material-icons" style="font-size:16px;">waves</span> Deep Sea
          </div>
          <div class="bgm-btn hidden" id="bgm-cyber" onclick="toggleBgm('cyber')">
              <span class="material-icons" style="font-size:16px;">memory</span> Cyber City
          </div>

          <input type="range" class="bgm-volume" min="0" max="1" step="0.1" value="0.3" oninput="changeBgmVolume(this.value)" title="éŸ³é‡">
      </div>
  </div>

  <div id="login-overlay">
    <div class="login-box">
      <h2>ãƒ­ã‚°ã‚¤ãƒ³</h2>
      <input type="text" id="login-id" class="login-input" placeholder="ID">
      <input type="password" id="login-pass" class="login-input" placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰">
      <button class="btn-login" onclick="performLogin()">ãƒ­ã‚°ã‚¤ãƒ³</button>
      <div id="login-error" class="login-error"></div>
    </div>
  </div>

  <div id="bg-video-container">
    <video autoplay muted loop id="bg-video"></video>
    <div id="bg-overlay"></div>
  </div>

  <div id="loading" class="hidden">
    <div><span class="material-icons" style="vertical-align:middle; animation: spin 1s infinite linear;">refresh</span> ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ä¸­...</div>
  </div>

  <div id="toast">å®Œäº†ã—ã¾ã—ãŸ</div>
  
  <div id="context-menu" class="context-menu hidden">
      <div class="context-menu-item" id="ctx-open"><span class="material-icons" style="font-size:16px;">open_in_new</span> Trelloã‚’é–‹ã</div>
      <div class="context-menu-item" id="ctx-copy"><span class="material-icons" style="font-size:16px;">content_copy</span> ãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼</div>
      <div class="context-menu-divider"></div>
      <div class="context-menu-item" id="ctx-move"><span class="material-icons" style="font-size:16px;">drive_file_move</span> ç§»å‹•...</div>
      <div class="context-menu-item" id="ctx-assign"><span class="material-icons" style="font-size:16px;">edit</span> æ‹…å½“è¨­å®š...</div>
      <div class="context-menu-divider"></div>
      <div class="context-menu-item" id="ctx-pin"><span class="material-icons" style="font-size:16px;">push_pin</span> ãƒ”ãƒ³ç•™ã‚åˆ‡ã‚Šæ›¿ãˆ</div>
  </div>

  <div id="sidebar-overlay" class="sidebar-overlay hidden" onclick="closeSidebar()"></div>
<div id="sidebar-right" class="sidebar-right">
  <div class="sidebar-header">
    <div class="sidebar-header-top">
      <h3 id="sidebar-title"><span class="material-icons" style="color:#0079bf;">today</span> äºˆå®šã®ã‚«ãƒ¼ãƒ‰</h3>
      <button class="close-sidebar-btn" onclick="closeSidebar()">
        <span class="material-icons">close</span>
      </button>
    </div>

    <div class="search-container" style="width: 100%;">
      <input type="text" id="sidebar-search-input" placeholder="åº—èˆ—åã§æ¤œç´¢..." oninput="handleSidebarSearchInput()">
      <span id="sidebar-search-clear-btn" class="material-icons search-action-icon hidden" onclick="clearSearch()">close</span>
      <span id="sidebar-search-glass-icon" class="material-icons search-action-icon">search</span>
    </div>
  </div>

  <div id="sidebar-content"></div>
</div>

<header>
    <div class="header-top">
      <h1>
        <span class="material-icons">schedule</span> ã‚ãâ˜†ã¨ã‚Œ
        <button class="btn-toggle-header" onclick="toggleHeader()" title="ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®é–‹é–‰">
          <span class="material-icons" id="toggle-icon">expand_less</span>
        </button>
      </h1>

      <div class="game-status-bar" id="game-status-bar" style="display:none;">
          <div class="cookie-clicker-area">
              <div class="btn-cookie" onclick="GM.clickCookie(event)" title="ã‚¯ãƒªãƒƒã‚¯ã—ã¦XPã‚²ãƒƒãƒˆï¼">ğŸª</div>
              <div class="auto-clicker-status">
                  <span id="click-power-disp">Click: +2 XP</span>
                  <span id="auto-xp-disp">Auto: 0 XP/s</span>
              </div>
          </div>

          <div style="display:flex; flex-direction:column; align-items:flex-start;">
              <div style="display:flex; align-items:center; gap:5px;">
                  <span class="game-level-badge" id="game-level">Lv.1</span>
                  <span class="game-rank-text" id="game-rank">è¦‹ç¿’ã„</span>
                  <span id="game-title" style="font-size:10px; color:#555;"></span>
                  
                  <div class="game-btn-group">
                      <button class="btn-game-mini" onclick="openShopModal()" title="è‡ªå‹•åŒ–ã‚·ãƒ§ãƒƒãƒ—">
                          <span class="material-icons" style="font-size:12px;">shopping_cart</span>
                      </button>
                      <button class="btn-game-mini" onclick="openRankingModal()" title="ãƒ©ãƒ³ã‚­ãƒ³ã‚°">
                          <span class="material-icons" style="font-size:12px;">leaderboard</span>
                      </button>
                      <button class="btn-game-mini" onclick="GM.manualSave()" title="ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜">
                          <span class="material-icons" style="font-size:12px;">save</span>
                      </button>
                  </div>
              </div>
              <div style="display:flex; align-items:center;">
                  <div class="game-xp-container" title="æ¬¡ã®ãƒ¬ãƒ™ãƒ«ã¾ã§">
                      <div class="game-xp-bar" id="game-xp-bar"></div>
                  </div>
                  <span class="game-xp-text" id="game-xp-text">0 / 100</span>
              </div>
          </div>
      </div>

<div class="game-money-area">
    <span id="game-money-disp">0</span>
    <div style="display:flex; gap:4px; margin-left:10px;">
        
        <button id="btn-open-race" class="btn-race" onclick="GM.openRace()" disabled title="é–‹å‚¬æ™‚é–“å¤–ã§ã™">
             ç«¶é¦¬
        </button>

        <button class="btn-race" style="background: linear-gradient(to bottom, #2c3e50, #34495e); border-color: #1a252f;" onclick="GM.openPastResults()">
             çµæœ
        </button>

        <button class="btn-gacha" onclick="GM.openGacha()" title="1å›500å††">
             ã‚¬ãƒãƒ£
        </button>
        
        <button class="btn-race" style="background: linear-gradient(to bottom, #f1c40f, #f39c12); border-color: #d68910;" onclick="GM.openMoneyRanking()" title="æ‰€æŒé‡‘ãƒ©ãƒ³ã‚­ãƒ³ã‚°">
             é•·è€…
        </button>
    </div>
</div>

<div id="header-controls" style="display:flex; gap:10px; align-items:center; margin-left:auto;">
  <div class="quick-filters">
    <button class="btn-quick-filter btn-today" onclick="toggleSidebar('today')">æœ¬æ—¥äºˆå®š</button>
    <button class="btn-quick-filter btn-tomorrow" onclick="toggleSidebar('tomorrow')">æ˜æ—¥äºˆå®š</button>
    <button class="btn-quick-filter btn-nextMonday" onclick="toggleSidebar('nextMonday')">ç¿Œé€±æœˆæ›œäºˆå®š</button>
    
    <button class="btn-quick-filter btn-overdue" onclick="setQuickFilter('overdue')">æœŸé™åˆ‡ã‚Œ</button>
    <button class="btn-quick-filter btn-due24h" onclick="setQuickFilter('due24h')">24æ™‚é–“ä»¥å†…</button>
    <button class="btn-quick-filter btn-due3d" onclick="setQuickFilter('due3d')">3æ—¥ä»¥å†…</button>
  </div>
        
        <div style="display:flex; flex-direction:column; gap:4px;">
          <div style="display:flex; gap:4px;">
             <button class="refresh-btn" onclick="loadData()" title="æ›´æ–°">
               <span class="material-icons">sync</span>
             </button>
             <button class="btn-chart" onclick="openDashboard()" title="ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰">
               <span class="material-icons">analytics</span>
             </button>
<button class="btn-memo" onclick="openMemoModal()" title="ãƒ¡ãƒ¢å¸³">
               <span class="material-icons" style="font-size:16px;">edit_note</span>
             </button>
             <button class="btn-omikuji" onclick="GM.showOmikuji()" title="ä»Šæ—¥ã®é‹å‹¢">
               <span class="material-icons" style="font-size:16px;">casino</span>
             </button>
          </div>
          <button class="btn-settings" onclick="openSettingsModal()" title="è¨­å®š">
            <span class="material-icons" style="font-size:14px;">settings</span> è¨­å®š
          </button>
        </div>
      </div>
    </div>

<div class="filter-bar" id="filter-bar">
      <button class="btn-bulk-mode" id="btn-bulk-mode" onclick="toggleBulkMode()">
        <span class="material-icons" style="font-size:16px;">checklist</span> é¸æŠãƒ¢ãƒ¼ãƒ‰
      </button>

      <div style="display:flex; gap:2px; margin-right:10px;">
          <button class="btn-quick-filter" onclick="unlockAllLists()" title="å…¨ãƒªã‚¹ãƒˆã®ãƒ­ãƒƒã‚¯ã‚’è§£é™¤ï¼ˆç§»å‹•å¯èƒ½ã«ï¼‰">
              <span class="material-icons" style="font-size:16px;">lock_open</span> å…¨è§£é™¤
          </button>
          <button class="btn-quick-filter" onclick="lockAllLists()" title="å…¨ãƒªã‚¹ãƒˆã‚’ãƒ­ãƒƒã‚¯ï¼ˆç§»å‹•ä¸å¯ã«ï¼‰">
              <span class="material-icons" style="font-size:16px;">lock</span> å…¨ãƒ­ãƒƒã‚¯
          </button>
      </div>

      <div class="filter-group">
        <label>ä¸¦ã³æ›¿ãˆ</label>
        <select id="sort-mode" onchange="applyFilters()">
          <option value="none">Trelloé †</option>
          <option value="due-asc">æœŸé™ãŒè¿‘ã„é †</option>
          <option value="updated-desc">æ›´æ–°æ—¥ãŒæ–°ã—ã„é †</option>
          <option value="name-asc">åº—èˆ—åé †</option>
        </select>
      </div>

      <div class="filter-group">
        <label>äºˆç´„ã‚·ã‚¹ãƒ†ãƒ æ‹…å½“</label>
        <select id="filter-system" onchange="applyFilters()"><option value="">ã™ã¹ã¦</option></select>
      </div>
      <div class="filter-group">
        <label>ã‚·ã‚¹ãƒ†ãƒ ç¨®åˆ¥</label>
        <select id="filter-systemType" onchange="applyFilters()">
            <option value="">ã™ã¹ã¦</option>
            <option value="ä¸­æ±Ÿå¼äºˆç´„ã‚·ã‚¹ãƒ†ãƒ /ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆ">ä¸­æ±Ÿå¼äºˆç´„ã‚·ã‚¹ãƒ†ãƒ /ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆ</option>
            <option value="Mokare">Mokare</option>
        </select>
      </div>
      <div class="filter-group">
        <label>Trelloãƒ©ãƒ™ãƒ«</label>
        <select id="filter-trelloLabel" onchange="applyFilters()"><option value="">ã™ã¹ã¦</option></select>
      </div>
      <div class="filter-group">
        <label>æ§‹ç¯‰æ‹…å½“</label>
        <select id="filter-construction" onchange="applyFilters()"><option value="">ã™ã¹ã¦</option></select>
      </div>
      <div class="filter-group">
        <label>å•†è«‡æ‹…å½“</label>
        <select id="filter-sales" onchange="applyFilters()"><option value="">ã™ã¹ã¦</option></select>
      </div>
      <div class="filter-group">
        <label>MTGæ‹…å½“</label>
        <select id="filter-mtg" onchange="applyFilters()"><option value="">ã™ã¹ã¦</option></select>
      </div>
      <div class="filter-group">
        <label>æ¥­ç¨®</label>
        <select id="filter-industry" onchange="applyFilters()"><option value="">ã™ã¹ã¦</option></select>
      </div>
      <div class="filter-group">
        <label>éƒ½é“åºœçœŒ</label>
        <select id="filter-prefecture" onchange="applyFilters()"><option value="">ã™ã¹ã¦</option></select>
      </div>
      <div class="filter-group" style="margin-left: 10px; border-left: 1px solid #ddd; padding-left: 10px;">
        <label>åˆ—ã®è¡¨ç¤ºè¨­å®š</label>
        <div class="dropdown-container">
          <button class="btn-toggle-menu" onclick="toggleColumnMenu(event)">
            <span class="material-icons" style="font-size:14px;">view_column</span> è¡¨ç¤ºåˆ‡æ›¿ â–¼
          </button>
          <div id="column-menu" class="dropdown-menu hidden" onclick="event.stopPropagation()"></div>
        </div>
      </div>
<div class="search-container">
  <input type="text" id="search-input" placeholder="åº—èˆ—åã§æ¤œç´¢..." oninput="handleSearchInput()">
  <span id="search-clear-btn" class="material-icons search-action-icon hidden" onclick="clearSearch()">close</span>
  <span id="search-glass-icon" class="material-icons search-action-icon">search</span>
</div>
<div style="font-size:12px; margin-left:auto;"><span id="total-count">0</span>ä»¶</div>
    </div>
    </div>
  </header>

  <div id="error-msg" class="hidden"></div>
  <div id="dashboard"></div>

  <div id="bulk-action-bar">
    <div style="font-weight:bold;">
      <span id="bulk-count">0</span>ä»¶ é¸æŠä¸­
      <button style="margin-left:10px; background:transparent; border:1px solid white; color:white; border-radius:4px; cursor:pointer;" onclick="toggleBulkMode(false)">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
    </div>
    <div class="bulk-actions">
      <button class="btn-bulk-action" onclick="openBulkAssignModal()">
        <span class="material-icons">manage_accounts</span> æ‹…å½“è€…ä¸€æ‹¬è¨­å®š
      </button>
      <button class="btn-bulk-action" onclick="openBulkMoveModal()">
        <span class="material-icons">drive_file_move</span> ä¸€æ‹¬ç§»å‹•
      </button>
    </div>
  </div>

<div id="assignment-modal" class="modal-overlay hidden">
    <div class="modal">
      <div style="display:flex; justify-content:space-between;">
          <h3>è¨­å®š</h3>
          <button style="border:none; background:none; cursor:pointer;" onclick="togglePinFromModal()">
              <span id="modal-pin-icon" class="material-icons" style="color:#ccc;">push_pin</span>
          </button>
      </div>
<p id="modal-card-name" style="font-size:12px; color:#666; margin-bottom:15px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;"></p>
      
      <div class="modal-move-area">
        <button class="btn-modal-move" onclick="openMoveFromAssignment()">
          <span class="material-icons">drive_file_move</span> ã“ã®ã‚«ãƒ¼ãƒ‰ã‚’åˆ¥ã®ãƒªã‚¹ãƒˆã¸ç§»å‹•
        </button>
      </div>
      <div class="form-group" style="background:#f0f8ff; padding:10px; border-radius:4px; border:1px solid #cceeff; margin-bottom:15px;">
        <label style="color:#0079bf;">æœŸé™æ—¥æ™‚ (TrelloåŒæœŸ)</label>
        <div style="display:flex; gap:5px;">
            <input type="datetime-local" id="input-trello-due" style="flex:1;">
            <button type="button" onclick="clearDueDate()" style="border:1px solid #eb5a46; background:#fff; color:#eb5a46; border-radius:4px; cursor:pointer; padding:0 8px;" title="æœŸé™ã‚’å‰Šé™¤">
                <span class="material-icons" style="font-size:18px; vertical-align:middle;">close</span>
            </button>
        </div>
      </div>

      <div style="display:flex; gap:10px;">
        <div class="form-group" style="flex:1;">
          <label>æ§‹ç¯‰ç•ªå·</label>
          <select id="input-constructionNumber"><option value="">(æœªè¨­å®š)</option></select>
        </div>
        <div class="form-group" style="flex:1; display:flex; flex-direction:column; gap:8px;">
          <div>
            <label>ã‚·ã‚¹ãƒ†ãƒ ç¨®åˆ¥ 1</label>
            <select id="input-systemType">
                <option value="">(æœªè¨­å®š)</option>
                <option value="ä¸­æ±Ÿå¼äºˆç´„ã‚·ã‚¹ãƒ†ãƒ /ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆ">ä¸­æ±Ÿå¼äºˆç´„ã‚·ã‚¹ãƒ†ãƒ /ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆ</option>
                <option value="Mokare">Mokare</option>
            </select>
          </div>
          <div>
            <label>ã‚·ã‚¹ãƒ†ãƒ ç¨®åˆ¥ 2</label>
            <select id="input-systemType2">
                <option value="">(æœªè¨­å®š)</option>
                <option value="ä¸­æ±Ÿå¼äºˆç´„ã‚·ã‚¹ãƒ†ãƒ /ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆ">ä¸­æ±Ÿå¼äºˆç´„ã‚·ã‚¹ãƒ†ãƒ /ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆ</option>
                <option value="Mokare">Mokare</option>
            </select>
          </div>
        </div>
      </div>
      <div class="form-group"><label>ãƒªãƒ³ã‚¯å…ˆURL</label><input type="text" id="input-customLink" placeholder="https://..."></div>
      <div class="form-group"><label>ãƒ¡ãƒ¢1</label><input type="text" id="input-memo1"></div>
      <div class="form-group"><label>ãƒ¡ãƒ¢2</label><input type="text" id="input-memo2"></div>
      <div class="form-group"><label>ãƒ¡ãƒ¢3</label><input type="text" id="input-memo3"></div>
<hr style="border:0; border-top:1px solid #eee; margin: 15px 0;">
      
      <div style="display:flex; gap:10px;">
        <div class="form-group" style="flex:1;">
            <label>æ§‹ç¯‰æ‹…å½“è€…</label>
            <select id="input-construction"><option value="">(æœªè¨­å®š)</option></select>
        </div>
        <div class="form-group" style="flex:1;">
            <label>äºˆç´„ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰æ‹…å½“</label>
            <select id="input-system"><option value="">(æœªè¨­å®š)</option></select>
        </div>
      </div>

      <div style="display:flex; gap:10px;">
        <div class="form-group" style="flex:1;">
            <label>å•†è«‡æ‹…å½“</label>
            <select id="input-sales"><option value="">(æœªè¨­å®š)</option></select>
        </div>
        <div class="form-group" style="flex:1;">
            <label>MTGæ‹…å½“è€…</label>
            <select id="input-mtg"><option value="">(æœªè¨­å®š)</option></select>
        </div>
      </div>
      <div class="modal-buttons">
        <button class="btn-cancel" onclick="closeModal()">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
        <button class="btn-save" onclick="saveAssignment()">ä¿å­˜</button>
      </div>
    </div>
  </div>

  <div id="card-log-modal" class="modal-overlay hidden">
    <div class="modal" style="width: 500px;">
      <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
          <h3><span class="material-icons">history</span> æ“ä½œå±¥æ­´</h3>
          <button class="btn-cancel" onclick="closeCardLogModal()" style="padding:4px 8px; font-size:12px;">âœ•</button>
      </div>
      <p id="log-card-name" style="font-size:12px; color:#666; margin-bottom:15px; font-weight:bold;"></p>
      
      <div style="background:var(--input-bg); border:1px solid var(--border-color); border-radius:4px;">
          <ul id="card-log-list" class="log-list">
              <li style="padding:20px; text-align:center; color:#999;">èª­ã¿è¾¼ã¿ä¸­...</li>
          </ul>
      </div>

      <div class="modal-buttons">
        <button class="btn-save" onclick="closeCardLogModal()">é–‰ã˜ã‚‹</button>
      </div>
    </div>
  </div>

  <div id="move-modal" class="modal-overlay hidden">
    <div class="modal" style="width:350px;">
      <h3><span class="material-icons">drive_file_move</span> ã‚«ãƒ¼ãƒ‰ã‚’ç§»å‹•</h3>
      <p id="move-card-name" style="font-size:12px; color:#666; margin-bottom:15px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;"></p>
      
      <div class="form-group">
        <label>ç§»å‹•å…ˆã®ãƒªã‚¹ãƒˆã‚’é¸æŠ</label>
        <div id="move-list-container" class="move-list-container"></div>
      </div>
      
      <div class="modal-buttons">
        <button class="btn-cancel" onclick="closeMoveModal()">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
        <button class="btn-save" onclick="submitMove()">ç§»å‹•</button>
      </div>
    </div>
  </div>

<div id="settings-modal" class="modal-overlay hidden">
    <div class="modal">
      <h3><span class="material-icons">settings</span> è¨­å®š</h3>
      
      <div class="settings-tabs">
          <div class="settings-tab active" onclick="switchSettingsTab('general')">ä¸€èˆ¬</div>
          <div class="settings-tab" onclick="switchSettingsTab('game')">ã‚²ãƒ¼ãƒ è¨­å®š</div>
      </div>

      <div id="settings-general" class="settings-content active">
          <div class="form-group">
            <label>è¡¨ç¤ºãƒ†ãƒ¼ãƒ</label>
            <select id="select-theme" onchange="changeTheme()">
              <option value="default">ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ (ãƒ©ã‚¤ãƒˆ)</option>
              <option value="dark">ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰</option>
              <option value="cat">çŒ«ãƒ¢ãƒ¼ãƒ‰ ğŸ±</option>
              <option value="dog">çŠ¬ãƒ¢ãƒ¼ãƒ‰ ğŸ¶</option>
              <option value="horse">é¦¬ãƒ¢ãƒ¼ãƒ‰ (ç«¶é¦¬é¢¨) ğŸ‡</option>
              <option value="dragon">ãƒ‰ãƒ©ã‚´ãƒ³ãƒ¢ãƒ¼ãƒ‰ ğŸ‰</option>
              <option value="neon">ãƒã‚ªãƒ³ãƒ¢ãƒ¼ãƒ‰ ğŸŒƒ</option>
              <option value="gaming">ã‚²ãƒ¼ãƒŸãƒ³ã‚°ãƒ¢ãƒ¼ãƒ‰ ğŸŒˆ</option>
              <option value="retro">ãƒ¬ãƒˆãƒ­RPGãƒ¢ãƒ¼ãƒ‰ ğŸ‘¾</option>
              <option value="blueprint">è¨­è¨ˆå›³ãƒ¢ãƒ¼ãƒ‰ ğŸ“</option>
              <option value="japan">å’Œé¢¨ãƒ»æµ®ä¸–çµµãƒ¢ãƒ¼ãƒ‰ ğŸµ</option>
            </select>
          </div>
          <hr style="border:0; border-top:1px solid #eee; margin: 15px 0;">
          <h4>èƒŒæ™¯è¨­å®š</h4>
          <div class="form-group">
            <label>èƒŒæ™¯ã‚¿ã‚¤ãƒ—</label>
            <select id="bg-type" onchange="toggleBgInput()">
              <option value="none">ãªã— (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ)</option>
              <option value="image">ç”»åƒ (URL)</option>
              <option value="video">å‹•ç”» (URL)</option>
            </select>
          </div>
          <div id="bg-input-group" class="form-group hidden">
            <label>URL</label>
            <input type="text" id="bg-url">
          </div>
          <div class="form-group">
            <label>èƒŒæ™¯ã®æš—ã•</label>
            <input type="range" id="bg-opacity" min="0" max="0.9" step="0.1" value="0.0" style="width:100%;">
            <div style="text-align:right; font-size:10px;" id="opacity-val">0%</div>
          </div>

          <div class="form-group">
            <label>èƒŒæ™¯ã‚µã‚¤ã‚º (æ‹¡å¤§/ç¸®å°)</label>
            <div style="display:flex; align-items:center; gap:5px;">
                <input type="range" id="bg-scale" min="0.5" max="3.0" step="0.1" value="1.0" style="flex:1;" oninput="updateBgTransform()">
                <button type="button" onclick="resetBgParam('scale')" style="border:1px solid #ccc; background:#fff; border-radius:4px; font-size:10px; cursor:pointer; padding:2px 6px;">ãƒªã‚»ãƒƒãƒˆ</button>
            </div>
            <div style="text-align:right; font-size:10px;" id="scale-val">100%</div>
          </div>

          <div class="form-group">
            <label>ä½ç½®èª¿æ•´ X (å·¦å³)</label>
            <div style="display:flex; align-items:center; gap:5px;">
                <input type="range" id="bg-pos-x" min="-50" max="50" step="1" value="0" style="flex:1;" oninput="updateBgTransform()">
                <button type="button" onclick="resetBgParam('x')" style="border:1px solid #ccc; background:#fff; border-radius:4px; font-size:10px; cursor:pointer; padding:2px 6px;">ãƒªã‚»ãƒƒãƒˆ</button>
            </div>
            <div style="text-align:right; font-size:10px;" id="pos-x-val">0%</div>
          </div>

          <div class="form-group">
            <label>ä½ç½®èª¿æ•´ Y (ä¸Šä¸‹)</label>
            <div style="display:flex; align-items:center; gap:5px;">
                <input type="range" id="bg-pos-y" min="-50" max="50" step="1" value="0" style="flex:1;" oninput="updateBgTransform()">
                <button type="button" onclick="resetBgParam('y')" style="border:1px solid #ccc; background:#fff; border-radius:4px; font-size:10px; cursor:pointer; padding:2px 6px;">ãƒªã‚»ãƒƒãƒˆ</button>
            </div>
            <div style="text-align:right; font-size:10px;" id="pos-y-val">0%</div>
          </div>
          
          <hr style="border:0; border-top:1px solid #eee; margin: 15px 0;">
          <button class="btn-logout" onclick="performLogout()" title="ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ">
             <span class="material-icons" style="font-size:16px;">logout</span> ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
          </button>
      </div>

<div id="settings-game" class="settings-content">
          <div class="form-group">
              <label>ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒ—ãƒ¬ãƒ¼ãƒˆ (Lv.80~)</label>
              <select id="game-ranking-plate" onchange="GM.updateProfilePreview()">
                  <option value="">ãªã—</option>
                  <option value="plate-galaxy">éŠ€æ²³</option>
                  <option value="plate-magma">ãƒã‚°ãƒ</option>
                  <option value="plate-matrix">ãƒãƒˆãƒªãƒƒã‚¯ã‚¹</option>
                  <option value="plate-gold">é»„é‡‘</option>
              </select>
          </div>

          <div class="form-group">
              <label>åå‰ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ (Lv.50~)</label>
              <select id="game-name-effect" onchange="GM.updateProfilePreview()">
                  <option value="">ãªã—</option>
                  <option value="name-gaming">ã‚²ãƒ¼ãƒŸãƒ³ã‚°</option>
                  <option value="name-glitch">ã‚°ãƒªãƒƒãƒ</option>
                  <option value="name-burn">ç‚ä¸Š</option>
                  <option value="name-neon">ãƒã‚ªãƒ³</option>
              </select>
          </div>

          <div class="form-group">
              <label>ãƒ©ãƒ³ã‚¯ã‚¨ãƒ³ãƒ–ãƒ¬ãƒ  (çµµæ–‡å­—)</label>
              <input type="text" id="game-rank-emblem" placeholder="ä¾‹: âšœï¸" oninput="GM.updateProfilePreview()">
          </div>

          <div class="form-group">
              <label>ãƒ›ãƒãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³</label>
              <select id="game-hover-action" onchange="GM.updateProfilePreview()">
                  <option value="">ãªã—</option>
                  <option value="hover-shake">éœ‡ãˆã‚‹</option>
                  <option value="hover-pop">é£›ã³å‡ºã™</option>
                  <option value="hover-rotate">å›è»¢</option>
                  <option value="hover-flash">ç‚¹æ»…</option>
              </select>
          </div>

          <div class="form-group">
              <label>ãƒ•ãƒ¬ãƒ¼ãƒãƒ¼ãƒ†ã‚­ã‚¹ãƒˆ</label>
              <input type="text" id="game-flavor-text" placeholder="ä¸€è¨€ã‚³ãƒ¡ãƒ³ãƒˆ" oninput="GM.updateProfilePreview()">
          </div>
          <div class="form-group">
              <label>ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è£…é£¾ (Lv.2~)</label>
              <select id="game-profile-deco" onchange="GM.updateProfilePreview()">
                  <option value="">ãªã—</option>
              </select>
              <div style="font-size:10px; color:#666; margin-top:4px;">ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼:</div>
              <div id="profile-preview">
                  <span style="color:#999;">(ã“ã“ã«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¾ã™)</span>
              </div>
          </div>
          <hr style="border:0; border-top:1px solid #eee; margin: 15px 0;">
          
          <div class="form-group">
              <label>æ¼”å‡ºè¨­å®š</label>
              <div style="display:flex; flex-wrap:wrap; gap:15px;">
                  <div style="flex:1; min-width:140px;">
                      <label style="display:block; margin-bottom:4px; font-size:10px;">ã‚¯ãƒªãƒƒã‚¯æ¼”å‡º (Lv.3~)</label>
                      <select id="game-particle-select" style="width:100%;">
                          <option value="">ãªã—</option><option value="std">æ¨™æº–</option><option value="fire">ç‚</option><option value="ice">æ°·</option><option value="sakura">æ¡œ</option><option value="coin">ã‚³ã‚¤ãƒ³</option><option value="dark">é—‡</option>
                      </select>
                  </div>
                  <div style="flex:1; min-width:140px;">
                      <label style="display:block; margin-bottom:4px; font-size:10px;">ã‚ªãƒ¼ãƒ© (Lv.25~)</label>
                      <select id="game-aura-select" style="width:100%;">
                          <option value="">ãªã—</option><option value="std">æ¨™æº–</option><option value="fire">æ¥­ç«</option><option value="ice">æ°·çµ</option><option value="thunder">é›·ç¥</option><option value="dark">æš—é»’</option><option value="rainbow">è™¹è‰²</option>
                      </select>
                  </div>
              </div>
          </div>

          <div class="form-group" style="margin-top:10px;">
              <div style="display:flex; flex-direction:column; gap:8px;">
                  <label class="toggle-switch-label" style="display:flex; align-items:center;">
                      <label class="toggle-switch"><input type="checkbox" id="game-sound-se"><span class="slider"></span></label>
                      <span style="margin-left:8px;">åŠ¹æœéŸ³ (Lv.20~)</span>
                  </label>
                  <label class="toggle-switch-label" style="display:flex; align-items:center;">
                      <label class="toggle-switch"><input type="checkbox" id="game-input-effect"><span class="slider"></span></label>
                      <span style="margin-left:8px;">å…¥åŠ›ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ (Lv.12~)</span>
                  </label>
                  <label class="toggle-switch-label" style="display:flex; align-items:center;">
                      <label class="toggle-switch"><input type="checkbox" id="game-mascot"><span class="slider"></span></label>
                      <span style="margin-left:8px;">ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒã‚¹ã‚³ãƒƒãƒˆ (Lv.35~)</span>
                  </label>
              </div>
          </div>
      </div>

      <div class="modal-buttons">
        <button class="btn-cancel" onclick="closeSettingsModal()">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
        <button class="btn-save" onclick="saveBgSettings()">ä¿å­˜</button>
      </div>
    </div>
  </div>

<div id="shop-modal" class="modal-overlay hidden">
    <div class="modal" style="width: 500px; max-height: 80vh;">
        <h3><span class="material-icons">shopping_cart</span> XPã‚·ãƒ§ãƒƒãƒ—</h3>
        <p style="font-size:12px; margin-bottom:15px; color:#666;">XPã‚’æ¶ˆè²»ã—ã¦ä½œæ¥­ã‚’è‡ªå‹•åŒ–ãƒ»åŠ¹ç‡åŒ–ã—ã‚ˆã†ï¼</p>
        
        <div id="shop-items-container" style="overflow-y: auto; max-height: 60vh; padding-right: 5px;">
            </div>

        <div class="modal-buttons" style="border-top: 1px solid #eee; margin-top: 15px; padding-top: 10px;">
            <button class="btn-save" onclick="document.getElementById('shop-modal').classList.add('hidden')">é–‰ã˜ã‚‹</button>
        </div>
    </div>
</div>

  <div id="ranking-modal" class="modal-overlay hidden">
      <div class="modal">
          <h3><span class="material-icons">leaderboard</span> ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ã‚³ã‚¢ãƒ©ãƒ³ã‚­ãƒ³ã‚°ï¼ˆ30åˆ†ã”ã¨ã«æ›´æ–°ã•ã‚Œã¾ã™ï¼‰</h3>
          <ul id="ranking-list" class="ranking-list">
              <li style="text-align:center; padding:20px; color:#999;">èª­ã¿è¾¼ã¿ä¸­...</li>
          </ul>
          <div class="modal-buttons">
              <button class="btn-save" onclick="document.getElementById('ranking-modal').classList.add('hidden')">é–‰ã˜ã‚‹</button>
          </div>
      </div>
  </div>
  
<div id="race-modal" class="modal-overlay hidden">
    <div class="modal" style="width:600px;">
        <h3>ğŸ‡ ç«¶é¦¬ã‚²ãƒ¼ãƒ  <span id="race-timer" style="float:right; font-size:12px; color:red;"></span></h3>
        <p>1ç€ã«ãªã‚‹é¦¬ã‚’äºˆæƒ³ã—ã¦è³­ã‘ã‚ˆã†ï¼ï¼ˆå€ç‡2å€ã€œ10å€ï¼‰</p>
        
        <div id="race-betting-area">
            </div>

        <div id="race-view-area" class="hidden">
            <div class="race-track" id="race-track">
                <div class="race-goal-line"></div>
                </div>
            <div id="race-status" style="text-align:center; font-weight:bold; font-size:18px;"></div>
        </div>

        <div class="modal-buttons">
            <button class="btn-cancel" onclick="document.getElementById('race-modal').classList.add('hidden')">é–‰ã˜ã‚‹</button>
        </div>
    </div>
</div>

<div id="gacha-modal" class="modal-overlay hidden">
    <div class="modal" style="text-align:center;">
        <h3>ğŸ¦„ åé¦¬ã‚¬ãƒãƒ£ (1å› 500å††)</h3>
        <div id="gacha-animation-area" style="min-height:150px; display:flex; align-items:center; justify-content:center;">
            <button class="btn-save" onclick="GM.pullGacha()" style="padding:15px 30px; font-size:16px;">
                å¼•ãï¼ (Â¥500)
            </button>
        </div>
        <div style="margin-top:15px; font-size:12px; color:#666;">
            ç²å¾—ã—ãŸé¦¬ã¯ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã«è¿½åŠ ã•ã‚Œã¾ã™
        </div>
        <div class="modal-buttons">
            <button class="btn-cancel" onclick="document.getElementById('gacha-modal').classList.add('hidden')">é–‰ã˜ã‚‹</button>
        </div>
    </div>
</div>

<div id="money-ranking-modal" class="modal-overlay hidden">
    <div class="modal" style="width: 480px; max-width: 95vw; padding: 0; border-radius: 12px; overflow: hidden;">
        
        <div style="background: #f8f9fa; padding: 15px 20px; border-bottom: 1px solid #eaeaea; display: flex; justify-content: space-between; align-items: center;">
            <div>
                <h3 style="margin: 0; font-size: 18px; color: #2c3e50; font-family: 'Orbitron', sans-serif;">
                    ğŸ† æ‰€æŒé‡‘ãƒ©ãƒ³ã‚­ãƒ³ã‚°
                </h3>
                <span style="font-size: 11px; color: #7f8c8d;">Top Players & You</span>
            </div>
            <button onclick="GM.showRankingWindow()" style="background:none; border:none; cursor:pointer; color:#0079bf; transition:transform 0.2s;" onmouseover="this.style.transform='rotate(180deg)'" onmouseout="this.style.transform='rotate(0deg)'" title="ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’æ›´æ–°">
                <span class="material-icons" style="font-size: 24px;">refresh</span>
            </button>
        </div>

        <div id="ranking-list-body" style="height: 400px; overflow-y: auto; background: #fff; padding: 10px;">
            <div style="display:flex; justify-content:center; align-items:center; height:100%; color:#aaa; flex-direction:column;">
                <span class="material-icons" style="font-size:40px; margin-bottom:10px;">hourglass_empty</span>
                <span>ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿ä¸­...</span>
            </div>
        </div>

        <div class="modal-buttons" style="padding: 12px 20px; background: #f8f9fa; border-top: 1px solid #eaeaea; text-align: right; display: block;">
            <button class="btn-cancel" onclick="document.getElementById('money-ranking-modal').classList.add('hidden')" style="padding: 8px 25px;">é–‰ã˜ã‚‹</button>
        </div>
    </div>
</div>

  <div id="dashboard-modal" class="modal-overlay hidden">
    <div class="modal" style="width:800px; max-width:90vw;">
      <h3><span class="material-icons">analytics</span> ç°¡æ˜“ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</h3>
      <div style="display:flex; flex-wrap:wrap; gap:20px; justify-content:center;">
        <div style="width:350px; height:300px;">
          <canvas id="chart-workload"></canvas>
        </div>
        <div style="width:350px; height:300px;">
          <canvas id="chart-list"></canvas>
        </div>
      </div>
      <div class="modal-buttons">
        <button class="btn-cancel" onclick="document.getElementById('dashboard-modal').classList.add('hidden')">é–‰ã˜ã‚‹</button>
      </div>
    </div>
  </div>

  <div id="bulk-assign-modal" class="modal-overlay hidden">
    <div class="modal">
      <h3><span class="material-icons">manage_accounts</span> ä¸€æ‹¬æ‹…å½“è€…è¨­å®š</h3>
      <p style="font-size:12px; color:#eb5a46;">â€» å¤‰æ›´ã—ãŸã„é …ç›®ã®ã¿é¸æŠã—ã¦ãã ã•ã„ã€‚æœªé¸æŠã®é …ç›®ã¯å¤‰æ›´ã•ã‚Œã¾ã›ã‚“ã€‚</p>
      
      <div class="form-group">
        <label>ã‚·ã‚¹ãƒ†ãƒ ç¨®åˆ¥ 1</label>
        <select id="bulk-systemType">
          <option value="">(å¤‰æ›´ã—ãªã„)</option>
          <option value="ä¸­æ±Ÿå¼äºˆç´„ã‚·ã‚¹ãƒ†ãƒ /ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆ">ä¸­æ±Ÿå¼äºˆç´„ã‚·ã‚¹ãƒ†ãƒ /ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆ</option>
          <option value="Mokare">Mokare</option>
        </select>
      </div>
      <div class="form-group">
        <label>ã‚·ã‚¹ãƒ†ãƒ ç¨®åˆ¥ 2</label>
        <select id="bulk-systemType2">
          <option value="">(å¤‰æ›´ã—ãªã„)</option>
          <option value="ä¸­æ±Ÿå¼äºˆç´„ã‚·ã‚¹ãƒ†ãƒ /ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆ">ä¸­æ±Ÿå¼äºˆç´„ã‚·ã‚¹ãƒ†ãƒ /ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆ</option>
          <option value="Mokare">Mokare</option>
        </select>
      </div>
      <hr style="border:0; border-top:1px solid #eee; margin: 10px 0;">

      <div class="form-group"><label>æ§‹ç¯‰æ‹…å½“è€…</label><select id="bulk-construction"><option value="">(å¤‰æ›´ã—ãªã„)</option></select></div>
      <div class="form-group"><label>äºˆç´„ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰æ‹…å½“</label><select id="bulk-system"><option value="">(å¤‰æ›´ã—ãªã„)</option></select></div>
      <div class="form-group"><label>å•†è«‡æ‹…å½“</label><select id="bulk-sales"><option value="">(å¤‰æ›´ã—ãªã„)</option></select></div>
      <div class="form-group"><label>MTGæ‹…å½“è€…</label><select id="bulk-mtg"><option value="">(å¤‰æ›´ã—ãªã„)</option></select></div>
      
      <div class="modal-buttons">
        <button class="btn-cancel" onclick="document.getElementById('bulk-assign-modal').classList.add('hidden')">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
        <button class="btn-save" onclick="submitBulkAssign()">ä¸€æ‹¬æ›´æ–°</button>
      </div>
    </div>
  </div>

<div id="memo-modal" class="modal-overlay hidden">
    <div class="modal">
      <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
        <h3 style="margin:0;"><span class="material-icons">edit_note</span> ãƒ¡ãƒ¢å¸³</h3>
        <button class="btn-cancel" onclick="closeMemoModal()" style="padding:4px 8px; font-size:12px;">âœ• é–‰ã˜ã‚‹</button>
      </div>
      
      <div class="memo-container">
        <div class="memo-left-panel">
          <div class="memo-tabs">
            <div class="memo-tab active" id="tab-memo-personal" onclick="switchMemoTab('personal')">å€‹äººãƒ¡ãƒ¢</div>
            <div class="memo-tab" id="tab-memo-shared" onclick="switchMemoTab('shared')">å…¨å“¡ã¸å…±æœ‰</div>
          </div>

          <div id="card-memo-header-placeholder"></div>

          <div class="form-group">
            <label>å†…å®¹</label>
            <textarea id="memo-content" rows="6" placeholder="ãƒ¡ãƒ¢ã‚’å…¥åŠ›..." style="resize: vertical;"></textarea>
          </div>

          <div class="form-group">
              <label>é–¢ä¿‚è€…ã‚¿ã‚°ä»˜ã‘ (ã‚¯ãƒªãƒƒã‚¯ã§é¸æŠ)</label>
              <div id="memo-user-selector" class="related-users-selector">
                </div>
          </div>

          <div class="form-group">
            <label>é€šçŸ¥æ—¥æ™‚ (ä»»æ„)</label>
            <input type="datetime-local" id="memo-notify-time">
          </div>

          <div style="margin-top:auto; text-align:right;">
              <button id="btn-add-memo" class="btn-save" onclick="execAddMemo()" style="width:100%;">
                <span class="material-icons" style="font-size:16px; vertical-align:middle;">add_circle</span> è¿½åŠ ã™ã‚‹
              </button>
          </div>
        </div>

        <div class="memo-center-panel">
          <div style="font-weight:bold; font-size:12px; color:#0079bf; margin-bottom:10px; display:flex; justify-content:space-between; align-items:center; border-bottom:2px solid #0079bf; padding-bottom:5px;">
            <span><span class="material-icons" style="font-size:16px; vertical-align:middle;">assignment</span> æœªå®Œäº†ã‚¿ã‚¹ã‚¯</span>
            <span id="memo-count-unfinished" style="background:#0079bf; color:white; padding:1px 8px; border-radius:10px; font-size:11px;">0</span>
          </div>
          <ul id="memo-list-unfinished" class="memo-list">
              </ul>
        </div>

        <div class="memo-right-panel">
          <div style="font-weight:bold; font-size:12px; color:#555; margin-bottom:10px; display:flex; justify-content:space-between; align-items:center; border-bottom:2px solid #999; padding-bottom:5px;">
            <span><span class="material-icons" style="font-size:16px; vertical-align:middle;">task_alt</span> å®Œäº†æ¸ˆã¿</span>
            <span id="memo-count-finished" style="background:#999; color:white; padding:1px 8px; border-radius:10px; font-size:11px;">0</span>
          </div>
          <ul id="memo-list-finished" class="memo-list">
              </ul>
        </div>

      </div>
    </div>
  </div>

<script>
    // â˜… ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†è¨­å®š â˜…
    // æ–°ã—ã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’è¿½åŠ ã™ã‚‹å ´åˆã¯ã“ã“ã« 'ID': 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰' ã‚’è¿½åŠ ã—ã¦ãã ã•ã„
const ALLOWED_USERS = {
        'wakuwaku0418': 'wakuwaku0418',
        'aochan': 'aochan',
        'mj': 'atrt03121325',
        'sasahara': 'sasahara',
        'Inuyama': 'Inuyama',
        'reimen': 'reimen',
        'sirai': 'sirai',
        'murano': 'murano',
        'yuni': 'yuni',
        'kimura': 'kimura',
        'hino': 'hino',
        'derby0605': 'derby0605'
    };

    const LOGIN_KEY = 'trello_app_session';
    const USER_KEY = 'trello_app_current_user'; // ãƒ­ã‚°ã‚¤ãƒ³ãƒ¦ãƒ¼ã‚¶ãƒ¼IDä¿å­˜ç”¨

    let currentUserId = null; // ç¾åœ¨ãƒ­ã‚°ã‚¤ãƒ³ä¸­ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ID

    let globalData = { lists: [], cards: [], members: [] }; 
    let currentEditCardId = null;
    let currentQuickFilter = null; 
    let currentSidebarType = null;
    let currentContextCardId = null; 
    
    let hiddenListIds = new Set(JSON.parse(localStorage.getItem('trello_hidden_lists') || '[]'));
    let unlockedListIds = new Set(JSON.parse(localStorage.getItem('trello_unlocked_lists') || '[]'));
    let favoriteListIds = new Set(JSON.parse(localStorage.getItem('trello_favorite_lists') || '[]'));
    let selectedMoveListId = null;

    let isBulkMode = false;
    let selectedBulkCardIds = new Set();

    let commandHistory = [];
    let commandFuture = [];

    const ROLE_KEYS = ['construction', 'system', 'sales', 'mtg'];
    
    let chartInstances = {};
    let globalMemos = [];
    let currentMemoTab = 'personal';

// â˜…è¿½åŠ ï¼šã‚«ãƒ¼ãƒ‰ãƒ¡ãƒ¢ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç”¨å¤‰æ•°
    let cardMemoCache = {};

    // â˜… è¿½åŠ æ©Ÿèƒ½ç”¨å¤‰æ•° â˜…
    const konamiCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];
    let konamiIndex = 0;

// â†“â†“â†“ ã“ã“ã«è¿½åŠ  â†“â†“â†“
    let isBgmCoolingDown = false; // èª¤ã‚¯ãƒªãƒƒã‚¯é˜²æ­¢ç”¨ã®ãƒ•ãƒ©ã‚°
    // â†‘â†‘â†‘ ã“ã“ã«è¿½åŠ  â†‘â†‘â†‘
    
const bgmFiles = {
        fire: 'https://actions.google.com/sounds/v1/ambiences/fire.ogg',
        rain: 'https://actions.google.com/sounds/v1/weather/rain_heavy_loud.ogg',
        cafe: 'https://actions.google.com/sounds/v1/ambiences/coffee_shop.ogg',
        deepsea: 'https://actions.google.com/sounds/v1/water/ocean_waves_large_lp.ogg',
        cyber: 'https://actions.google.com/sounds/v1/science_fiction/scifi_drone_machine_loud.ogg'
    };
    let currentAudio = null;
    let currentBgmType = null;

/* =========================================
       ğŸ® ã‚²ãƒ¼ãƒŸãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚·ã‚¹ãƒ†ãƒ  (GameManager)
       ========================================= */
const XP_TABLE = {
        login: 50, firstLogin: 200, dailyBonus: 50,
        move: 20, assign: 30, memo: 15, create: 25, complete: 100, pin: 10
    };
// â˜…å¤‰æ›´å¾Œï¼š200æ®µéšã€æœ€å¤§XP 9,999,999,999,999,999
    const RANKS = [
        {name: "è»¢ç”Ÿè€…", minXp: 0},
        {name: "æ‘äººLv.1", minXp: 100},
        {name: "æ‘äººLv.5", minXp: 216},
        {name: "æ‘äººLv.10", minXp: 352},
        {name: "æ‘äººLv.MAX", minXp: 510},
        {name: "è¡—äºº", minXp: 694},
        {name: "é“å…·å±‹ã®å¸¸é€£", minXp: 909},
        {name: "ã‚®ãƒ«ãƒ‰ã®æ–°äºº", minXp: 1160},
        {name: "ã‚¹ãƒ©ã‚¤ãƒ ãƒãƒ³ã‚¿ãƒ¼", minXp: 1451},
        {name: "ã‚´ãƒ–ãƒªãƒ³ã‚¹ãƒ¬ã‚¤ãƒ¤ãƒ¼", minXp: 1791},
        {name: "éŠ…ç´šå†’é™ºè€…", minXp: 2187},
        {name: "é‰„ç´šå†’é™ºè€…", minXp: 2649},
        {name: "éŠ€ç´šå†’é™ºè€…", minXp: 3187},
        {name: "é‡‘ç´šå†’é™ºè€…", minXp: 3813},
        {name: "ç™½é‡‘ç´šå†’é™ºè€…", minXp: 4543},
        {name: "ãƒŸã‚¹ãƒªãƒ«ç´š", minXp: 5392},
        {name: "ã‚ªãƒªãƒãƒ«ã‚³ãƒ³ç´š", minXp: 6382},
        {name: "ã‚¢ãƒ€ãƒãƒ³ã‚¿ã‚¤ãƒˆç´š", minXp: 7534},
        {name: "å†’é™ºè€…ç‹", minXp: 8876},
        {name: "ã‚®ãƒ«ãƒ‰ãƒã‚¹ã‚¿ãƒ¼", minXp: 10439},
        {name: "ä¸‹ç´šå…µå£«", minXp: 12258},
        {name: "ä¸‹ç´šé­”å°å£«", minXp: 14376},
        {name: "ä¸‹ç´šå‰£å£«", minXp: 16843},
        {name: "ä¸‹ç´šæ ¼é—˜å®¶", minXp: 19714},
        {name: "ä¸‹ç´šç²¾éœŠä½¿ã„", minXp: 23058},
        {name: "ä¸­ç´šå…µå£«", minXp: 26951},
        {name: "ä¸­ç´šé­”å°å£«", minXp: 31484},
        {name: "ä¸­ç´šå‰£å£«", minXp: 36762},
        {name: "ä¸­ç´šæ ¼é—˜å®¶", minXp: 42907},
        {name: "ä¸­ç´šç²¾éœŠä½¿ã„", minXp: 50063},
        {name: "ä¸Šç´šå…µå£«", minXp: 58394},
        {name: "ä¸Šç´šé­”å°å£«", minXp: 68094},
        {name: "ä¸Šç´šå‰£å£«", minXp: 79387},
        {name: "ä¸Šç´šæ ¼é—˜å®¶", minXp: 92536},
        {name: "ä¸Šç´šç²¾éœŠä½¿ã„", minXp: 107845},
        {name: "ç‰¹ç´šå…µå£«", minXp: 125669},
        {name: "ç‰¹ç´šé­”å°å£«", minXp: 146422},
        {name: "ç‰¹ç´šå‰£å£«", minXp: 170584},
        {name: "ç‰¹ç´šæ ¼é—˜å®¶", minXp: 198716},
        {name: "ç‰¹ç´šç²¾éœŠä½¿ã„", minXp: 231471},
        {name: "è¿‘è¡›é¨å£«", minXp: 269608},
        {name: "çœŸãƒ»è¿‘è¡›é¨å£«", minXp: 314011},
        {name: "å®®å»·é­”è¡“å¸«", minXp: 365709},
        {name: "çœŸãƒ»å®®å»·é­”è¡“å¸«", minXp: 425902},
        {name: "ãƒ‰ãƒ©ã‚´ãƒ³ãƒŠã‚¤ãƒˆ", minXp: 495984},
        {name: "çœŸãƒ»ãƒ‰ãƒ©ã‚´ãƒ³ãƒŠã‚¤ãƒˆ", minXp: 577580},
        {name: "ãƒã‚¯ãƒ­ãƒãƒ³ã‚µãƒ¼", minXp: 672580},
        {name: "çœŸãƒ»ãƒã‚¯ãƒ­ãƒãƒ³ã‚µãƒ¼", minXp: 783188},
        {name: "ã‚µãƒ¢ãƒŠãƒ¼", minXp: 911964},
        {name: "çœŸãƒ»ã‚µãƒ¢ãƒŠãƒ¼", minXp: 1061895},
        {name: "å°†è»", minXp: 1236458},
        {name: "å¤§å°†è»", minXp: 1439698},
        {name: "å…ƒå¸¥", minXp: 1676326},
        {name: "å¤§å…ƒå¸¥", minXp: 1951833},
        {name: "å®°ç›¸", minXp: 2272598},
        {name: "å¤§å®°ç›¸", minXp: 2646061},
        {name: "å›½ç‹", minXp: 3080880},
        {name: "å¤§å›½ç‹", minXp: 3587131},
        {name: "çš‡å¸", minXp: 4176548},
        {name: "å¤§çš‡å¸", minXp: 4862794},
        {name: "è¦šé†’è€…Lv.60", minXp: 5661769},
        {name: "è¦šé†’è€…Lv.61", minXp: 6591998},
        {name: "è¦šé†’è€…Lv.62", minXp: 7675039},
        {name: "è¦šé†’è€…Lv.63", minXp: 8935987},
        {name: "è¦šé†’è€…Lv.64", minXp: 10404111},
        {name: "è¦šé†’è€…Lv.65", minXp: 12113426},
        {name: "è¦šé†’è€…Lv.66", minXp: 14103554},
        {name: "è¦šé†’è€…Lv.67", minXp: 16420625},
        {name: "è¦šé†’è€…Lv.68", minXp: 19118318},
        {name: "è¦šé†’è€…Lv.69", minXp: 22259114},
        {name: "è¦šé†’è€…Lv.70", minXp: 25915837},
        {name: "è¦šé†’è€…Lv.71", minXp: 30173169},
        {name: "è¦šé†’è€…Lv.72", minXp: 35129965},
        {name: "è¦šé†’è€…Lv.73", minXp: 40901069},
        {name: "è¦šé†’è€…Lv.74", minXp: 47620224},
        {name: "è¦šé†’è€…Lv.75", minXp: 55443187},
        {name: "è¦šé†’è€…Lv.76", minXp: 64551322},
        {name: "è¦šé†’è€…Lv.77", minXp: 75155700},
        {name: "è¦šé†’è€…Lv.78", minXp: 87502181},
        {name: "è¦šé†’è€…Lv.79", minXp: 101876939},
        {name: "è¦šé†’è€…Lv.80", minXp: 118613437},
        {name: "è¦šé†’è€…Lv.81", minXp: 138099395},
        {name: "è¦šé†’è€…Lv.82", minXp: 160786566},
        {name: "è¦šé†’è€…Lv.83", minXp: 187200465},
        {name: "è¦šé†’è€…Lv.84", minXp: 217953682},
        {name: "è¦šé†’è€…Lv.85", minXp: 253759082},
        {name: "è¦šé†’è€…Lv.86", minXp: 295445778},
        {name: "è¦šé†’è€…Lv.87", minXp: 343980689},
        {name: "è¦šé†’è€…Lv.88", minXp: 400488663},
        {name: "è¦šé†’è€…Lv.89", minXp: 466280053},
        {name: "è¦šé†’è€…Lv.90", minXp: 542879944},
        {name: "è¦šé†’è€…Lv.91", minXp: 632064115},
        {name: "è¦šé†’è€…Lv.92", minXp: 735898864},
        {name: "è¦šé†’è€…Lv.93", minXp: 856791696},
        {name: "è¦šé†’è€…Lv.94", minXp: 997545168},
        {name: "è¦šé†’è€…Lv.95", minXp: 1161421711},
        {name: "è¦šé†’è€…Lv.96", minXp: 1352219766},
        {name: "è¦šé†’è€…Lv.97", minXp: 1574364023},
        {name: "è¦šé†’è€…Lv.98", minXp: 1833003460},
        {name: "è¦šé†’è€…Lv.99", minXp: 2134131551},
        {name: "è‹±é›„ã®åµ", minXp: 2484729090},
        {name: "å°å›½ã®è‹±é›„", minXp: 2892928509},
        {name: "ç‹å›½ã®è‹±é›„", minXp: 3368187848},
        {name: "å¸å›½ã®è‹±é›„", minXp: 3921516223},
        {name: "å¤§é™¸ã®è‹±é›„", minXp: 4565744431},
        {name: "ä¸–ç•Œã®è‹±é›„", minXp: 5315801967},
        {name: "ä¼èª¬ã®å‹‡è€…", minXp: 6189078602},
        {name: "çœŸã®å‹‡è€…", minXp: 7205809765},
        {name: "æ•‘ä¸–ä¸»", minXp: 8389569485},
        {name: "ãƒ¡ã‚·ã‚¢", minXp: 9767812975},
        {name: "äººé–“å›½å®", minXp: 11372473489},
        {name: "ç”Ÿãã‚‹ä¼èª¬", minXp: 13240751965},
        {name: "æ­´å²ã®ç‰¹ç•°ç‚¹", minXp: 15415951834},
        {name: "ç¥è©±ã®ä½äºº", minXp: 17948493188},
        {name: "åŠç¥åŠäºº", minXp: 20897089456},
        {name: "äºœç¥", minXp: 24329976378},
        {name: "ç¾äººç¥", minXp: 28326798033},
        {name: "å®ˆè­·ç¥", minXp: 32980227181},
        {name: "æ­¦ç¥", minXp: 38398188151},
        {name: "è»ç¥", minXp: 44706240292},
        {name: "é­”ç¥", minXp: 52050588628},
        {name: "é‚ªç¥", minXp: 60601366114},
        {name: "ç ´å£Šç¥", minXp: 70556858349},
        {name: "å‰µé€ ç¥", minXp: 82147856755},
        {name: "å¤©ç•Œã®ä½äºº", minXp: 95643034870},
        {name: "å¤©ä½¿é•·", minXp: 111355207758},
        {name: "å¤§å¤©ä½¿", minXp: 129648624107},
        {name: "ç†¾å¤©ä½¿", minXp: 150947271954},
        {name: "å •å¤©ä½¿", minXp: 175744634860},
        {name: "é­”ç•Œã®ç‹", minXp: 204615783515},
        {name: "åŠç¥", minXp: 238229864273},
        {name: "ä¸‹ç´šç¥", minXp: 277366173264},
        {name: "ä¸­ç´šç¥", minXp: 322931980327},
        {name: "ä¸Šç´šç¥", minXp: 375983790938},
        {name: "ä¸»ç¥", minXp: 437750734080},
        {name: "å‰µé€ ç¥", minXp: 509664971701},
        {name: "å…¨çŸ¥å…¨èƒ½", minXp: 593393282439},
        {name: "æ˜Ÿã®æ„å¿—", minXp: 690876793666},
        {name: "å¤ªé™½ã®åŒ–èº«", minXp: 804375001925},
        {name: "éŠ€æ²³ã®è¦‡è€…", minXp: 936517651037},
        {name: "å®‡å®™ã®å¸ç‹", minXp: 1090367350796},
        {name: "æ™‚ç©ºã®æ”¯é…è€…", minXp: 1269492160677},
        {name: "æ¬¡å…ƒã®è¶…è¶Šè€…", minXp: 1478044733364},
        {name: "ä¸¦è¡Œä¸–ç•Œã®è¦³æ¸¬è€…", minXp: 1720857329431},
        {name: "å› æœå¾‹ã®ç®¡ç†è€…", minXp: 2003559385558},
        {name: "é‹å‘½ã®ç´¡ãæ‰‹", minXp: 2332704250228},
        {name: "çµ‚ç„‰ã‚’å‘Šã’ã‚‹è€…", minXp: 2715923122176},
        {name: "å§‹ã¾ã‚Šã®è€…", minXp: 3162100874944},
        {name: "ç„¡é™", minXp: 3681585293678},
        {name: "è™šç„¡", minXp: 4286411520698},
        {name: "ç‰¹ç•°ç‚¹", minXp: 4990600868856},
        {name: "äº‹è±¡ã®åœ°å¹³ç·š", minXp: 5810476839352},
        {name: "ãƒ“ãƒƒã‚°ãƒãƒ³", minXp: 6765042857431},
        {name: "ãƒ¦ãƒ‹ãƒãƒ¼ã‚¹", minXp: 7876426742511},
        {name: "ãƒãƒ«ãƒãƒãƒ¼ã‚¹", minXp: 9170367364121},
        {name: "ã‚ªãƒ ãƒ‹ãƒãƒ¼ã‚¹", minXp: 10676882046835},
        {name: "ã‚¢ã‚«ã‚·ãƒƒã‚¯ãƒ¬ã‚³ãƒ¼ãƒ‰", minXp: 12430893084365},
        {name: "æ¦‚å¿µçš„å­˜åœ¨", minXp: 14473060183187},
        {name: "æ³•å‰‡ãã®ã‚‚ã®", minXp: 16850709923831},
        {name: "Bit", minXp: 19618956920958},
        {name: "Byte", minXp: 22841973615598},
        {name: "Kilobyte", minXp: 26594473855660},
        {name: "Megabyte", minXp: 30963442377319},
        {name: "Gigabyte", minXp: 36050116664536},
        {name: "Terabyte", minXp: 41972429469502},
        {name: "Petabyte", minXp: 48867673587424},
        {name: "Exabyte", minXp: 56895593139369},
        {name: "Zettabyte", minXp: 66242354780517},
        {name: "Yottabyte", minXp: 77124483733075},
        {name: "Hello World", minXp: 89794155106173},
        {name: "Script Kiddie", minXp: 104545163990623},
        {name: "Programmer", minXp: 121719409590822},
        {name: "Hacker", minXp: 141715077247734},
        {name: "Senior Engineer", minXp: 164995648873737},
        {name: "Tech Lead", minXp: 192100863073030},
        {name: "CTO", minXp: 223659424729146},
        {name: "AI", minXp: 260402422079029},
        {name: "Super AI", minXp: 303181829676579},
        {name: "Singularity", minXp: 352989260490795},
        {name: "The Glitch", minXp: 410979144365768},
        {name: "404 Not Found", minXp: 478495811354146},
        {name: "Stack Overflow", minXp: 557102660021659},
        {name: "System Admin", minXp: 648623194017367},
        {name: "Root User", minXp: 755178657613765},
        {name: "è¶…è¶Šè€…ãƒ©ãƒ³ã‚¯196", minXp: 879238350742511},
        {name: "è¶…è¶Šè€…ãƒ©ãƒ³ã‚¯197", minXp: 1023678502206677},
        {name: "è¶…è¶Šè€…ãƒ©ãƒ³ã‚¯198", minXp: 1191847144415519},
        {name: "è¶…è¶Šè€…ãƒ©ãƒ³ã‚¯199", minXp: 1387642646399086},
        {name: "THE END", minXp: 9999999999999999}
    ];
    const SKINS = [
        {id: 'skin-silver', name: 'ã‚·ãƒ«ãƒãƒ¼ãƒ¡ã‚¿ãƒ« (Lv.10)', minLv: 10},
        {id: 'skin-gold', name: 'ã‚´ãƒ¼ãƒ«ãƒ‰ (Lv.20)', minLv: 20},
        {id: 'skin-hologram', name: 'ãƒ›ãƒ­ã‚°ãƒ©ãƒ  (Lv.30)', minLv: 30},
        {id: 'skin-blackdiamond', name: 'ãƒ–ãƒ©ãƒƒã‚¯ãƒ€ã‚¤ãƒ¤ãƒ¢ãƒ³ãƒ‰ (Lv.40)', minLv: 40},
        {id: 'skin-blueprint', name: 'è¨­è¨ˆå›³', minLv: 1},
        {id: 'skin-matrix', name: 'ãƒãƒˆãƒªãƒƒã‚¯ã‚¹', minLv: 5},
        {id: 'skin-gaming', name: 'ã‚²ãƒ¼ãƒŸãƒ³ã‚°PC', minLv: 15},
        {id: 'skin-rain', name: 'é›¨ã‚¬ãƒ©ã‚¹', minLv: 1},
        {id: 'skin-zen', name: 'ç¦… (ZEN)', minLv: 1},
        {id: 'skin-paw', name: 'çŒ«ã®è‚‰çƒ', minLv: 1}
    ];

// =========================================
// â˜…ä¿®æ­£ç‰ˆï¼šã‚·ãƒ§ãƒƒãƒ—æ©Ÿèƒ½ (ã“ã“ã‹ã‚‰ã‚³ãƒ”ãƒ¼)
// =========================================

// ã‚¢ã‚¤ãƒ†ãƒ å®šç¾© (50ç¨®ä»¥ä¸Š)
const SHOP_ITEMS = {
    // --- ã€Lv1ã€‘ åˆå¿ƒè€…ã‚»ãƒƒãƒˆ (ã€œ1ä¸‡XP) ---
    mouse: { name: "ã‚²ãƒ¼ãƒŸãƒ³ã‚°ãƒã‚¦ã‚¹", baseCost: 500, clickPower: 2, type: 'click', desc: "ã‚¯ãƒªãƒƒã‚¯åŠ¹ç‡ãŒå°‘ã—ä¸ŠãŒã‚Šã¾ã™" },
    coffee: { name: "æ·¹ã‚ŒãŸã¦ã‚³ãƒ¼ãƒ’ãƒ¼", baseCost: 800, xpPerSec: 0.5, type: 'auto', desc: "ã‚«ãƒ•ã‚§ã‚¤ãƒ³ã§é›†ä¸­åŠ›ã‚¢ãƒƒãƒ—" },
    energy_drink: { name: "ã‚¨ãƒŠã‚¸ãƒ¼ãƒ‰ãƒªãƒ³ã‚¯", baseCost: 1500, xpPerSec: 1.5, type: 'auto', desc: "ä¸€æ™‚çš„ãªç¿¼ã‚’æˆã‘ã‚‹" },
    cushion: { name: "ä½åç™ºã‚¯ãƒƒã‚·ãƒ§ãƒ³", baseCost: 2000, xpPerSec: 2, type: 'auto', desc: "ãŠå°»ã¸ã®è² æ‹…ã‚’è»½æ¸›" },
    textbook: { name: "æŠ€è¡“æ›¸", baseCost: 2500, xpPerSec: 3, type: 'auto', desc: "çŸ¥è­˜ã¯åŠ›ãªã‚Š" },
    blue_light: { name: "PCãƒ¡ã‚¬ãƒ", baseCost: 3500, xpPerSec: 4, type: 'auto', desc: "ç›®ã®ç–²ã‚Œã‚’ã‚¬ãƒ¼ãƒ‰" },
    ai: { name: "AIãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼", baseCost: 5000, xpPerSec: 5, type: 'auto', desc: "ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†ã¯ãŠæ‰‹ã®ç‰©" },
    keyboard: { name: "ãƒ¡ã‚«ãƒ‹ã‚«ãƒ«ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰", baseCost: 8500, xpPerSec: 10, type: 'auto', desc: "æ‰“éµéŸ³ãŒå¿ƒåœ°ã‚ˆã„" },

    // --- ã€Lv2ã€‘ æœ¬æ ¼ä½œæ¥­ã‚»ãƒƒãƒˆ (1ä¸‡ã€œ10ä¸‡XP) ---
    ssd: { name: "NVMe SSD", baseCost: 12000, xpPerSec: 15, type: 'auto', desc: "ãƒ­ãƒ¼ãƒ‰æ™‚é–“ã‚’çŸ­ç¸®" },
    drone: { name: "è‡ªå‹•åŒ–ãƒ‰ãƒ­ãƒ¼ãƒ³", baseCost: 15000, xpPerSec: 20, type: 'auto', desc: "ç©ºã‹ã‚‰ç›£è¦–ãƒ»ç®¡ç†" },
    desk: { name: "æ˜‡é™å¼ãƒ‡ã‚¹ã‚¯", baseCost: 22000, xpPerSec: 30, type: 'auto', desc: "ç«‹ã£ã¦ä½œæ¥­ã—ã¦å¥åº·ç¶­æŒ" },
    monitor: { name: "ãƒ‡ãƒ¥ã‚¢ãƒ«ãƒ¢ãƒ‹ã‚¿ãƒ¼", baseCost: 30000, xpPerSec: 45, type: 'auto', desc: "ä½œæ¥­åŠ¹ç‡ãŒå€å¢—" },
    chair: { name: "é«˜ç´šã‚ªãƒ•ã‚£ã‚¹ãƒã‚§ã‚¢", baseCost: 40000, xpPerSec: 60, type: 'auto', desc: "ã‚¢ãƒ¼ãƒ­ãƒ³ãªåº§ã‚Šå¿ƒåœ°" },
    server: { name: "é‡å­ã‚µãƒ¼ãƒãƒ¼", baseCost: 50000, xpPerSec: 100, type: 'auto', desc: "è¶…é«˜é€Ÿå‡¦ç†ã‚’å®Ÿç¾" },
    vr_headset: { name: "VRãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹", baseCost: 65000, xpPerSec: 150, type: 'auto', desc: "ç„¡é™ã®ä»®æƒ³ãƒ¢ãƒ‹ã‚¿ãƒ¼" },
    copilot: { name: "GitHub Copilot", baseCost: 80000, xpPerSec: 200, type: 'auto', desc: "ã‚³ãƒ¼ãƒ‰è£œå®Œã®ç¥" },

    // --- ã€Lv3ã€‘ ä¼æ¥­ãƒ»ã‚¤ãƒ³ãƒ•ãƒ©ç´š (10ä¸‡ã€œ100ä¸‡XP) ---
    fiber: { name: "å°‚ç”¨å…‰å›ç·š", baseCost: 120000, xpPerSec: 300, type: 'auto', desc: "ãƒ©ã‚°ã¨ã¯ç„¡ç¸ã®ä¸–ç•Œ" },
    bot_farm: { name: "Botãƒ•ã‚¡ãƒ¼ãƒ ", baseCost: 150000, xpPerSec: 400, type: 'auto', desc: "å¤§é‡ã®BotãŒä½œæ¥­ä»£è¡Œ" },
    matrix: { name: "ãƒãƒˆãƒªãƒƒã‚¯ã‚¹æ¥ç¶š", baseCost: 200000, xpPerSec: 500, type: 'auto', desc: "è„³ã‚’ç›´çµã—ã¦ä½œæ¥­" },
    satellite: { name: "é€šä¿¡è¡›æ˜Ÿ", baseCost: 300000, xpPerSec: 800, type: 'auto', desc: "å®‡å®™ã‹ã‚‰ã‚°ãƒ­ãƒ¼ãƒãƒ«å¯¾å¿œ" },
    cluster: { name: "GPUã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼", baseCost: 450000, xpPerSec: 1200, type: 'auto', desc: "ä¸¦åˆ—å‡¦ç†ã®æ¥µã¿" },
    offshore: { name: "ã‚ªãƒ•ã‚·ãƒ§ã‚¢é–‹ç™ºæ‹ ç‚¹", baseCost: 600000, xpPerSec: 1800, type: 'auto', desc: "24æ™‚é–“æ­¢ã¾ã‚‰ãªã„é–‹ç™º" },
    supercomputer: { name: "ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿", baseCost: 800000, xpPerSec: 2500, type: 'auto', desc: "ã€Œäº¬ã€ã‚’è¶…ãˆã‚‹è¨ˆç®—åŠ›" },

    // --- ã€Lv4ã€‘ SFãƒ»æœªæ¥æŠ€è¡“ (100ä¸‡ã€œ1å„„XP) ---
    singularity: { name: "æŠ€è¡“çš„ç‰¹ç•°ç‚¹", baseCost: 1000000, xpPerSec: 3000, type: 'auto', desc: "AIãŒè‡ªèº«ã‚’é€²åŒ–ã•ã›ã‚‹" },
    android: { name: "æ±ç”¨ã‚¢ãƒ³ãƒ‰ãƒ­ã‚¤ãƒ‰", baseCost: 1500000, xpPerSec: 5000, type: 'auto', desc: "ä¸çœ ä¸ä¼‘ã®åŠ´åƒåŠ›" },
    fusion: { name: "æ ¸èåˆç‚‰", baseCost: 2000000, xpPerSec: 7000, type: 'auto', desc: "ç„¡é™ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼ä¾›çµ¦" },
    datacenter: { name: "æœˆé¢ãƒ‡ãƒ¼ã‚¿ã‚»ãƒ³ã‚¿ãƒ¼", baseCost: 2500000, xpPerSec: 8000, type: 'auto', desc: "å†·å´åŠ¹ç‡ãŒæŠœç¾¤" },
    neura_link: { name: "é›»è„³ã‚¤ãƒ³ãƒ—ãƒ©ãƒ³ãƒˆ", baseCost: 4000000, xpPerSec: 12000, type: 'auto', desc: "æ€è€ƒé€Ÿåº¦ã§ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°" },
    space_elevator: { name: "å®‡å®™ã‚¨ãƒ¬ãƒ™ãƒ¼ã‚¿ãƒ¼", baseCost: 7000000, xpPerSec: 25000, type: 'auto', desc: "ç‰©æµã®é©å‘½" },
    godhand: { name: "ç¥ã®æ‰‹", baseCost: 10000000, xpPerSec: 50000, type: 'auto', desc: "è§¦ã‚Œã‚‹ã ã‘ã§ã‚³ãƒ¼ãƒ‰ãŒå®Œæˆ" },
    cloning: { name: "è‡ªå·±ã‚¯ãƒ­ãƒ¼ãƒ³", baseCost: 20000000, xpPerSec: 80000, type: 'auto', desc: "è‡ªåˆ†ã‚’å¢—ã‚„ã—ã¦åˆ†æ¥­" },
    dysonsphere: { name: "ãƒ€ã‚¤ã‚½ãƒ³çƒ", baseCost: 50000000, xpPerSec: 200000, type: 'auto', desc: "æ’æ˜Ÿã®ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’è¨ˆç®—åŠ›ã«" },

    // --- ã€Lv5ã€‘ å®‡å®™è¦æ¨¡ãƒ»æ¦‚å¿µ (1å„„XPã€œ) ---
    warp: { name: "ãƒ¯ãƒ¼ãƒ—èˆªæ³•", baseCost: 100000000, xpPerSec: 400000, type: 'auto', desc: "ç´æœŸã®å£ã‚’è¶…ãˆã‚‹" },
    type3: { name: "Type-III æ–‡æ˜", baseCost: 200000000, xpPerSec: 900000, type: 'auto', desc: "éŠ€æ²³ç³»å…¨ã¦ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’åˆ©ç”¨" },
    blackhole: { name: "ãƒ–ãƒ©ãƒƒã‚¯ãƒ›ãƒ¼ãƒ«æ¼”ç®—", baseCost: 400000000, xpPerSec: 1500000, type: 'auto', desc: "äº‹è±¡ã®åœ°å¹³ç·šã§è¨ˆç®—" },
    multiverse: { name: "å¤šå…ƒå®‡å®™ãƒã‚¤ãƒ‹ãƒ³ã‚°", baseCost: 800000000, xpPerSec: 3000000, type: 'auto', desc: "åˆ¥æ¬¡å…ƒã®ãƒªã‚½ãƒ¼ã‚¹ã‚’æ¾å–" },

    // --- ã€Lv6ã€‘ ãƒ¦ãƒ‹ãƒ¼ã‚¯ãƒ»è¶…å¸¸ç¾è±¡ãƒ»ç¥ã®é ˜åŸŸ (10å„„XPã€œ) ---
    akashic: { 
        name: "ã‚¢ã‚«ã‚·ãƒƒã‚¯ãƒ¬ã‚³ãƒ¼ãƒ‰", 
        baseCost: 1000000000, xpPerSec: 5000000, type: 'auto', isUnique: true,
        desc: "å…¨å®‡å®™ã®è¨˜æ†¶ã¨ã‚³ãƒ¼ãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹ (UNIQUE)"
    },
    planet_backup: { 
        name: "æƒ‘æ˜Ÿãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—", 
        baseCost: 2500000000, xpPerSec: 12000000, type: 'auto', isUnique: true,
        desc: "åœ°çƒã”ã¨Gitã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç† (UNIQUE)"
    },
    reality_editor: { 
        name: "ç¾å®Ÿæ”¹å¤‰ã‚¨ãƒ‡ã‚£ã‚¿", 
        baseCost: 5000000000, xpPerSec: 30000000, type: 'auto', isUnique: true,
        desc: "ç‰©ç†æ³•å‰‡ã‚’IDEã§æ›¸ãæ›ãˆã‚‹ (UNIQUE)"
    },
    life_api: { 
        name: "ç”Ÿå‘½å‰µé€ API", 
        baseCost: 10000000000, xpPerSec: 70000000, type: 'auto', isUnique: true,
        desc: "new Life() ã§ç”Ÿç‰©ã‚’ç”Ÿã¿å‡ºã™ (UNIQUE)"
    },
    time_looper: { 
        name: "ç„¡é™ã®ãƒ«ãƒ¼ãƒ—", 
        baseCost: 20000000000, xpPerSec: 150000000, type: 'auto', isUnique: true,
        desc: "æ™‚é–“ã‚’é¡ã‚Šä½œæ¥­æ™‚é–“ã‚’ç„¡é™ã«ç¢ºä¿ (UNIQUE)"
    },
    karma_converter: { 
        name: "ã‚«ãƒ«ãƒå¤‰æ›æ©Ÿ", 
        baseCost: 50000000000, xpPerSec: 400000000, type: 'auto', isUnique: true,
        desc: "å¾³ã‚’ç©ã‚“ã§XPã«å¤‰æ› (UNIQUE)"
    },
    developer_god: { 
        name: "å‰µé€ ä¸»ã®ç«¯æœ«", 
        baseCost: 100000000000, xpPerSec: 1000000000, type: 'auto', isUnique: true,
        desc: "ã“ã®ä¸–ç•Œãã®ã‚‚ã®ã‚’ãƒ‡ãƒãƒƒã‚° (UNIQUE)"
    },
    universe_fork: { 
        name: "å®‡å®™ã®ãƒ•ã‚©ãƒ¼ã‚¯", 
        baseCost: 250000000000, xpPerSec: 2500000000, type: 'auto', isUnique: true,
        desc: "æ°—ã«å…¥ã‚‰ãªã„ä¸–ç•Œç·šã‚’åˆ†å²ã•ã›ã‚‹ (UNIQUE)"
    },
    entropy_reverser: { 
        name: "ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼é€†è»¢è£…ç½®", 
        baseCost: 500000000000, xpPerSec: 6000000000, type: 'auto', isUnique: true,
        desc: "è¦†æ°´ã‚‚ç›†ã«è¿”ã‚‹ (UNIQUE)"
    },
    galactic_brain: { 
        name: "éŠ€æ²³è„³", 
        baseCost: 1000000000000, xpPerSec: 15000000000, type: 'auto', isUnique: true,
        desc: "éŠ€æ²³ãã®ã‚‚ã®ã‚’ãƒ‹ãƒ¥ãƒ¼ãƒ­ãƒ³ã¨ã—ã¦ä½¿ç”¨ (UNIQUE)"
    },
    dimension_hopper: { 
        name: "æ¬¡å…ƒãƒ›ãƒƒãƒ‘ãƒ¼", 
        baseCost: 2500000000000, xpPerSec: 35000000000, type: 'auto', isUnique: true,
        desc: "é«˜æ¬¡å…ƒã‹ã‚‰ä½æ¬¡å…ƒã‚’æœ€é©åŒ– (UNIQUE)"
    },
    the_answer: { 
        name: "42", 
        baseCost: 7777777777777, xpPerSec: 77777777777, type: 'auto', isUnique: true,
        desc: "ç”Ÿå‘½ã€å®‡å®™ã€ãã—ã¦ä¸‡ç‰©ã«ã¤ã„ã¦ã®ç©¶æ¥µã®ç­”ãˆ (UNIQUE)"
    },
    simulation_root: { 
        name: "Rootæ¨©é™ (Universe)", 
        baseCost: 15000000000000, xpPerSec: 200000000000, type: 'auto', isUnique: true,
        desc: "sudo rm -rf /universe (UNIQUE)"
    },
    bigbang_compiler: { 
        name: "ãƒ“ãƒƒã‚°ãƒãƒ³ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©", 
        baseCost: 30000000000000, xpPerSec: 500000000000, type: 'auto', isUnique: true,
        desc: "ç„¡ã‹ã‚‰æœ‰ã‚’ãƒ“ãƒ«ãƒ‰ã™ã‚‹ (UNIQUE)"
    },
    laplace_demon: { 
        name: "ãƒ©ãƒ—ãƒ©ã‚¹ã®æ‚ªé­”", 
        baseCost: 60000000000000, xpPerSec: 1200000000000, type: 'auto', isUnique: true,
        desc: "æœªæ¥ã®ãƒã‚°ã‚’äºˆçŸ¥ã—ã¦ä¿®æ­£ (UNIQUE)"
    },
    maxwell_demon: { 
        name: "ãƒã‚¯ã‚¹ã‚¦ã‚§ãƒ«ã®æ‚ªé­”", 
        baseCost: 100000000000000, xpPerSec: 3000000000000, type: 'auto', isUnique: true,
        desc: "åˆ†å­ã‚’é¸åˆ¥ã—ã¦åŠ¹ç‡åŒ– (UNIQUE)"
    },
    type4: { 
        name: "Type-IV æ–‡æ˜", 
        baseCost: 250000000000000, xpPerSec: 8000000000000, type: 'auto', isUnique: true,
        desc: "è¦³æ¸¬å¯èƒ½ãªå…¨å®‡å®™ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼åˆ¶å¾¡ (UNIQUE)"
    },
    type5: { 
        name: "Type-V æ–‡æ˜", 
        baseCost: 500000000000000, xpPerSec: 20000000000000, type: 'auto', isUnique: true,
        desc: "å¤šå…ƒå®‡å®™è¦æ¨¡ã®æ”¯é… (UNIQUE)"
    },
    the_architect: { 
        name: "ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆ", 
        baseCost: 1000000000000000, xpPerSec: 50000000000000, type: 'auto', isUnique: true,
        desc: "ãƒãƒˆãƒªãƒƒã‚¯ã‚¹ã®è¨­è¨ˆè€… (UNIQUE)"
    },
    deus_ex_machina: { 
        name: "ãƒ‡ã‚¦ã‚¹ãƒ»ã‚¨ã‚¯ã‚¹ãƒ»ãƒã‚­ãƒŠ", 
        baseCost: 2500000000000000, xpPerSec: 150000000000000, type: 'auto', isUnique: true,
        desc: "æ©Ÿæ¢°ä»•æ›ã‘ã®ç¥ã«ã‚ˆã‚‹å¼·åˆ¶è§£æ±º (UNIQUE)"
    },
    true_null: { 
        name: "å®Œå…¨ãªã‚‹è™šç„¡", 
        baseCost: 5000000000000000, xpPerSec: 400000000000000, type: 'auto', isUnique: true,
        desc: "NULLãƒã‚¤ãƒ³ã‚¿ã®æ¦‚å¿µãã®ã‚‚ã® (UNIQUE)"
    },
    omniscience: { 
        name: "å…¨çŸ¥", 
        baseCost: 10000000000000000, xpPerSec: 1000000000000000, type: 'auto', isUnique: true,
        desc: "å…¨ã¦ã®ã‚¹ã‚¿ãƒƒã‚¯ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ã‚’ç†è§£ (UNIQUE)"
    },
    omnipotence: { 
        name: "å…¨èƒ½", 
        baseCost: 50000000000000000, xpPerSec: 5000000000000000, type: 'auto', isUnique: true,
        desc: "ä¸å¯èƒ½ãªä»•æ§˜å¤‰æ›´ã‚‚å³åº§ã«å®Ÿè£… (UNIQUE)"
    },
    the_end: { 
        name: "ã‚¨ãƒ³ãƒ‡ã‚£ãƒ³ã‚°", 
        baseCost: 100000000000000000, xpPerSec: 10000000000000000, type: 'auto', isUnique: true,
        desc: "é–‹ç™ºçµ‚äº†ã€‚ãã—ã¦ä¼èª¬ã¸... (UNIQUE)"
    },
    source_code: { 
        name: "åŸåˆã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰", 
        baseCost: 999999999999999999, xpPerSec: 99999999999999999, type: 'auto', isUnique: true,
        desc: "??? (UNIQUE)"
    }
};

// â˜…ä¿®æ­£ãƒ»è¿½åŠ ï¼šãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è£…é£¾ã®å®šç¾©ï¼ˆã‚°ãƒ­ãƒ¼ãƒãƒ«ã«é…ç½®ï¼‰
    const PROFILE_DECORATIONS = [
        { id: '', name: 'ãªã—', minLv: 0 },
        { id: 'deco-beginner', name: 'åˆå¿ƒè€…ãƒãƒ¼ã‚¯ ğŸ”°', minLv: 2 },
        { id: 'deco-cat', name: 'çŒ«ã®è¶³è·¡ ğŸ¾', minLv: 5 },
        { id: 'deco-sparkle', name: 'ã‚­ãƒ©ã‚­ãƒ©ãƒãƒ¼ãƒ  âœ¨', minLv: 10 },
        { id: 'deco-fire', name: 'é—˜å¿—ã®ç‚ ğŸ”¥', minLv: 15 },
        { id: 'deco-gaming', name: 'ã‚²ãƒ¼ãƒŸãƒ³ã‚°æ  ğŸŒˆ', minLv: 20 },
        { id: 'deco-crown', name: 'ç‹å†  ğŸ‘‘', minLv: 30 },
        { id: 'deco-angel', name: 'å¤©ä½¿ã®ç¾½ ğŸª½', minLv: 40 },
        { id: 'deco-cyber', name: 'ã‚µã‚¤ãƒãƒ¼ãƒ‘ãƒ³ã‚¯ ğŸ’»', minLv: 50 },
        { id: 'deco-space', name: 'å®‡å®™èƒŒæ™¯ ğŸŒŒ', minLv: 60 },
        { id: 'deco-lord', name: 'è¦‡ç‹ã®å¨åœ§ âšœï¸', minLv: 80 },
        // â–¼ è¿½åŠ åˆ†
        { id: 'deco-legend', name: 'ãƒ¬ã‚¸ã‚§ãƒ³ãƒ‰ (è™¹) ğŸŒˆ', minLv: 90 },
        { id: 'deco-phoenix', name: 'ãƒ•ã‚§ãƒ‹ãƒƒã‚¯ã‚¹ ğŸ¦…', minLv: 100 },
        { id: 'deco-nebula', name: 'ãƒãƒ“ãƒ¥ãƒ© (å®‡å®™æ¸¦) ğŸŒ€', minLv: 120 }
    ];

    const XP_BASE = 200;

const horsesgatya = [
    { id: 1, name: 'ãƒ‡ã‚£ãƒ¼ãƒ—ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆ', odds: 2.0, speed: 95, icon: 'ğŸ' },
    { id: 2, name: 'ã‚ªãƒ«ãƒ•ã‚§ãƒ¼ãƒ´ãƒ«', odds: 3.5, speed: 90, icon: 'ğŸ´' },
    { id: 3, name: 'ã‚­ã‚¿ã‚µãƒ³ãƒ–ãƒ©ãƒƒã‚¯', odds: 4.0, speed: 88, icon: 'ğŸ ' },
    { id: 4, name: 'ã‚´ãƒ¼ãƒ«ãƒ‰ã‚·ãƒƒãƒ—', odds: 5.0, speed: 85, icon: 'ğŸ¦„' },
    { id: 5, name: 'ã‚¦ã‚ªãƒƒã‚«', odds: 6.0, speed: 82, icon: 'ğŸ¦“' },
    { id: 6, name: 'ã‚µã‚¤ãƒ¬ãƒ³ã‚¹ã‚¹ã‚ºã‚«', odds: 2.5, speed: 98, icon: 'ğŸŒªï¸' },
    { id: 7, name: 'ãƒˆã‚¦ã‚«ã‚¤ãƒ†ã‚¤ã‚ªãƒ¼', odds: 4.5, speed: 86, icon: 'ğŸ¦…' },
    { id: 8, name: 'ã‚ªã‚°ãƒªã‚­ãƒ£ãƒƒãƒ—', odds: 8.0, speed: 80, icon: 'ğŸº' },
    { id: 9, name: 'ãƒãƒ«ã‚¦ãƒ©ãƒ©', odds: 100.0, speed: 60, icon: 'ğŸŒ¸' },
    { id: 10, name: 'ã‚½ãƒ€ã‚·', odds: 5.5, speed: 84, icon: 'âšª' }
];

// é–‹å‚¬ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­å®š
const RACE_SCHEDULE = [
    {h:9, m:55}, {h:10, m:55}, {h:11, m:55}, {h:12, m:30},
    {h:13, m:55}, {h:14, m:55}, {h:15, m:55}, {h:16, m:55}, {h:17, m:55}
];

/* =========================================
   ğŸ® ã‚²ãƒ¼ãƒŸãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚·ã‚¹ãƒ†ãƒ  (GameManager)
   ========================================= */
class GameSystem {
    constructor() {
        this.data = {
            xp: 0, level: 1, lastLogin: null, unlockedFeatures: {}, theme: 'default',
            money: 0, collection: [],
            // ç«¶é¦¬ãƒ‡ãƒ¼ã‚¿: activeBets ã¯é…åˆ—ã«å¤‰æ›´ï¼ˆè¤‡æ•°è³¼å…¥å¯¾å¿œï¼‰
raceData: { activeBets: [], lastRaceId: "" },
            // â˜…è¿½åŠ ï¼šå€Ÿé‡‘ãƒ‡ãƒ¼ã‚¿ï¼ˆæ—¥ä»˜ã¨é‡‘é¡ï¼‰
            dailyLoan: { date: '', amount: 0 },
            settings: {
                particleType: '', auraType: '', soundSe: false, skin: '', cursor: '', title: '',
                font: '', scrollbar: '', inputEffect: false, mascot: false, profileDeco: '' 
            },
            inventory: { robot: 0, ai: 0, drone: 0, server: 0, matrix: 0, singularity: 0, godhand: 0, mouse: 0 },
            reachedRanks: [] 
        };
        this.userId = null;
        this.mascotTimer = null;
        this.autoXpTimer = null;
        this.saveTimer = null;
        this.raceState = { nextRace: null, status: 'CLOSED' }; 
        
        // æŠ•ç¥¨ç”¨ä¸€æ™‚ä¿å­˜ãƒ‡ãƒ¼ã‚¿
        this.tempBet = { type: 'WIN', mode: 'NORMAL', selected: {} };
    }

init(userId) {
    this.userId = userId;
    const saved = localStorage.getItem(`trello_game_data_${userId}`);
    if (saved) {
      const parsed = JSON.parse(saved);
      if (!parsed.inventory) parsed.inventory = { robot: 0, ai: 0 };
      if (!parsed.reachedRanks) parsed.reachedRanks = [];
      if (!parsed.raceData) parsed.raceData = { activeBets: null, lastRaceId: "" };
      this.data = { ...this.data, ...parsed };
      this.renderProfile();
      this.applySettings();
      this.updateShopUI();

      // â˜…ä¿®æ­£1ï¼šæ›´æ–°é–“éš”ã‚’ 25åˆ†(1500000) ã‹ã‚‰ 10ç§’(10000) ã«çŸ­ç¸®
      if (this.raceTimer) clearInterval(this.raceTimer);
      this.raceTimer = setInterval(() => this.updateRaceStatus(), 600000); 
      this.updateRaceStatus(); // åˆå›å®Ÿè¡Œ

      if (this.data.theme) applyThemeClass(this.data.theme);
      if (this.data.bgSettings) {
                applyBgSettings(this.data.bgSettings);
                const s = this.data.bgSettings;
                if(document.getElementById('bg-scale')) document.getElementById('bg-scale').value = (s.scale !== undefined) ? s.scale : 1.0;
                if(document.getElementById('bg-pos-x')) document.getElementById('bg-pos-x').value = (s.posX !== undefined) ? s.posX : 0;
                if(document.getElementById('bg-pos-y')) document.getElementById('bg-pos-y').value = (s.posY !== undefined) ? s.posY : 0;
                updateBgTransform();
            }
        }

        google.script.run.withSuccessHandler((serverJson) => {
            if (serverJson) {
                const parsed = JSON.parse(serverJson);
                if (!parsed.inventory) parsed.inventory = { robot: 0, ai: 0 };
                if (!parsed.reachedRanks) parsed.reachedRanks = [];
                if (!parsed.raceData) parsed.raceData = { activeBets: null, lastRaceId: "" }; // â˜…ã“ã“é‡è¦

                this.data = { ...this.data, ...parsed };
                localStorage.setItem(`trello_game_data_${userId}`, JSON.stringify(this.data));
            } else {
                this.gainXp(XP_TABLE.firstLogin, 'åˆå›ãƒ­ã‚°ã‚¤ãƒ³ãƒœãƒ¼ãƒŠã‚¹');
            }
            this.checkLoginBonus();
            this.applySettings();
            this.renderProfile();
            this.updateSettingsUI();
            this.updateShopUI();
            
            // â˜…ã‚µãƒ¼ãƒãƒ¼ãƒ‡ãƒ¼ã‚¿ãƒ­ãƒ¼ãƒ‰å¾Œã‚‚çŠ¶æ…‹æ›´æ–°
            this.updateRaceStatus();

            if (this.data.theme) {
                applyThemeClass(this.data.theme);
                const themeSelect = document.getElementById('select-theme');
                if(themeSelect) themeSelect.value = this.data.theme;
            }
            if (this.data.bgSettings) {
                const s = this.data.bgSettings;
                applyBgSettings(s);
                if(document.getElementById('bg-type')) document.getElementById('bg-type').value = s.type || 'none';
                if(document.getElementById('bg-url')) document.getElementById('bg-url').value = s.url || '';
                if(document.getElementById('bg-opacity')) {
                    document.getElementById('bg-opacity').value = s.opacity || 0;
                    if(document.getElementById('opacity-val')) document.getElementById('opacity-val').textContent = Math.round((s.opacity||0)*100)+'%';
                }
                if(document.getElementById('bg-scale')) document.getElementById('bg-scale').value = (s.scale !== undefined) ? s.scale : 1.0;
                if(document.getElementById('bg-pos-x')) document.getElementById('bg-pos-x').value = (s.posX !== undefined) ? s.posX : 0;
                if(document.getElementById('bg-pos-y')) document.getElementById('bg-pos-y').value = (s.posY !== undefined) ? s.posY : 0;
                updateBgTransform();
                toggleBgInput();
            }
        }).getGameData(userId);

        this.startAutoClicker();
        if (this.saveTimer) clearInterval(this.saveTimer);
        this.saveTimer = setInterval(() => {
            console.log("Auto-saving game data to server (1 hour interval)...");
            this.syncToServer(true); 
        }, 3600000); 
    }

/**
         * â˜…å¤‰æ›´ç‚¹ï¼šãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã¸ã®ã¿ä¿å­˜ã™ã‚‹è»½é‡ãªä¿å­˜å‡¦ç†
         * gainXpãªã©ã‹ã‚‰ã¯ã“ã‚ŒãŒå‘¼ã°ã‚Œã‚‹ãŸã‚ã€ã‚µãƒ¼ãƒãƒ¼è² è·ãŒã‹ã‹ã‚‰ãªã„
         */
        save() {
            if (this.userId) {
                const jsonStr = JSON.stringify(this.data);
                localStorage.setItem(`trello_game_data_${this.userId}`, jsonStr);
                // ã“ã“ã«ã‚ã£ãŸ google.script.run ã‚’å‰Šé™¤
            }
        }

        /**
         * â˜…è¿½åŠ ï¼šã‚µãƒ¼ãƒãƒ¼ã¸ç¢ºå®Ÿã«ãƒ‡ãƒ¼ã‚¿ã‚’é€ä¿¡ã™ã‚‹å‡¦ç†
         * @param {boolean} isBackground - trueãªã‚‰ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ã‚’å‡ºã•ãªã„ï¼ˆè‡ªå‹•ä¿å­˜ç”¨ï¼‰
         */
        syncToServer(isBackground = false) {
            if (this.userId) {
                // ã¾ãšãƒ­ãƒ¼ã‚«ãƒ«ã‚’æœ€æ–°ã«
                this.save();
                const jsonStr = JSON.stringify(this.data);
                
                // ãƒœã‚¿ãƒ³ã®ç„¡åŠ¹åŒ–åˆ¶å¾¡ç”¨
                const btn = document.querySelector('button[onclick="GM.manualSave()"]');
                if(btn && !isBackground) {
                    btn.disabled = true;
                    btn.style.opacity = 0.5;
                }

                google.script.run
                    .withSuccessHandler(() => {
                        if (!isBackground) this.showToast("âœ… ã‚µãƒ¼ãƒãƒ¼ã«ä¿å­˜ã—ã¾ã—ãŸ");
                        if(btn) {
                            btn.disabled = false;
                            btn.style.opacity = 1;
                        }
                    })
                    .withFailureHandler(e => {
                        console.error("GameSaveFailed", e);
                        if (!isBackground) this.showToast("âŒ ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ");
                        if(btn) {
                            btn.disabled = false;
                            btn.style.opacity = 1;
                        }
                    })
                    .saveGameData(this.userId, jsonStr);
            }
        }

        /**
         * â˜…å¤‰æ›´ç‚¹ï¼šä¿å­˜ãƒœã‚¿ãƒ³ã‹ã‚‰å‘¼ã°ã‚Œã‚‹é–¢æ•°
         * æ˜ç¤ºçš„ã«ã‚µãƒ¼ãƒãƒ¼åŒæœŸã‚’å®Ÿè¡Œã™ã‚‹
         */
        manualSave() {
            this.syncToServer(false); // ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œãªã®ã§ãƒˆãƒ¼ã‚¹ãƒˆã‚’å‡ºã™
            if(this.data.settings.soundSe) this.playSe('gain');
        }

// ãƒ­ã‚°ã‚¤ãƒ³ãƒœãƒ¼ãƒŠã‚¹ãƒã‚§ãƒƒã‚¯
    checkLoginBonus() {
        const today = new Date().toDateString();
        // æ—¥ä»˜ãŒå¤‰ã‚ã£ã¦ã„ã‚‹å ´åˆ
        if (this.data.lastLogin !== today) {
            console.log("ãƒ­ã‚°ã‚¤ãƒ³ãƒœãƒ¼ãƒŠã‚¹ä»˜ä¸: " + today);
            this.data.lastLogin = today;
            
            // å€Ÿé‡‘æ ã®ãƒªã‚»ãƒƒãƒˆã‚‚ã“ã“ã§è¡Œã†
            this.data.dailyLoan = { date: today, amount: 0 };

            this.gainXp(XP_TABLE.login, 'ãƒ­ã‚°ã‚¤ãƒ³ãƒœãƒ¼ãƒŠã‚¹');
            this.addMoney(1000, 'ç‰¹åˆ¥çµ¦ä»˜é‡‘'); // 1000å††ä»˜ä¸
            
            this.showOmikuji();
            
            // â˜…é‡è¦ï¼šç¢ºå®Ÿã«ä¿å­˜ã™ã‚‹ãŸã‚ã‚µãƒ¼ãƒãƒ¼ã¸åŒæœŸ
            this.syncToServer(true);
            
            alert("ğŸ“… ãƒ­ã‚°ã‚¤ãƒ³ãƒœãƒ¼ãƒŠã‚¹ï¼\n1000å†† ã¨ çµŒé¨“å€¤ ã‚’ç²å¾—ã—ã¾ã—ãŸï¼");
        }
    }

// â˜…æ–°è¦è¿½åŠ ï¼šãŠé‡‘ã‚’å€Ÿã‚Šã‚‹æ©Ÿèƒ½
    borrowMoney() {
        const today = new Date().toDateString();
        const LIMIT = 10000; // ä¸Šé™1ä¸‡å††

        // æ—¥ä»˜ãŒå¤‰ã‚ã£ã¦ã„ãŸã‚‰ãƒªã‚»ãƒƒãƒˆï¼ˆå¿µã®ãŸã‚ã“ã“ã§ã‚‚ãƒã‚§ãƒƒã‚¯ï¼‰
        if (this.data.dailyLoan.date !== today) {
            this.data.dailyLoan = { date: today, amount: 0 };
        }

        const currentLoan = this.data.dailyLoan.amount;
        const canBorrow = LIMIT - currentLoan;

        if (canBorrow <= 0) {
            alert(`æœ¬æ—¥ã®å€Ÿå…¥é™åº¦é¡ï¼ˆ1ä¸‡å††ï¼‰ã«é”ã—ã¦ã„ã¾ã™ã€‚\næ˜æ—¥ã¾ãŸã”åˆ©ç”¨ãã ã•ã„ã€‚`);
            return;
        }

        // å…¥åŠ›ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
        const input = prompt(`æœ¬æ—¥ã‚ã¨ Â¥${canBorrow.toLocaleString()} å€Ÿã‚Šã‚‰ã‚Œã¾ã™ã€‚\nã„ãã‚‰å€Ÿã‚Šã¾ã™ã‹ï¼Ÿ`, canBorrow);
        if (!input) return;

        const amount = parseInt(input, 10);
        if (isNaN(amount) || amount <= 0) {
            alert("é‡‘é¡ã‚’æ­£ã—ãå…¥åŠ›ã—ã¦ãã ã•ã„ã€‚");
            return;
        }
        if (amount > canBorrow) {
            alert(`é™åº¦é¡ã‚’è¶…ãˆã¦ã„ã¾ã™ã€‚Â¥${canBorrow.toLocaleString()} ã¾ã§å¯èƒ½ã§ã™ã€‚`);
            return;
        }

        // å‡¦ç†å®Ÿè¡Œ
        this.data.dailyLoan.amount += amount;
        this.addMoney(amount, 'ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°');
        this.save();
        
        showToast(`Â¥${amount.toLocaleString()} å€Ÿã‚Šã¾ã—ãŸ`);
        if(this.data.settings.soundSe) this.playSe('gain');
    }

// â˜…è¿½åŠ ï¼šãŠé‡‘ã‚’å¢—æ¸›ã•ã›ã‚‹é–¢æ•°
    addMoney(amount, reason) {
        this.data.money = (this.data.money || 0) + amount;
        if(amount > 0) this.showToast(`+${amount}å†† (${reason})`);
        this.updateMoneyDisplay();
        this.save();
    }

    // â˜…è¿½åŠ ï¼šãŠé‡‘è¡¨ç¤ºæ›´æ–°
    updateMoneyDisplay() {
        const el = document.getElementById('game-money-disp');
        if(el) el.textContent = (this.data.money || 0).toLocaleString();
    }

        gainXp(amount, reason) {
            const bonusRate = sessionStorage.getItem('xp_bonus_rate') || 1;
            const finalAmount = Math.floor(amount * parseFloat(bonusRate));
            this.data.xp += finalAmount;
            this.showToast(`+${finalAmount} XP (${reason})`);
            this.checkLevelUp();
            this.renderProfile();
            this.save();
            if(this.data.settings.soundSe) this.playSe('gain');
        }

checkLevelUp() {
    const nextLevel = Math.floor(Math.sqrt(this.data.xp / XP_BASE)) + 1;
    
    if (nextLevel > this.data.level) {
        this.data.level = nextLevel;
        
        // â˜…ä¿®æ­£: æ–°ã—ã„ãƒ©ãƒ³ã‚¯åã‚’å–å¾—
        const currentRankName = this.getCurrentRank();
        
        // ãƒ‡ãƒ¼ã‚¿è£œå®Œï¼ˆå¿µã®ãŸã‚ï¼‰
        if (!this.data.reachedRanks) {
            this.data.reachedRanks = [];
        }

        // â˜…ä¿®æ­£: ã¾ã è¡¨ç¤ºã—ã¦ã„ãªã„ãƒ©ãƒ³ã‚¯ã®å ´åˆã®ã¿ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’è¡¨ç¤ºã—ã¦å±¥æ­´ã«è¿½åŠ 
        if (!this.data.reachedRanks.includes(currentRankName)) {
            this.showLevelUpModal();
            if(this.data.settings.soundSe) this.playSe('levelup');
            
            // è¡¨ç¤ºæ¸ˆã¿ãƒªã‚¹ãƒˆã«è¿½åŠ 
            this.data.reachedRanks.push(currentRankName);
        }
        
        // ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ï¼ˆãƒ¬ãƒ™ãƒ«ã¨reachedRanksã®ä¸¡æ–¹ãŒä¿å­˜ã•ã‚Œã¾ã™ï¼‰
        this.save();
    }
}

        getCurrentRank() {
            for (let i = RANKS.length - 1; i >= 0; i--) {
                if (this.data.xp >= RANKS[i].minXp) return RANKS[i].name;
            }
            return RANKS[0].name;
        }

        renderProfile() {
            const bar = document.getElementById('game-status-bar');
            if(bar) bar.style.display = 'flex';
            document.getElementById('game-level').textContent = `Lv.${this.data.level}`;
            document.getElementById('game-rank').textContent = this.getCurrentRank();
            const title = (this.data.level >= 7 && this.data.settings.title) ? `[${this.data.settings.title}]` : '';
            document.getElementById('game-title').textContent = title;
            this.updateMoneyDisplay(); // â˜…ã“ã‚Œã‚’è¿½åŠ 
            const currentLevelBaseXp = Math.pow(this.data.level - 1, 2) * XP_BASE;
            const nextLevelBaseXp = Math.pow(this.data.level, 2) * XP_BASE;
            const progress = (this.data.xp - currentLevelBaseXp) / (nextLevelBaseXp - currentLevelBaseXp) * 100;
            document.getElementById('game-xp-bar').style.width = `${Math.min(100, Math.max(0, progress))}%`;
            document.getElementById('game-xp-text').textContent = `${Math.floor(this.data.xp)} XP`;

            let totalAuto = 0;
            Object.keys(SHOP_ITEMS).forEach(key => {
                if (SHOP_ITEMS[key].type === 'auto') {
                    totalAuto += (this.data.inventory[key] || 0) * SHOP_ITEMS[key].xpPerSec;
                }
            });
            const mouseCount = this.data.inventory.mouse || 0;
            const clickPower = 2 + (mouseCount * 2);

            const autoEl = document.getElementById('auto-xp-disp');
            const clickEl = document.getElementById('click-power-disp');
            if(autoEl) autoEl.textContent = `Auto: ${totalAuto} XP/s`;
            if(clickEl) clickEl.textContent = `Click: +${clickPower} XP`;

            if (this.data.level >= 5) document.getElementById('bgm-deepsea').classList.remove('hidden');
            if (this.data.level >= 10) document.getElementById('bgm-cyber').classList.remove('hidden');
        }

        applySettings() {
            const body = document.body;
            body.classList.remove('cursor-sword', 'cursor-wand', 'cursor-tool', 'cursor-crosshair', 'cursor-cat', 'cursor-rocket', 'cursor-diamond', 'cursor-magic');
            if (this.data.level >= 6 && this.data.settings.cursor) body.classList.add(this.data.settings.cursor);
            body.classList.remove('font-retro', 'font-hand', 'font-mincho', 'font-sf');
            if (this.data.level >= 15 && this.data.settings.font) body.classList.add(this.data.settings.font);
            body.classList.remove('scroll-rainbow', 'scroll-cat', 'scroll-sword', 'scroll-neon');
            if (this.data.level >= 12 && this.data.settings.scrollbar) body.classList.add(this.data.settings.scrollbar);
            this.toggleMascot(this.data.level >= 35 && this.data.settings.mascot);
        }

// â†“â†“â†“ ã“ã®é–¢æ•°ã‚’ã¾ã‚‹ã”ã¨ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã«ç½®ãæ›ãˆã¦ãã ã•ã„ â†“â†“â†“

        updateSettingsUI() {
            // â˜…ä¿®æ­£ï¼šè¦ç´ ãŒå­˜åœ¨ã™ã‚‹ã‹ç¢ºèªã—ã¦ã‹ã‚‰å€¤ã‚’ã‚»ãƒƒãƒˆã™ã‚‹ï¼ˆã‚¨ãƒ©ãƒ¼é˜²æ­¢ï¼‰
            const skinSelect = document.getElementById('game-skin-select');
            if(skinSelect) {
                skinSelect.innerHTML = '<option value="">ãªã—</option>';
                SKINS.forEach(skin => {
                    if (this.data.level >= skin.minLv) {
                        const opt = document.createElement('option');
                        opt.value = skin.id; opt.textContent = skin.name;
                        skinSelect.appendChild(opt);
                    }
                });
                skinSelect.value = this.data.settings.skin || '';
            }

            if(document.getElementById('game-cursor-select')) document.getElementById('game-cursor-select').value = this.data.settings.cursor || '';
            if(document.getElementById('game-scrollbar-select')) document.getElementById('game-scrollbar-select').value = this.data.settings.scrollbar || '';
            if(document.getElementById('game-font-select')) document.getElementById('game-font-select').value = this.data.settings.font || '';
            
            let pVal = this.data.settings.particleType || '';
            if (this.data.settings.particle === true && !pVal) pVal = 'std';
            if(document.getElementById('game-particle-select')) document.getElementById('game-particle-select').value = pVal;

            let aVal = this.data.settings.auraType || '';
            if (this.data.settings.aura === true && !aVal) aVal = 'std';
            if(document.getElementById('game-aura-select')) document.getElementById('game-aura-select').value = aVal;

            if(document.getElementById('game-sound-se')) document.getElementById('game-sound-se').checked = this.data.settings.soundSe;
            if(document.getElementById('game-input-effect')) document.getElementById('game-input-effect').checked = this.data.settings.inputEffect || false;
            if(document.getElementById('game-mascot')) document.getElementById('game-mascot').checked = this.data.settings.mascot || false;
            if(document.getElementById('game-title-input')) document.getElementById('game-title-input').value = this.data.settings.title || '';

            // æ–°æ©Ÿèƒ½ç³»
            if(document.getElementById('game-ranking-plate')) document.getElementById('game-ranking-plate').value = this.data.settings.rankingPlate || '';
            if(document.getElementById('game-name-effect')) document.getElementById('game-name-effect').value = this.data.settings.nameEffect || '';
            if(document.getElementById('game-rank-emblem')) document.getElementById('game-rank-emblem').value = this.data.settings.rankEmblem || '';
            if(document.getElementById('game-hover-action')) document.getElementById('game-hover-action').value = this.data.settings.hoverAction || '';
            if(document.getElementById('game-flavor-text')) document.getElementById('game-flavor-text').value = this.data.settings.flavorText || '';

            // ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è£…é£¾
            const decoSelect = document.getElementById('game-profile-deco');
            if (decoSelect) {
                // å®šç¾©ãƒªã‚¹ãƒˆã‹ã‚‰é¸æŠè‚¢ã‚’ç”Ÿæˆï¼ˆã‚‚ã—ç©ºãªã‚‰ï¼‰
                if (decoSelect.options.length <= 1) {
                    PROFILE_DECORATIONS.forEach(d => {
                        if (this.data.level >= d.minLv) {
                            const opt = document.createElement('option');
                            opt.value = d.id;
                            opt.textContent = d.name;
                            decoSelect.appendChild(opt);
                        }
                    });
                }
                decoSelect.value = this.data.settings.profileDeco || '';
            }

            this.updateProfilePreview();
        }

// â˜…ä¿®æ­£ï¼šãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ›´æ–°
        updateProfilePreview() {
            const previewEl = document.getElementById('profile-preview');
            
            // å…¥åŠ›å€¤ã®å–å¾—
            const decoId = document.getElementById('game-profile-deco').value;
            const plateId = document.getElementById('game-ranking-plate').value;
            const effectId = document.getElementById('game-name-effect').value;
            const emblem = document.getElementById('game-rank-emblem').value;
            const hoverId = document.getElementById('game-hover-action').value;
            const flavor = document.getElementById('game-flavor-text').value;

            // ã‚¯ãƒ©ã‚¹ãƒªã‚»ãƒƒãƒˆ & é©ç”¨
            previewEl.className = 'ranking-item'; 
            if (decoId) previewEl.classList.add(decoId);
            if (plateId) previewEl.classList.add(plateId);
            if (hoverId) previewEl.classList.add(hoverId);

            // ã‚¨ãƒ³ãƒ–ãƒ¬ãƒ HTML
            const emblemHtml = emblem ? `<span class="rank-emblem">${emblem}</span>` : '';
            
            // åå‰ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã‚¯ãƒ©ã‚¹
            const nameClass = effectId ? `class="${effectId}"` : '';
            
            // ãƒ•ãƒ¬ãƒ¼ãƒãƒ¼ãƒ†ã‚­ã‚¹ãƒˆHTML
            const flavorHtml = flavor ? `<span class="flavor-text">${escapeHtml(flavor)}</span>` : '';

            // HTMLç”Ÿæˆ
            previewEl.innerHTML = `
                <div class="ranking-user">
                    <span class="rank-num">1</span>
                    ${emblemHtml}
                    <div style="display:flex; flex-direction:column; justify-content:center;">
                        <span class="ranking-name" ${nameClass}>${escapeHtml(this.userId)}</span>
                        ${flavorHtml}
                    </div>
                </div>
                <div class="ranking-stats">
                    <span class="ranking-score">${Number(this.data.xp).toLocaleString()} XP</span>
                </div>
            `;
        }

        saveSettingsFromUI() {
            this.data.settings.skin = document.getElementById('game-skin-select').value;
            this.data.settings.cursor = document.getElementById('game-cursor-select').value;
            this.data.settings.scrollbar = document.getElementById('game-scrollbar-select').value;
            this.data.settings.font = document.getElementById('game-font-select').value;
            this.data.settings.particleType = document.getElementById('game-particle-select').value;
            this.data.settings.auraType = document.getElementById('game-aura-select').value;
            this.data.settings.title = document.getElementById('game-title-input').value;
            this.data.settings.profileDeco = document.getElementById('game-profile-deco').value;
            this.data.settings.soundSe = document.getElementById('game-sound-se').checked;
            this.data.settings.inputEffect = document.getElementById('game-input-effect').checked;
            this.data.settings.mascot = document.getElementById('game-mascot').checked;
            // â˜…è¿½åŠ : æ–°æ©Ÿèƒ½ã®ä¿å­˜
    this.data.settings.rankingPlate = document.getElementById('game-ranking-plate').value;
    this.data.settings.nameEffect = document.getElementById('game-name-effect').value;
    this.data.settings.rankEmblem = document.getElementById('game-rank-emblem').value;
    this.data.settings.hoverAction = document.getElementById('game-hover-action').value;
    this.data.settings.flavorText = document.getElementById('game-flavor-text').value;
            
            this.save();
            this.applySettings();
            this.renderProfile();
            applyFilters();
        }

        showToast(msg) {
            const container = document.getElementById('xp-toast-container');
            const el = document.createElement('div');
            el.className = 'xp-toast'; el.textContent = msg;
            container.appendChild(el);
            setTimeout(() => el.remove(), 1500);
        }

        showLevelUpModal() {
            const modal = document.getElementById('levelup-modal');
            document.getElementById('levelup-rank').textContent = this.getCurrentRank();
            modal.classList.remove('hidden');
        }

showOmikuji() {
            const modal = document.getElementById('omikuji-modal');
            const today = new Date().toDateString();
            const storageKey = `trello_omikuji_${this.userId}_${today}`;
            
            let resultData = null;
            const savedData = localStorage.getItem(storageKey);

            // æ—¢ã«ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã€ã‹ã¤æ–°ã—ã„é …ç›®(horse)ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹ãƒã‚§ãƒƒã‚¯
            if (savedData) {
                const parsed = JSON.parse(savedData);
                // ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒã‚§ãƒƒã‚¯ï¼ˆæ–°ã—ã„é …ç›®ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹ï¼‰
                if (parsed.color && parsed.lunch && parsed.movie && parsed.anime && parsed.horse) {
                    resultData = parsed;
                }
            }

            // ãƒ‡ãƒ¼ã‚¿ãŒãªã„ã€ã¾ãŸã¯å¤ã„å½¢å¼ã®å ´åˆã¯æ–°è¦ç”Ÿæˆ
            if (!resultData) {
// 1. é‹å‹¢ã®å®šç¾© (å…¨60ç¨®ãƒ»æ¿€ãƒ¬ã‚¢ç¢ºç‡èª¿æ•´ç‰ˆ)
const results = [
    // ğŸŒŸã€æœ€ä¸Šä½ãƒ»è¶…å‰ç³»ã€‘ï¼ˆç¢ºç‡: 0.005% ã€œ 0.05% ãƒ¬ãƒ™ãƒ« / æ¿€ãƒ¬ã‚¢ï¼‰
    // â€»å…¨ä½“ã®æ¯æ•°ãŒç´„20,000ã«ãªã‚‹ã‚ˆã†ã«èª¿æ•´ã—ã¦ã„ã‚‹ãŸã‚ã€w=1 ã¯ç´„0.005%ã§ã™ã€‚
    {k:'å¤©ä¸Šå‰',     w: 1, b:10.0, c:'#E6B422', i:'ğŸŒŒ', m:'å¤©ç•Œã‹ã‚‰ã®ç¥ç¦ã€‚0.005%ã®å¥‡è·¡ã€‚ã‚‚ã¯ã‚„äººã®é‹ã®é ˜åŸŸã‚’è¶…ãˆã¦ã„ã¾ã™ã€‚'},
    {k:'å¤§å¤§å‰',     w: 2, b:5.0,  c:'#FF00FF', i:'ğŸŒˆ', m:'ç¢ºç‡ã®å£ã‚’è¶…ãˆãŸå¥‡è·¡(0.01%)ã€‚ä»Šæ—¥ã¯ä½•ã‚’ã‚„ã£ã¦ã‚‚ç„¡æ•µã§ã™ã€‚'},
    {k:'è¶…å¤§å‰',     w: 5, b:4.0,  c:'#FF4500', i:'ğŸš€', m:'é‹æ°—ãŒé™ç•Œçªç ´ã—ã¦ã„ã¾ã™ã€‚å‡ºç¾ç‡0.025%ã€‚'},
    {k:'å¤§å‰ä¸Š',     w: 10, b:3.5,  c:'#FFD700', i:'â¬†ï¸', m:'å¤§å‰ã®ã•ã‚‰ã«ä¸Šã€‚ä¸Šä½0.05%ã®é¸ã°ã‚Œã—é‹æ°—ã€‚'},
    {k:'å¤§å‰ç‰¹',     w: 10, b:3.5,  c:'#DAA520', i:'ğŸ‰', m:'ç‰¹åˆ¥ä»•æ§˜ã®å¤§å‰ã€‚äºˆæœŸã›ã¬å¹¸é‹ãŒèˆã„è¾¼ã‚€äºˆæ„Ÿã€‚'},
    {k:'ç‰¹å¤§å‰',     w: 10, b:3.0,  c:'#FFA500', i:'ğŸ’®', m:'ã¨ã¦ã¤ã‚‚ãªãè‰¯ã„ã“ã¨ãŒèµ·ã“ã‚Šã¾ã™ã€‚ã‚¹ã‚¯ã‚·ãƒ§æ¨å¥¨ã€‚'},
    {k:'ç¥å‰',       w: 1, b:7.7,  c:'#00FFFF', i:'â›©ï¸', m:'ç¥ã®ã”åŠ è­·ãŒã‚ã‚Šã¾ã™ã€‚SSRç´šã®å¼•ãã€‚ãƒã‚°ãŒè‡ªç„¶æ¶ˆæ»…ã™ã‚‹ãƒ¬ãƒ™ãƒ«ã€‚'},
    {k:'ç‘å‰',       w: 20, b:2.5,  c:'#98FB98', i:'âœ¨', m:'ã‚ã§ãŸã„å…†ã—ã‚ã‚Šã€‚å‰å ±ãŒå±Šãã§ã—ã‚‡ã†ã€‚'},
    {k:'ç¦å¾³å¤§å‰',   w: 15, b:3.0,  c:'#32CD32', i:'ğŸ‹', m:'äººå¾³ã¨å¹¸é‹ãŒåŒæ™‚ã«æ¥ã¾ã™ã€‚å‘¨å›²ã¸ã®æ„Ÿè¬ãŒå‰ã€‚'},
    {k:'ä¸‡ç¦å¤§å‰',   w: 15, b:3.0,  c:'#FF69B4', i:'ğŸ’', m:'ä¸‡ã®ç¦ãŒè¨ªã‚Œã¾ã™ã€‚ç¬‘é¡”ãŒçµ¶ãˆãªã„ä¸€æ—¥ã«ãªã‚‹ã§ã—ã‚‡ã†ã€‚'},
    {k:'å¯¿å¤§å‰',     w: 20, b:2.8,  c:'#FF1493', i:'ğŸ¥‚', m:'ç¥ã„äº‹ã®ã‚ˆã†ãªè¯ã‚„ã‹ãªé‹æ°—ã€‚è‡ªåˆ†ã‚’è¤’ã‚ç§°ãˆã¾ã—ã‚‡ã†ã€‚'},
    {k:'ç¦å¤§å‰',     w: 25, b:2.5,  c:'#FFC0CB', i:'ğŸ¡', m:'ç¦ãŒè†¨ã‚‰ã¿ã¾ã™ã€‚ãŠã‚„ã¤é‹ãŒç‰¹ã«å¼·ã„ã‹ã‚‚ã€‚'},
    {k:'é‡‘é‹å¤§å‰',   w: 10, b:3.3,  c:'#B8860B', i:'ğŸ’°', m:'é‡‘è‰²ã®è¼ãã€‚0.05%ã®é‡‘é‹ã€‚è‡¨æ™‚åå…¥ã‚„é«˜å˜ä¾¡æ¡ˆä»¶ã®äºˆæ„Ÿã€‚'},
    {k:'ç¸èµ·å¤§å‰',   w: 30, b:2.5,  c:'#F0E68C', i:'ğŸ‘º', m:'ã¨ã«ã‹ãç¸èµ·ãŒè‰¯ã„ã€‚ä½•ã‚’å§‹ã‚ã‚‹ã«ã‚‚æœ€é©ãªæ—¥ã§ã™ã€‚'},
    {k:'é–‹é‹å¤§å‰',   w: 30, b:2.5,  c:'#00BFFF', i:'ğŸŒ…', m:'é‹ãŒé–‹ã‘ã¾ã™ã€‚è©°ã¾ã£ã¦ã„ãŸå•é¡ŒãŒã‚¹ãƒ«ãƒƒã¨è§£æ±ºã™ã‚‹ã§ã—ã‚‡ã†ã€‚'},

    // âœ¨ã€é€šå¸¸ã€œå¼·ã‚ã®å‰ã€‘ï¼ˆç¢ºç‡: 0.5% ã€œ 1% å‰å¾Œï¼‰
    {k:'å¤§å‰',       w: 200, b:2.0, c:'#FF0000', i:'ğŸŒ¸', m:'ç´ æ™´ã‚‰ã—ã„ä¸€æ—¥ã€‚ã“ã“ã‚’å¼•ã‘ã‚‹ã ã‘ã§ã‚‚ä¸Šä½1%ã§ã™ã€‚'},
    {k:'ä¸­å¤§å‰',     w: 150, b:1.8, c:'#FF6347', i:'ğŸµï¸', m:'å¤§å‰ã«è¿‘ã„å¹¸é‹ã€‚å®‰å®šã—ã¦è‰¯ã„æˆæœãŒå‡ºã›ã‚‹ã§ã—ã‚‡ã†ã€‚'},
    {k:'å‘å¤§å‰',     w: 120,  b:1.7, c:'#FF7F50', i:'ğŸ”œ', m:'ã“ã‚Œã‹ã‚‰å¤§å‰ã«å‘ã‹ã„ã¾ã™ã€‚å°»ä¸ŠãŒã‚Šã«èª¿å­ãŒå‡ºã‚‹ã‚¿ã‚¤ãƒ—ã€‚'},
    {k:'å¾Œå¤§å‰',     w: 120,  b:1.7, c:'#CD5C5C', i:'â³', m:'å¾Œã‹ã‚‰å¤§å‰ã«ãªã‚Šã¾ã™ã€‚ç„¦ã‚‰ãšå¾…ã¦ã°ç¦æ¥ãŸã‚‹ã€‚'},
    {k:'å‰å¤§',       w: 100,  b:1.6, c:'#F4A460', i:'ğŸ“', m:'å‰ã®å¤§ãã•ãŒè¦æ ¼å¤–ã€‚å™¨ã®å¤§ãã„ä»•äº‹ã‚’ã—ã¾ã—ã‚‡ã†ã€‚'},
    {k:'å‰ä¸Š',       w: 100,  b:1.6, c:'#D2691E', i:'â¤´ï¸', m:'é‹æ°—ä¸Šæ˜‡ä¸­ã€‚æ˜¨æ—¥ã‚ˆã‚Šç¢ºå®Ÿã«è‰¯ã„æ—¥ã«ãªã‚Šã¾ã™ã€‚'},
    {k:'åŠå¤§å‰',     w: 150, b:1.5, c:'#BC8F8F', i:'ğŸŒ“', m:'åŠåˆ†ã¯å¤§å‰ã€åŠåˆ†ã¯æœªçŸ¥æ•°ã€‚å·¥å¤«æ¬¡ç¬¬ã§åŒ–ã‘ã¾ã™ã€‚'},
    {k:'å¼·å‰',       w: 150, b:1.5, c:'#8B0000', i:'ğŸ”¥', m:'é‹æ°—ãŒå¼·ã„ï¼æŠ¼ã—ã®ä¸€æ‰‹ã§é›£å±€ã‚’æ‰“é–‹ã§ãã¾ã™ã€‚'},
    {k:'ç¦å‰',       w: 150, b:1.4, c:'#DB7093', i:'ğŸ©', m:'ã•ã•ã‚„ã‹ãªå¹¸ç¦ãŒè¨ªã‚Œã¾ã™ã€‚ã‚³ãƒ³ãƒ“ãƒ‹ã‚¹ã‚¤ãƒ¼ãƒ„ãŒãŠã™ã™ã‚ã€‚'},
    {k:'å¯¿å‰',       w: 150, b:1.4, c:'#C71585', i:'ğŸŠ', m:'ã‚ã§ãŸã„æ°—åˆ†ã®ä¸€æ—¥ã€‚åŒåƒšã®è‰¯ã„ã¨ã“ã‚ã‚’è¦‹ã¤ã‘ã¾ã—ã‚‡ã†ã€‚'},
    {k:'ç‘å‰(å°)',   w: 150, b:1.3, c:'#90EE90', i:'ğŸŒ±', m:'è‰¯ã„å…†ã—ãŒè¦‹ãˆã¾ã™ã€‚æ–°ã—ã„ãƒ–ãƒ©ãƒ³ãƒã‚’åˆ‡ã‚‹ãªã‚‰ä»Šã€‚'},

    // ğŸŒ±ã€ä¸­é–“ãƒ»æ¨™æº–ã‚¯ãƒ©ã‚¹ã€‘ï¼ˆç¢ºç‡: æ¥µå¤§ / ã“ã“ãŒå…¨ä½“ã®80%ä»¥ä¸Šã‚’å ã‚ã‚‹ï¼‰
    {k:'ä¸­å‰',       w: 2500, b:1.3, c:'#FFA500', i:'âœ¨', m:'é †èª¿ãã®ã‚‚ã®ã€‚ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸè‰¯ã„ä¸€æ—¥ã§ã™ã€‚'},
    {k:'å°å‰',       w: 3000, b:1.2, c:'#FFFF00', i:'ğŸµ', m:'ã•ã•ã‚„ã‹ãªå¹¸ã›ã€‚å¹³å’ŒãŒä¸€ç•ªã§ã™ã€‚'},
    {k:'å‰',         w: 4000, b:1.1, c:'#008000', i:'ğŸ€', m:'å¹³ç©ç„¡äº‹ã€‚ä¸€ç•ªå‡ºã‚„ã™ã„(ç´„20%)æ¨™æº–çš„ãªé‹å‹¢ã€‚'},
    {k:'åŠå‰',       w: 1500, b:1.0, c:'#ADFF2F', i:'ğŸŒ—', m:'å‰å‡¶æ··åˆã€‚è‰¯ã„ã“ã¨ã‚‚æ‚ªã„ã“ã¨ã‚‚åŠåˆ†ãšã¤ã§ã™ã€‚'},
    {k:'å¹³å‰',       w: 1000, b:1.0, c:'#F5F5DC', i:'âš–ï¸', m:'å¹³ã‚‰ã§ç©ã‚„ã‹ãªå‰ã€‚æ³¢é¢¨ç«‹ãŸãšã€æ·¡ã€…ã¨é€²ã¿ã¾ã™ã€‚'},
    {k:'æœ«å‰',       w: 2000, b:1.0, c:'#00CED1', i:'ğŸŒ¤ï¸', m:'ä»Šã¯ã¾ã è•¾ã§ã™ãŒã€æœªæ¥ã«èŠ±é–‹ãé‹å‹¢ã§ã™ã€‚'},
    {k:'å¾Œå‰',       w: 800, b:1.0, c:'#4682B4', i:'ğŸ•', m:'é…ã‚Œã¦ã‚„ã£ã¦ãã‚‹å‰ã€‚æ®‹æ¥­æ™‚é–“ã«è‰¯ã„ã“ã¨ãŒã‚ã‚‹ã‹ã‚‚ï¼Ÿ'},
    {k:'å‘å‰',       w: 800, b:1.0, c:'#87CEEB', i:'ğŸ‘‰', m:'å‰ã«å‘ã‹ã£ã¦ã„ã¾ã™ã€‚å‰å‘ããªå§¿å‹¢ãŒã‚«ã‚®ã€‚'},
    {k:'å¹³',         w: 1000, b:1.0, c:'#D3D3D3', i:'ğŸ˜', m:'å¯ã‚‚ãªãä¸å¯ã‚‚ãªãã€‚ãƒ•ãƒ©ãƒƒãƒˆãªæ°—æŒã¡ã§æŒ‘ã¿ã¾ã—ã‚‡ã†ã€‚'},
    {k:'ä¸­å¹³',       w: 500, b:1.0, c:'#A9A9A9', i:'â–', m:'ãƒ‰çœŸã‚“ä¸­ã®å¹³ç©ã€‚ç‰¹ç­†ã™ã¹ãã“ã¨ã¯èµ·ãã¾ã›ã‚“ã€‚'},
    {k:'å’Œå‰',       w: 500, b:1.1, c:'#FFE4E1', i:'ğŸ¤', m:'äººé–“é–¢ä¿‚ãŒè‰¯å¥½ã€‚ãƒãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§è§£æ±ºã§ãã¾ã™ã€‚'},

    // âš ï¸ã€æ³¨æ„ãƒ»å¼±ã‚ã€‘ï¼ˆç¢ºç‡: ä¸­ç¨‹åº¦ï¼‰
    {k:'å°å‡¶',       w: 400, b:0.9, c:'#808000', i:'â˜ï¸', m:'ã¡ã‚‡ã£ã¨ã—ãŸãƒŸã‚¹ã«æ³¨æ„ã€‚Ctrl+Zã§æˆ»ã›ã‚‹ç¯„å›²ã§ã™ã€‚'},
    {k:'åŠå‡¶',       w: 300, b:0.9, c:'#BDB76B', i:'ğŸŒ©ï¸', m:'åŠåˆ†ã¯å‡¶ã€‚æ®‹ã‚ŠåŠåˆ†ã§ãƒªã‚«ãƒãƒªãƒ¼ã—ã¾ã—ã‚‡ã†ã€‚'},
    {k:'æœ«å‡¶',       w: 300, b:0.9, c:'#2F4F4F', i:'ğŸ‚', m:'çµ‚ã‚ã‚Šã®æ–¹ã«æ³¨æ„ã€‚é€€å‹¤ç›´å‰ã®ãƒãƒ£ãƒƒãƒˆã«ã¯æ°—ã‚’ã¤ã‘ã‚ã€‚'},
    {k:'å‘å‡¶',       w: 200, b:0.8, c:'#778899', i:'ğŸ“‰', m:'é›²è¡ŒããŒæ€ªã—ã„ã§ã™ã€‚æ—©ã‚ã®å ±ãƒ»é€£ãƒ»ç›¸ã‚’ã€‚'},
    {k:'å¾Œå‡¶',       w: 200, b:0.8, c:'#708090', i:'ğŸŒš', m:'å¾Œå›ã—ã«ã—ãŸã‚¿ã‚¹ã‚¯ãŒç«ã‚’å¹ãã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚'},
    {k:'è»½å‡¶',       w: 300, b:0.9, c:'#A9A9A9', i:'ğŸ¤•', m:'è»½ã„ã‚«ã‚¹ãƒªå‚·ç¨‹åº¦ã€‚æ°—ã«ã›ãšé€²ã¿ã¾ã—ã‚‡ã†ã€‚'},
    {k:'å¾®å‡¶',       w: 300, b:0.9, c:'#DCDCDC', i:'ğŸ¤', m:'å¾®å¦™ã«ãƒ„ã‚¤ã¦ãªã„ã‹ã‚‚ã€‚ã‚³ãƒ¼ãƒ’ãƒ¼ã‚’ã“ã¼ã•ãªã„ã‚ˆã†ã«ã€‚'},

    // ğŸ’€ã€å‡¶ãƒ»æœ€ä¸‹ä½ã‚¯ãƒ©ã‚¹ã€‘ï¼ˆç¢ºç‡: 1%ä»¥ä¸‹ / ãƒ¬ã‚¢æ ï¼‰
    {k:'å‡¶',         w: 100, b:0.8, c:'#000080', i:'â˜”', m:'é›¨æ¨¡æ§˜ã€‚è¶³å…ƒã¨ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã®ã‚ºãƒ¬ã«æ³¨æ„ã€‚'},
    {k:'ä¸­å‡¶',       w: 80,  b:0.7, c:'#483D8B', i:'â›ˆï¸', m:'ã‚„ã‚„è’ã‚Œæ¨¡æ§˜ã€‚ç„¡ç†ãªãƒ‡ãƒ—ãƒ­ã‚¤ã¯æ§ãˆã¾ã—ã‚‡ã†ã€‚'},
    {k:'å¤§å‡¶',       w: 20,  b:0.5, c:'#4B0082', i:'âš¡', m:'åµã®äºˆæ„Ÿã€‚ç¢ºç‡ã¯0.1%ã€‚ä»Šæ—¥ã¯å¤§äººã—ãå®šæ™‚ã‚’å¾…ã¡ã¾ã—ã‚‡ã†ã€‚'},
    {k:'å‡¶å¾Œå‰',     w: 50,  b:1.2, c:'#9370DB', i:'ğŸŒ¦ï¸', m:'é›¨é™ã£ã¦åœ°å›ºã¾ã‚‹ã€‚ãƒˆãƒ©ãƒ–ãƒ«è§£æ±ºå¾Œã«è‰¯ã„ã“ã¨ãŒã€‚'},
    {k:'å‡¶å¾Œå¤§å‰',   w: 10,  b:2.0, c:'#BA55D3', i:'ğŸŒˆ', m:'å¤§ãƒ”ãƒ³ãƒã®å¾Œã«å¤§ãƒãƒ£ãƒ³ã‚¹ã‚ã‚Šã€‚è«¦ã‚ãªã„ã§ï¼'},
    {k:'å¤§å‡¶å¾Œå‰',   w: 10,  b:1.5, c:'#8A2BE2', i:'ğŸŒ¥ï¸', m:'æœ€æ‚ªã®äº‹æ…‹ã¯å…ã‚Œã¾ã™ã€‚çµ‚ã‚ã‚Šã‚ˆã‘ã‚Œã°ã™ã¹ã¦ã‚ˆã—ã€‚'},
    {k:'å‡¶æœ«å‰',     w: 50,  b:1.0, c:'#9400D3', i:'â˜‚ï¸', m:'ä»Šã¯è¾›æŠ±ã®æ™‚ã€‚æœ€å¾Œã«ã¯ç¬‘ãˆã‚‹ã¯ãšã§ã™ã€‚'},
    {k:'å‡¶æœ«å¤§å‰',   w: 10,  b:1.8, c:'#9932CC', i:'ğŸŒ¤ï¸', m:'è‹¦åŠ´ãŒå ±ã‚ã‚Œã¾ã™ã€‚ãƒã‚°å–ã‚Šã®æœã¦ã«çµ¶æ™¯ã‚ã‚Šã€‚'},
    {k:'å‡¶å¹³',       w: 50,  b:0.8, c:'#696969', i:'ğŸŒ«ï¸', m:'ã©ã‚“ã‚ˆã‚Šã—ã¦ã„ã¾ã™ãŒã€ç‰¹ã«å®³ã‚‚ã‚ã‚Šã¾ã›ã‚“ã€‚'},

    // â˜ ï¸ã€å¹»ãƒ»éƒ½å¸‚ä¼èª¬ç´šã€‘ï¼ˆç¢ºç‡: 0.005% ã€œ 0.02% / æ¿€ãƒ¬ã‚¢ï¼‰
    {k:'å¤§å¤§å‡¶',     w: 1,  b:0.1, c:'#000000', i:'â˜ ï¸', m:'0.005%ã‚’å¼•ãå½“ã¦ãŸä¸é‹ã€‚å„æ‰•ã„ã«PCã‚’å†èµ·å‹•ã—ã¾ã—ã‚‡ã†ã€‚'},
    {k:'è¶…å¤§å‡¶',     w: 1,  b:0.1, c:'#2F2F2F', i:'âš°ï¸', m:'éƒ½å¸‚ä¼èª¬ç´šã®ä¸é‹ã€‚ä»Šæ—¥ã¯ä½•ã‚‚ã›ãšå¯ã‚‹ã®ãŒå‰ã€‚'},
    {k:'ç„¡å‰',       w: 5,  b:1.0, c:'#FFFFFF', i:'âšª', m:'å‰ã‚‚å‡¶ã‚‚ãªã„ã€ç„¡ã®å¢ƒåœ°ã€‚'},
    {k:'ç„¡é‹',       w: 3,  b:0.0, c:'#808080', i:'ğŸ˜‘', m:'é‹ãªã‚“ã¦å¿…è¦ãªã„ã€‚å®ŸåŠ›ã ã‘ã§å‹è² ã™ã‚‹æ—¥ã€‚'},
    {k:'ç™½ç´™',       w: 1,  b:100.0,c:'#F0F8FF', i:'ğŸ“', m:'çµæœã¯ç™½ç´™ã€‚ã‚ãªãŸã®æ‰‹ã§æœªæ¥ã‚’æ›¸ãè¾¼ã‚€ã®ã§ã™ã€‚ï¼ˆå‡ºç¾ç‡0.005%ï¼ï¼‰'}
];

                // 2. æœ¬æ—¥ã®ã‚¸ãƒ§ãƒ–
                const jobs = [
                    {n:'å…‰ã®å‹‡è€…', d:'å›°é›£ãªã‚¿ã‚¹ã‚¯ã«ç«‹ã¡å‘ã‹ã†'},
                    {n:'ç–¾é¢¨ã®ç›—è³Š', d:'èª°ã‚ˆã‚Šã‚‚æ—©ãã‚¿ã‚¹ã‚¯ã‚’æ¶ˆåŒ–'},
                    {n:'æ·±æ·µã®é­”è¡“å¸«', d:'è¤‡é›‘ãªä»•æ§˜ã‚’è§£èª­'},
                    {n:'é‰„å£ã®é‡é¨å£«', d:'å‰²ã‚Šè¾¼ã¿ä»•äº‹ã‚’å…¨ã¦è·³ã­è¿”ã™'},
                    {n:'ç™’ã‚„ã—ã®è–å¥³', d:'ãƒãƒ¼ãƒ ã®é›°å›²æ°—ã‚’å’Œã¾ã›ã‚‹'},
                    {n:'å­¤é«˜ã®æš—æ®ºè€…', d:'èª°ã«ã‚‚æ°—ã¥ã‹ã‚Œãšãƒã‚°ä¿®æ­£'},
                    {n:'åŸéŠè©©äºº', d:'Slackã‚„ãƒãƒ£ãƒƒãƒˆã§ç››ã‚Šä¸Šã’ã‚‹'},
                    {n:'ãƒã‚°ãƒãƒ³ã‚¿ãƒ¼', d:'ä¸å…·åˆã‚’å¾¹åº•çš„ã«é§†é€'},
                    {n:'æ‰¿èªã®ç‹', d:'ä¿ç•™æ¡ˆä»¶ã‚’æ¬¡ã€…æ‰¿èª'},
                    {n:'æ­»éœŠè¡“å¸«', d:'å¤ã„ãƒ¬ã‚¬ã‚·ãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’è˜‡ã‚‰ã›ã‚‹'},
                    {n:'æ™‚é­”é“å£«', d:'Gitã®ãƒ­ã‚°ã‚’æ“ä½œã—éå»ã‚’æ”¹å¤‰ã™ã‚‹'},
                    {n:'éŒ¬é‡‘è¡“å¸«', d:'ã‚¹ãƒ‘ã‚²ãƒƒãƒ†ã‚£ã‚³ãƒ¼ãƒ‰ã‚’é»„é‡‘ã«å¤‰ãˆã‚‹'},
                    {n:'ç«œé¨å£«', d:'é«˜é›£æ˜“åº¦ã‚¿ã‚¹ã‚¯ã«ä¸Šç©ºã‹ã‚‰æ€¥é™ä¸‹'},
                    {n:'é­”ç£ä½¿ã„', d:'æš´ã‚Œã‚‹ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚„ãƒã‚°ã‚’æ‰‹æ‡ã‘ã‚‹'},
                    {n:'å¿è€…', d:'æ°—é…ã‚’æ¶ˆã—ã¦å®šæ™‚ã§ãƒ‰ãƒ­ãƒ³ã™ã‚‹'},
                    {n:'éŠã³äºº', d:'ç”»æœŸçš„ãªã‚¢ã‚¤ãƒ‡ã‚¢ã‚’é–ƒãï¼ˆä»•äº‹ã¯ã—ãªã„ï¼‰'},
                    {n:'è³¢è€…', d:'å…¨ã¦ã®ä»•æ§˜ã‚’æŠŠæ¡ã—ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å¸ã‚‹'},
                    {n:'ç‹‚æˆ¦å£«', d:'ã‚¾ãƒ¼ãƒ³ã«å…¥ã‚Šã€ä¼‘æ†©ãªã—ã§ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã'},
                    {n:'è¡Œå•†äºº', d:'ä»–éƒ¨ç½²ã¨äº¤æ¸‰ã—ã€æœ‰åˆ©ãªæ¡ä»¶ã‚’å¼•ãå‡ºã™'},
                    {n:'é‡æˆ¦è»Š', d:'åœ§å€’çš„ãªãƒ‘ãƒ¯ãƒ¼ã§ã‚¿ã‚¹ã‚¯ã‚’ãªãå€’ã™'},
                    {n:'æ™‚ç©ºã®æ—…äºº', d:'ç´æœŸã¨ã„ã†åã®æ™‚ç©ºã‚’æ­ªã‚ã€é–“ã«åˆã‚ã›ã‚‹'},
                    {n:'å¬å–šå£«', d:'å¼·åŠ›ãªåŠ©ã£äººã‚„å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’å‘¼ã³å‡ºã™'},
                    {n:'ä¾', d:'ä¸€æ’ƒå¿…æ®ºã®ã‚³ãƒŸãƒƒãƒˆã§æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹'},
                    {n:'è¸Šã‚Šå­', d:'è¯éº—ãªã‚­ãƒ¼æ“ä½œã§å‘¨å›²ã‚’é­…äº†ã™ã‚‹'},
                    {n:'å ã„å¸«', d:'å·¥æ•°è¦‹ç©ã‚‚ã‚Šã‚’ç›´æ„Ÿã§çš„ä¸­ã•ã›ã‚‹'},
                    {n:'é¢¨æ°´å¸«', d:'ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç’°å¢ƒã‚’æ•´ãˆã¦é‹æ°—ã‚’ä¸Šã’ã‚‹'},
                    {n:'æ©Ÿå·¥å£«', d:'è‡ªå‹•åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§æ¥½ã‚’ã™ã‚‹'},
                    {n:'é’é­”é“å£«', d:'ä»–äººã®ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒšã—ã¦æŠ€ã‚’è¦šãˆã‚‹'},
                    {n:'èµ¤é­”é“å£«', d:'ãƒ‡ã‚¶ã‚¤ãƒ³ã‚‚ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚‚å™¨ç”¨ã«ã“ãªã™'},
                    {n:'ã™ã£ã´ã‚“', d:'ä½•ã®å½¹è·ã«ã‚‚ç¸›ã‚‰ã‚Œãšè‡ªç”±ã«åƒã'},
                    {n:'é­”ç‹', d:'åœ§å€’çš„ãªæ¨©åŠ›ã§ä»•æ§˜å¤‰æ›´ã‚’ã­ã˜ä¼ã›ã‚‹'},
                    {n:'æ‘äººA', d:'ä»Šæ—¥ã¯ç›®ç«‹ãŸãšã€å¹³å’Œã«éã”ã™'},
                    {n:'è–¬å¸«', d:'ã‚¨ãƒŠãƒ‰ãƒªã¨ã‚µãƒ—ãƒªã§HPã‚’å›å¾©ã•ã›ã‚‹'},
                    {n:'ç‹©äºº', d:'ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®ä¸­ã‹ã‚‰ç²ç‰©ï¼ˆåŸå› ï¼‰ã‚’è¦‹ã¤ã‘å‡ºã™'},
                    {n:'æµ·è³Š', d:'ãƒãƒƒãƒˆã®æµ·ã‚’æ¼‚ã„ã€ãŠå®ï¼ˆè§£æ±ºç­–ï¼‰ã‚’æ¢ã™'},
                    {n:'å¸è¡€é¬¼', d:'å¤œã«ãªã‚‹ã¨æœ¬é ˜ã‚’ç™ºæ®ã™ã‚‹'},
                    {n:'å¦–ç²¾', d:'ã„ãŸãšã‚‰ï¼ˆé¢ç™½ã„ãƒã‚°ï¼‰ã‚’æ®‹ã—ã¦å»ã‚‹'},
                    {n:'ã‚´ãƒ¼ãƒ¬ãƒ ', d:'ç„¡æ„Ÿæƒ…ã«å˜ç´”ä½œæ¥­ã‚’ã“ãªã—ç¶šã‘ã‚‹'},
                    {n:'ã‚¹ãƒŠã‚¤ãƒ‘ãƒ¼', d:'é ãé›¢ã‚ŒãŸå¸­ã‹ã‚‰ä¸Šå¸ã®æ§˜å­ã‚’ä¼ºã†'},
                    {n:'ãƒã‚¯ãƒ­ãƒãƒ³ã‚µãƒ¼', d:'æ²¡ã«ãªã£ãŸä¼ç”»ã‚’ã‚¾ãƒ³ãƒ“ã¨ã—ã¦å¾©æ´»ã•ã›ã‚‹'}
                ];

                // 3. ãƒ©ãƒƒã‚­ãƒ¼ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ
                const shortcuts = [
                    'Ctrl+C/V (ã‚³ãƒ”ãƒš)', 'Ctrl+Z (å…ƒã«æˆ»ã™)', 'Ctrl+F (æ¤œç´¢)',
                    'Win+Shift+S (ã‚¹ã‚¯ã‚·ãƒ§)', 'Alt+Tab (ç”»é¢åˆ‡æ›¿)', 'F5 (ãƒªãƒ­ãƒ¼ãƒ‰)',
                    'Ctrl+Shift+T (ã‚¿ãƒ–å¾©æ´»)', 'Win+D (ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—)', 'Ctrl+Enter (é€ä¿¡)',
                    'Win+V (ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰å±¥æ­´)', 'Win+. (çµµæ–‡å­—ãƒ‘ãƒãƒ«)', 'F12 (é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«)',
                    'Ctrl+A (å…¨é¸æŠ)', 'Ctrl+W (ã‚¿ãƒ–ã‚’é–‰ã˜ã‚‹)', 'F2 (åå‰ã®å¤‰æ›´)',
                    'Ctrl+Shift+Esc (ã‚¿ã‚¹ã‚¯ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼)', 'Alt+F4 (ã‚¢ãƒ—ãƒªçµ‚äº†)',
                    'Ctrl+Home (ä¸€ç•ªä¸Šã¸)', 'Ctrl+End (ä¸€ç•ªä¸‹ã¸)', 'Win+L (ç”»é¢ãƒ­ãƒƒã‚¯)',
                    'Win+E (ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼)', 'Ctrl+R (ãƒªãƒ­ãƒ¼ãƒ‰/ç½®æ›)',
                    'Ctrl+D (ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯/è¡Œè¤‡è£½)', 'Ctrl+S (ä¿å­˜)', 'Ctrl+P (å°åˆ·)',
                    'Win+I (è¨­å®š)', 'Win+M (æœ€å°åŒ–)', 'Win+X (ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ³ã‚¯)',
                    'Alt+Space (ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼)', 'Ctrl+Esc (ã‚¹ã‚¿ãƒ¼ãƒˆ)', 'Win+1~9 (ã‚¿ã‚¹ã‚¯ãƒãƒ¼èµ·å‹•)',
                    'Ctrl+Shift+N (æ–°è¦ãƒ•ã‚©ãƒ«ãƒ€/ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ)', 'Ctrl+Tab (ã‚¿ãƒ–ç§»å‹•)', 'Ctrl+Shift+Tab (é€†ã‚¿ãƒ–ç§»å‹•)',
                    'Alt+Left (æˆ»ã‚‹)', 'Alt+Right (é€²ã‚€)', 'Ctrl+Backspace (å˜èªå‰Šé™¤)',
                    'Shift+Delete (å®Œå…¨å‰Šé™¤)', 'Win+Left/Right (ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦é…ç½®)', 'Ctrl+MouseWheel (ã‚ºãƒ¼ãƒ )',
                    'F11 (å…¨ç”»é¢)', 'Alt+Home (ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸)', 'Win+P (ç”»é¢æŠ•å½±)',
                    'Ctrl+L (ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼é¸æŠ)', 'Ctrl+K (æ¤œç´¢ãƒãƒ¼é¸æŠ/ãƒªãƒ³ã‚¯æŒ¿å…¥)', 'Alt+Enter (ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£)',
                    'F3 (æ¬¡ã‚’æ¤œç´¢)', 'Shift+F3 (å‰ã‚’æ¤œç´¢)', 'Ctrl+Y (ã‚„ã‚Šç›´ã—)'
                ];

                // 4. ãƒ©ãƒƒã‚­ãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
                const actions = [
                    'ä¸€ç•ªå¤ã„ã‚¿ã‚¹ã‚¯ã‚’ç‰‡ä»˜ã‘ã‚‹', 'ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚’æ•´ç†', 'èª°ã‹ã‚’è¤’ã‚ã‚‹', 'ãŠæ˜¼å¯', 'ã‚´ãƒŸæ‹¾ã†', 'ã—ã£ã‹ã‚ŠæŒ¨æ‹¶',
                    'ã‚¹ãƒˆãƒ¬ãƒƒãƒã‚’ã™ã‚‹', 'æ°´åˆ†ã‚’æ‘‚ã‚‹', 'æ·±å‘¼å¸ã‚’ã™ã‚‹',
                    'ã€Œã‚ã‚ŠãŒã¨ã†ã€ã¨è¨€ã†', '15åˆ†ã ã‘é›†ä¸­', 'ãŠè“å­ã‚’é…ã‚‹',
                    'ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚’æ‹­ã', 'çª“ã®å¤–ã‚’çœºã‚ã‚‹', '1åˆ†é–“ç‘æƒ³ã™ã‚‹',
                    'ä¸è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤', 'æ¤…å­ã®é«˜ã•ã‚’èª¿æ•´', 'å¥½ããªéŸ³æ¥½ã‚’1æ›²è´ã',
                    'ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã‚’æ‹­ã', 'åŒåƒšã«ãŠè“å­ã‚’ã‚ã’ã‚‹', 'PCã‚’å†èµ·å‹•ã™ã‚‹',
                    'ã‚¹ãƒãƒ›ã®é€šçŸ¥ã‚’åˆ‡ã‚‹', 'è¦³è‘‰æ¤ç‰©ã«æ°´ã‚’ã‚„ã‚‹', 'èƒŒä¼¸ã³ã‚’ã™ã‚‹',
                    'ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã®å£ç´™ã‚’å¤‰ãˆã‚‹', 'æ¤…å­ã§ãã‚‹ã£ã¨ä¸€å›è»¢ã™ã‚‹',
                    'ãƒˆã‚¤ãƒ¬ã®ã¤ã„ã§ã«ã‚¹ã‚¯ãƒ¯ãƒƒãƒˆ', 'é ãã®ç·‘ã‚’è¦‹ã‚‹', 'ãŠæ°—ã«å…¥ã‚Šã®é¦™ã‚Šã‚’å—…ã',
                    'é´ã‚’è„±ã„ã§è¶³æŒ‡ã‚’å‹•ã‹ã™', 'ãƒãƒ³ãƒ‰ã‚¯ãƒªãƒ¼ãƒ ã‚’å¡—ã‚‹', 'ç›®è–¬ã‚’ã•ã™',
                    'å¤ã„ãƒ¡ãƒ¼ãƒ«ã‚’ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–', 'ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚¿ãƒ–ã‚’å…¨æ¶ˆã—', 'ãƒã‚¦ã‚¹ã®é›»æ± äº¤æ›',
                    'ä»Šæ—¥ã‚„ã‚‹ã“ã¨ã‚’3ã¤æ›¸ãå‡ºã™', 'å®šæ™‚ã¾ã§ã®ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³', 'é¡ã‚’è¦‹ã¦ç¬‘é¡”ã‚’ä½œã‚‹',
                    'ã‚¬ãƒ ã‚’å™›ã‚€', 'ç‚­é…¸æ°´ã‚’é£²ã‚€', 'ã‚³ãƒ³ãƒ“ãƒ‹ã¾ã§æ•£æ­©ã™ã‚‹',
                    'ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚µã‚¤ãƒˆã‚’è¦‹ãªã„', 'ã‚¹ãƒãƒ›ã‚’è£è¿”ã™', 'ã€Œãªã‚‹ã»ã©ã€ã¨å‘Ÿã',
                    'ç‰‡è¶³ç«‹ã¡ã§ãƒãƒ©ãƒ³ã‚¹ã‚’ã¨ã‚‹', 'è‚©ã‚’å›ã™', 'é¦–ã‚’ã‹ã—ã’ã‚‹ï¼ˆå¯æ„›ãï¼‰'
                ];

                // 5. ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼
                const colors = [
                    {n:'æƒ…ç†±ã®èµ¤', c:'#e74c3c'}, {n:'å†·é™ãªé’', c:'#3498db'},
                    {n:'ç™’ã‚„ã—ã®ç·‘', c:'#2ecc71'}, {n:'é‡‘é‹ã®é»„', c:'#f1c40f'},
                    {n:'ç¥ç§˜ã®ç´«', c:'#9b59b6'}, {n:'ç´”æ½”ã®ç™½', c:'#ecf0f1'},
                    {n:'æ¼†é»’', c:'#34495e'}, {n:'æ¡œè‰²', c:'#ffb7c5'},
                    {n:'ç©ºè‰²', c:'#87CEEB'}, {n:'æ©™è‰²', c:'#FFA500'},
                    {n:'éŠ€è‰²', c:'#C0C0C0'}, {n:'æ·±ç·‘', c:'#006400'},
                    {n:'ç¥ç€è‰²', c:'#FFBF00'}, {n:'ç¾¤é’è‰²', c:'#4169E1'},
                    {n:'è‹¥è‰è‰²', c:'#9ACD32'}, {n:'è«è‰²', c:'#EE82EE'},
                    {n:'è™¹è‰²', c:'#FF69B4'}, {n:'é€æ˜', c:'#dddddd'},
                    {n:'ã‚µãƒ¼ãƒ¢ãƒ³ãƒ”ãƒ³ã‚¯', c:'#FA8072'}, {n:'ãƒŸãƒ³ãƒˆã‚°ãƒªãƒ¼ãƒ³', c:'#98FF98'},
                    {n:'é»„é‡‘', c:'#FFD700'}, {n:'çœŸç´…', c:'#DC143C'},
                    {n:'ç‘ ç’ƒè‰²', c:'#1E90FF'}, {n:'ç¿¡ç¿ è‰²', c:'#00FA9A'},
                    {n:'å±±å¹è‰²', c:'#FFD700'}, {n:'è—¤è‰²', c:'#DDA0DD'},
                    {n:'ç‰¡ä¸¹è‰²', c:'#FF00FF'}, {n:'è—è‰²', c:'#4B0082'},
                    {n:'é¶¯è‰²', c:'#808000'}, {n:'æ —è‰²', c:'#800000'},
                    {n:'é¼ è‰²', c:'#778899'}, {n:'ç„¦èŒ¶', c:'#8B4513'},
                    {n:'çŠç‘šè‰²', c:'#FF7F50'}, {n:'è±¡ç‰™è‰²', c:'#FFFFF0'},
                    {n:'é’ç·‘', c:'#008080'}, {n:'èµ¤ç´«', c:'#C71585'},
                    {n:'è›å…‰ã‚¤ã‚¨ãƒ­ãƒ¼', c:'#FFFF00'}, {n:'ã‚·ãƒ§ãƒƒã‚­ãƒ³ã‚°ãƒ”ãƒ³ã‚¯', c:'#FF69B4'},
                    {n:'ãƒã‚¤ãƒ“ãƒ¼', c:'#000080'}, {n:'ã‚«ãƒ¼ã‚­', c:'#F0E68C'}
                ];

                // 6. ãƒ©ãƒƒã‚­ãƒ¼ã‚¢ã‚¤ãƒ†ãƒ 
                const items = [
                    'ç›®è–¬', 'ä»˜ç®‹', 'ãƒ¯ã‚¤ãƒ¤ãƒ¬ã‚¹ã‚¤ãƒ¤ãƒ›ãƒ³', 'ãŠæ°—ã«å…¥ã‚Šã®ãƒšãƒ³', 'ç”°ä¸Šã®ãƒ¡ã‚¬ãƒ', 'å†·éººã•ã‚“ã®èƒ¸ç­‹', 'ã¬ã„ãã‚‹ã¿', 'ã¶ã‚Šã¶ã‚Šã–ãˆã‚‚ã‚“', 'ãƒ¢ãƒ¼ãƒªãƒ¼ã•ã‚“ã®ãƒ¡ã‚¬ãƒ', 'ãƒãƒ¼å›ã®é«­',
                    'ã‚¨ãƒŠã‚¸ãƒ¼ãƒ‰ãƒªãƒ³ã‚¯', 'è¦³è‘‰æ¤ç‰©', 'äºˆå‚™ã®é›»æ± ', 'ã‚¯ãƒƒã‚·ãƒ§ãƒ³', 'Bluetoothã‚¤ãƒ¤ãƒ›ãƒ³', 'é¦¬åˆ¸', 'ã‚¬ãƒ³ãƒ—ãƒ©', 'æœ¨ä¸‹ã•ã‚“ã®ãƒ¡ã‚¬ãƒ',
                    'é›»å“', 'çœ¼é¡/PCãƒ¡ã‚¬ãƒ', 'ãƒã‚°ã‚«ãƒƒãƒ—', 'ãƒãƒ³ãƒ‰ã‚¯ãƒªãƒ¼ãƒ ',
                    'ã‚¦ã‚§ãƒƒãƒˆãƒ†ã‚£ãƒƒã‚·ãƒ¥', 'ãƒŸãƒ³ãƒˆã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ', 'å“ä¸Šã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼',
                    'å……é›»ã‚±ãƒ¼ãƒ–ãƒ«', 'ãŠå®ˆã‚Š', 'ãƒãƒƒã‚µãƒ¼ã‚¸ã‚°ãƒƒã‚º', 'é«˜ã‚«ã‚«ã‚ªãƒãƒ§ã‚³',
                    'äºˆå‚™ã®ãƒã‚¹ã‚¯', 'ãƒªãƒƒãƒ—ã‚¯ãƒªãƒ¼ãƒ ', 'ã‚¢ãƒ­ãƒã‚ªã‚¤ãƒ«', 'ãƒãƒ©ãƒ³ã‚¹ãƒœãƒ¼ãƒ«',
                    'ãƒ¡ã‚«ãƒ‹ã‚«ãƒ«ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰', 'ã‚²ãƒ¼ãƒŸãƒ³ã‚°ãƒã‚¦ã‚¹',
                    'ãƒ›ãƒƒãƒˆã‚¢ã‚¤ãƒã‚¹ã‚¯', 'ãƒ©ãƒãƒ¼ãƒ€ãƒƒã‚¯ï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨ï¼‰',
                    'é«˜ç´šãƒ†ã‚£ãƒƒã‚·ãƒ¥', 'æŠ±ãæ•', 'è¶³ã¤ã¼ãƒãƒƒãƒˆ',
                    'ç©ºæ°—æ¸…æµ„æ©Ÿ', 'åŠ æ¹¿å™¨', 'æ‰‡é¢¨æ©Ÿï¼ˆãƒãƒ³ãƒ‡ã‚£ï¼‰',
                    'ãƒ—ãƒ­ãƒ†ã‚¤ãƒ³ã‚·ã‚§ã‚¤ã‚«ãƒ¼', 'ãƒãƒ©ãƒ³ã‚¹ãƒ‡ã‚£ã‚¹ã‚¯', 'é’ç«¹è¸ã¿',
                    'ã‚¢ã‚¤ãƒã‚¹ã‚¯', 'è€³æ “', 'ã‚¹ãƒãƒ¼ãƒˆã‚¦ã‚©ãƒƒãƒ', 'ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ',
                    'ãƒ¢ãƒã‚¤ãƒ«ãƒãƒƒãƒ†ãƒªãƒ¼', 'USBãƒ¡ãƒ¢ãƒª', 'å¤–ä»˜ã‘HDD',
                    'æ–‡åº«æœ¬', 'ãŠæ°—ã«å…¥ã‚Šã®ãƒ•ã‚£ã‚®ãƒ¥ã‚¢', 'ã‚«ãƒ—ã‚»ãƒ«ãƒˆã‚¤',
                    'ã‚¹ã‚¯ã‚¤ãƒ¼ã‚ºï¼ˆæ¡ã‚‹ã‚„ã¤ï¼‰', 'ãƒãƒ³ãƒ‰ã‚¹ãƒ”ãƒŠãƒ¼', 'çŸ¥æµã®è¼ª'
                ];

                // 7. ä»Šæ—¥ã®ãŠæ˜¼ã”é£¯
                const lunches = [
                    'ãƒ©ãƒ¼ãƒ¡ãƒ³', 'ã‚«ãƒ¬ãƒ¼ãƒ©ã‚¤ã‚¹', 'ãƒãƒ³ãƒãƒ¼ã‚°', 'ãŠã«ãã‚Š', 'æµ·é®®', 'ç‰›ä¸¼', 'ç„¼ããã°',
                    'ãƒ‘ã‚¹ã‚¿', 'å®šé£Ÿ', 'ã‚µãƒ©ãƒ€ãƒã‚­ãƒ³', 'å¯¿å¸',
                    'ã†ã©ã‚“/ãã°', 'ä¸­è¯æ–™ç†', 'ã‚µãƒ³ãƒ‰ã‚¤ãƒƒãƒ', 'ç„¼è‚‰',
                    'ãƒ”ã‚¶', 'ã‚ªãƒ ãƒ©ã‚¤ã‚¹', 'ã‚«ãƒ„ä¸¼', 'è¦ªå­ä¸¼', 'å¤©ã·ã‚‰',
                    'æ‹…ã€…éºº', 'éº»å©†è±†è…', 'ãƒ‰ãƒªã‚¢/ã‚°ãƒ©ã‚¿ãƒ³', 'ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼',
                    'å”æšã’å¼å½“', 'å¹•ã®å†…å¼å½“', 'ã‚³ãƒ³ãƒ“ãƒ‹ã®æ–°å•†å“', 'å®Œå…¨æ „é¤Šé£Ÿ',
                    'ãƒ—ãƒ­ãƒ†ã‚¤ãƒ³ãƒãƒ¼', 'ã‚¿ã‚³ãƒ©ã‚¤ã‚¹', 'éŸ“å›½æ–™ç†', 'ã‚¿ã‚¤æ–™ç†',
                    'ç¤¾é£Ÿã®æ—¥æ›¿ã‚ã‚Š', 'çµ¶é£Ÿï¼ˆãƒ•ã‚¡ã‚¹ãƒ†ã‚£ãƒ³ã‚°ï¼‰',
                    'ãƒã‚­ãƒ³å—è›®', 'ã‚¹ãƒ¼ãƒ—ã‚«ãƒ¬ãƒ¼',
                    'ç”Ÿå§œç„¼ã', 'ã‚¢ã‚¸ãƒ•ãƒ©ã‚¤', 'å›é‹è‚‰', 'é’æ¤’è‚‰çµ²',
                    'ãƒ•ã‚©ãƒ¼', 'ã‚¬ãƒ‘ã‚ªãƒ©ã‚¤ã‚¹', 'ã‚±ãƒãƒ–', 'ãƒ“ãƒ“ãƒ³ãƒ',
                    'ã‚¹ãƒ³ãƒ‰ã‚¥ãƒ–', 'ãƒŠãƒ³ï¼†ã‚«ãƒ¬ãƒ¼', 'ãƒ­ã‚³ãƒ¢ã‚³', 'ãƒã‚­ä¸¼',
                    'ãƒ‘ãƒ³ã‚±ãƒ¼ã‚­', 'ãƒ•ãƒ«ãƒ¼ãƒ„ã‚µãƒ³ãƒ‰', 'ã‚«ãƒƒãƒ—éºº', 'å†·å‡é£Ÿå“',
                    'æ˜¨æ—¥ã®æ®‹ã‚Šç‰©', 'æ„›å¦»å¼å½“ï¼ˆè‡ªä½œå«ã‚€ï¼‰', 'ã‚¦ãƒ¼ãƒãƒ¼ã‚¤ãƒ¼ãƒ„',
                    'ã‚¹ãƒ†ãƒ¼ã‚­', 'ç„¼é­šå®šé£Ÿ', 'ãŠå¥½ã¿ç„¼ã/ãŸã“ç„¼ã', 'ã‚‚ã‚“ã˜ã‚ƒ',
                    'ã‚¿ã‚³ã‚¹', 'ãƒ–ãƒªãƒˆãƒ¼', 'ãƒ™ãƒ¼ã‚°ãƒ«', 'ã‚¯ãƒ­ãƒ¯ãƒƒã‚µãƒ³'
                ];

                // 8. ãŠã™ã™ã‚ã‚¢ãƒ‹ãƒ¡
                const animes = [
                    {t:'è‘¬é€ã®ãƒ•ãƒªãƒ¼ãƒ¬ãƒ³', d:'å‹‡è€…äº¡ãå¾Œã€ã‚¨ãƒ«ãƒ•ã®é­”æ³•ä½¿ã„ãŒã€Œäººã‚’çŸ¥ã‚‹ã€æ—…ã¸ã€‚'},
                    {t:'è–¬å±‹ã®ã²ã¨ã‚Šã”ã¨', d:'å¾Œå®®ã®æ¯’è¦‹å½¹å°‘å¥³ãŒã€è–¬å­¦çŸ¥è­˜ã§æ€ªäº‹ä»¶ã‚’è§£ãã€‚'},
                    {t:'æ¨ã—ã®å­', d:'è»¢ç”Ÿã—ãŸã‚‰æ¨ã—ã®å­ã©ã‚‚ã ã£ãŸ!? èŠ¸èƒ½ç•Œã®é—‡ã¨å¾©è®ã€‚'},
                    {t:'SPYÃ—FAMILY', d:'ã‚¹ãƒ‘ã‚¤ã®çˆ¶ã€æ®ºã—å±‹ã®æ¯ã€è¶…èƒ½åŠ›è€…ã®å¨˜ãŒä»®åˆã‚ã®å®¶æ—ã«ã€‚'},
                    {t:'é¬¼æ»…ã®åˆƒ', d:'é¬¼ã«ãªã£ãŸå¦¹ã‚’äººé–“ã«æˆ»ã™ãŸã‚ã€å°‘å¹´ã¯åˆ€ã‚’æ¡ã‚‹ã€‚'},
                    {t:'å‘ªè¡“å»»æˆ¦', d:'å‘ªã„ã®ç‹ã‚’ãã®èº«ã«å®¿ã—ãŸå°‘å¹´ãŒã€å‘ªã„ã‚’ç¥“ã†æˆ¦ã„ã¸ã€‚'},
                    {t:'ãƒã‚¤ã‚­ãƒ¥ãƒ¼!!', d:'ã€Œé£›ã¹ãªã„çƒã€ã¨å‘¼ã°ã‚ŒãŸé«˜æ ¡ãƒãƒ¬ãƒ¼éƒ¨ãŒã€é ‚ã‚’ç›®æŒ‡ã™ã€‚'},
                    {t:'ãƒ–ãƒ«ãƒ¼ãƒ­ãƒƒã‚¯', d:'æ—¥æœ¬ã‚’Wæ¯å„ªå‹ã«å°ãã€Œã‚¨ã‚´ã‚¤ã‚¹ãƒˆã€ãªFWè‚²æˆè¨ˆç”»ã€‚'},
                    {t:'ã‚­ãƒ³ã‚°ãƒ€ãƒ ', d:'æ˜¥ç§‹æˆ¦å›½æ™‚ä»£ã®ä¸­å›½ã€‚å¤©ä¸‹ã®å¤§å°†è»ã‚’ç›®æŒ‡ã™å°‘å¹´ã®ç‰©èªã€‚'},
                    {t:'å®‡å®™å…„å¼Ÿ', d:'ã‚¯ãƒ“ã«ãªã£ãŸå…„ãŒã€å®‡å®™é£›è¡Œå£«ã®å¼Ÿã‚’è¿½ã„ã‹ã‘å†ã³å¤¢ã‚’è¦‹ã‚‹ã€‚'},
                    {t:'Dr.STONE', d:'å…¨äººé¡ãŒçŸ³åŒ–ã—ãŸä¸–ç•Œã§ã€ç§‘å­¦ã®åŠ›ã§æ–‡æ˜ã‚’å–ã‚Šæˆ»ã™ã€‚'},
                    {t:'SHIROBAKO', d:'ã‚¢ãƒ‹ãƒ¡æ¥­ç•Œã®è£å´ã¨ã€å¤¢ã‚’è¿½ã†5äººã®å¥³æ€§ãŸã¡ã®å¥®é—˜è¨˜ã€‚'},
                    {t:'STEINS;GATE', d:'å¶ç„¶ã‚¿ã‚¤ãƒ ãƒã‚·ãƒ³ã‚’ä½œã£ã¦ã—ã¾ã£ãŸå¤§å­¦ç”ŸãŸã¡ã®ã€çµ¶æœ›ã¨å¸Œæœ›ã€‚'},
                    {t:'æ”»æ®»æ©Ÿå‹•éšŠ', d:'é›»è„³åŒ–ãŒé€²ã‚“ã æœªæ¥ã€‚å…¬å®‰9èª²ãŒã‚µã‚¤ãƒãƒ¼çŠ¯ç½ªã«ç«‹ã¡å‘ã‹ã†ã€‚'},
                    {t:'æ–°ä¸–ç´€ã‚¨ãƒ´ã‚¡ãƒ³ã‚²ãƒªã‚ªãƒ³', d:'14æ­³ã®å°‘å¹´ãŒå·¨å¤§æ±ç”¨äººå‹æ±ºæˆ¦å…µå™¨ã«ä¹—ã‚Šã€ä½¿å¾’ã¨æˆ¦ã†ã€‚'},
                    {t:'é€²æ’ƒã®å·¨äºº', d:'å£ã®å¤–ã¯å·¨äººã ã‚‰ã‘ã€‚è‡ªç”±ã‚’æ±‚ã‚ã¦å°‘å¹´ã¯å·¨äººã‚’é§†é€ã™ã‚‹ã€‚'},
                    {t:'åƒ•ã®ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚¢ã‚«ãƒ‡ãƒŸã‚¢', d:'ã€Œå€‹æ€§ã€ã¨ã„ã†è¶…å¸¸èƒ½åŠ›ã‚’æŒã¤äººã€…ãŒãƒ’ãƒ¼ãƒ­ãƒ¼ã‚’ç›®æŒ‡ã™ã€‚'},
                    {t:'ãƒã‚§ãƒ³ã‚½ãƒ¼ãƒãƒ³', d:'ãƒã‚§ãƒ³ã‚½ãƒ¼ã®æ‚ªé­”ã¨å¥‘ç´„ã—ãŸå°‘å¹´ãŒã€ãƒ‡ãƒ“ãƒ«ãƒãƒ³ã‚¿ãƒ¼ã¨ã—ã¦æš´ã‚Œã‚‹ã€‚'},
                    {t:'ãƒ€ãƒ³ã‚¸ãƒ§ãƒ³é£¯', d:'ãƒ€ãƒ³ã‚¸ãƒ§ãƒ³ã§è‡ªçµ¦è‡ªè¶³!? é­”ç‰©ã‚’èª¿ç†ã—ã¦å¦¹ã‚’æ•‘ãˆã€‚'},
                    {t:'ã‚¹ãƒ©ãƒ ãƒ€ãƒ³ã‚¯', d:'ä¸è‰¯å°‘å¹´ãŒãƒã‚¹ã‚±éƒ¨ã«å…¥éƒ¨ã—ã€æ‰èƒ½ã‚’é–‹èŠ±ã•ã›ã¦ã„ãé’æ˜¥ã€‚'},
                    {t:'æ©Ÿå‹•æˆ¦å£«ã‚¬ãƒ³ãƒ€ãƒ ', d:'å®‡å®™ä¸–ç´€ã€å°‘å¹´ã¯å¶ç„¶ã‚¬ãƒ³ãƒ€ãƒ ã«ä¹—ã‚Šè¾¼ã¿ã€æˆ¦äº‰ã«å·»ãè¾¼ã¾ã‚Œã‚‹ã€‚'},
                    {t:'é‹¼ã®éŒ¬é‡‘è¡“å¸« FULLMETAL ALCHEMIST', d:'ç¦å¿Œã‚’çŠ¯ã—ãŸå…„å¼ŸãŒã€å¤±ã£ãŸèº«ä½“ã‚’å–ã‚Šæˆ»ã™æ—…ã«å‡ºã‚‹ã€‚'},
                    {t:'HUNTERÃ—HUNTER', d:'çˆ¶ã‚’æ¢ã™ãŸã‚ã€å°‘å¹´ã‚´ãƒ³ãŒéé…·ãªãƒãƒ³ã‚¿ãƒ¼è©¦é¨“ã«æŒ‘ã‚€ã€‚'},
                    {t:'ONE PIECE', d:'æµ·è³Šç‹ã‚’ç›®æŒ‡ã™å°‘å¹´ãƒ«ãƒ•ã‚£ã¨ä»²é–“ãŸã¡ã®ã€å¤§æµ·åŸã§ã®å†’é™ºã€‚'},
                    {t:'NARUTO -ãƒŠãƒ«ãƒˆ-', d:'è½ã¡ã“ã¼ã‚Œå¿è€…ãŒé‡Œä¸€ç•ªã®ã€Œç«å½±ã€ã‚’ç›®æŒ‡ã™æˆé•·ç‰©èªã€‚'},
                    {t:'ã‚³ãƒ¼ãƒ‰ã‚®ã‚¢ã‚¹ åé€†ã®ãƒ«ãƒ«ãƒ¼ã‚·ãƒ¥', d:'çŸ¥ç•¥ã¨ç‰¹æ®Šèƒ½åŠ›ã€Œã‚®ã‚¢ã‚¹ã€ã‚’ä½¿ã„ã€ä¸–ç•Œã‚’å£Šã—ä¸–ç•Œã‚’å‰µã‚‹ã€‚'},
                    {t:'ã‚«ã‚¦ãƒœãƒ¼ã‚¤ãƒ“ãƒãƒƒãƒ—', d:'2071å¹´ã®å¤ªé™½ç³»ã€‚è³é‡‘ç¨¼ããŸã¡ã®ãƒãƒ¼ãƒ‰ãƒœã‚¤ãƒ«ãƒ‰ãªæ—¥å¸¸ã€‚'},
                    {t:'ãƒ´ã‚¡ã‚¤ã‚ªãƒ¬ãƒƒãƒˆãƒ»ã‚¨ãƒ´ã‚¡ãƒ¼ã‚¬ãƒ¼ãƒ‡ãƒ³', d:'ã€Œæ„›ã—ã¦ã‚‹ã€ã®æ„å‘³ã‚’çŸ¥ã‚‹ãŸã‚ã€æ‰‹ç´™ã‚’ä»£ç­†ã™ã‚‹å°‘å¥³ã®ç‰©èªã€‚'},
                    {t:'ãƒ¡ã‚¤ãƒ‰ã‚¤ãƒ³ã‚¢ãƒ“ã‚¹', d:'ç§˜å¢ƒã€Œã‚¢ãƒ“ã‚¹ã€ã®åº•ã‚’ç›®æŒ‡ã™å°‘å¥³ã¨ãƒ­ãƒœãƒƒãƒˆã®ã€ç¾ã—ãã‚‚æ®‹é…·ãªå†’é™ºã€‚'},
                    {t:'Re:ã‚¼ãƒ­ã‹ã‚‰å§‹ã‚ã‚‹ç•°ä¸–ç•Œç”Ÿæ´»', d:'æ­»ã¬ã¨æ™‚é–“ãŒå·»ãæˆ»ã‚‹èƒ½åŠ›ã‚’å¾—ãŸå°‘å¹´ãŒã€é‹å‘½ã«æŠ—ã†ã€‚'},
                    {t:'ã“ã®ç´ æ™´ã‚‰ã—ã„ä¸–ç•Œã«ç¥ç¦ã‚’ï¼', d:'ä¸é‹ãªå°‘å¹´ã¨ãƒãƒ³ã‚³ãƒ„å¥³ç¥ãŸã¡ã®ã€çˆ†ç¬‘ç•°ä¸–ç•Œãƒ©ã‚¤ãƒ•ã€‚'},
                    {t:'å››æœˆã¯å›ã®å˜˜', d:'æ¯ã®æ­»ã§ãƒ”ã‚¢ãƒãŒå¼¾ã‘ãªããªã£ãŸå°‘å¹´ãŒã€ã‚ã‚‹å°‘å¥³ã¨å‡ºä¼šã†ã€‚'},
                    {t:'ã‚ã®æ—¥è¦‹ãŸèŠ±ã®åå‰ã‚’åƒ•é”ã¯ã¾ã çŸ¥ã‚‰ãªã„ã€‚', d:'å¹¼é¦´æŸ“ã®æ­»ã‚’ãã£ã‹ã‘ã«ç–é ã«ãªã£ãŸä»²é–“ãŸã¡ãŒã€å†ã³é›†ã¾ã‚‹ã€‚'},
                    {t:'CLANNAD', d:'ä¸è‰¯å°‘å¹´ã¨ç—…å¼±ãªå°‘å¥³ã®å‡ºä¼šã„ã‹ã‚‰å§‹ã¾ã‚‹ã€å®¶æ—ã®çµ†ã®ç‰©èªã€‚'},
                    {t:'PSYCHO-PASS ã‚µã‚¤ã‚³ãƒ‘ã‚¹', d:'äººã®ç²¾ç¥ãŒæ•°å€¤åŒ–ã•ã‚ŒãŸæœªæ¥ã€‚åˆ‘äº‹ãŸã¡ãŒæ½œåœ¨çŠ¯ã‚’è¿½ã†ã€‚'},
                    {t:'å¤©å…ƒçªç ´ã‚°ãƒ¬ãƒ³ãƒ©ã‚¬ãƒ³', d:'åœ°ä¸‹ã§æš®ã‚‰ã™å°‘å¹´ãŒã€å¤©ã‚’è¡ããƒ‰ãƒªãƒ«ã§é‹å‘½ã‚’åˆ‡ã‚Šæ‹“ãã€‚'},
                    {t:'ã‚­ãƒ«ãƒ©ã‚­ãƒ«', d:'çˆ¶ã®ä»‡ã‚’æ¢ã™å°‘å¥³ãŒã€å–‹ã‚‹åˆ¶æœã‚’ç€ã¦å­¦åœ’ã‚’æ”¯é…ã™ã‚‹ç”Ÿå¾’ä¼šã«æŒ‘ã‚€ã€‚'},
                    {t:'ãƒ¯ãƒ³ãƒ‘ãƒ³ãƒãƒ³', d:'ã©ã‚“ãªæ•µã‚‚ãƒ¯ãƒ³ãƒ‘ãƒ³ãƒã§å€’ã—ã¦ã—ã¾ã†ãƒ’ãƒ¼ãƒ­ãƒ¼ã®è‹¦æ‚©ã¨æ—¥å¸¸ã€‚'},
                    {t:'ãƒ¢ãƒ–ã‚µã‚¤ã‚³100', d:'å¼·å¤§ãªè¶…èƒ½åŠ›ã‚’æŒã¤ãŒã€æ™®é€šã«ç”ŸããŸã„å°‘å¹´ã®é’æ˜¥ã€‚'},
                    {t:'ã‚¸ãƒ§ã‚¸ãƒ§ã®å¥‡å¦™ãªå†’é™º', d:'ã‚¸ãƒ§ãƒ¼ã‚¹ã‚¿ãƒ¼å®¶ã¨å®¿æ•µãƒ‡ã‚£ã‚ªã®ã€ä¸–ä»£ã‚’è¶…ãˆãŸå¥‡å¦™ãªæˆ¦ã„ã€‚'},
                    {t:'éŠ€é­‚', d:'å¤©äººãŒæ¥è¥²ã—ãŸæ±Ÿæˆ¸ã§ã€ä¸‡äº‹å±‹ã‚’å–¶ã‚€ä¾ã®SFæ™‚ä»£åŠ‡ã‚³ãƒ¡ãƒ‡ã‚£ã€‚'},
                    {t:'æ±äº¬å–°ç¨® ãƒˆãƒ¼ã‚­ãƒ§ãƒ¼ã‚°ãƒ¼ãƒ«', d:'äººã‚’å–°ã‚‰ã†ã€Œå–°ç¨®ã€ãŒå­˜åœ¨ã™ã‚‹æ±äº¬ã§ã€åŠå–°ç¨®ã«ãªã£ãŸé’å¹´ã®è‹¦æ‚©ã€‚'},
                    {t:'å¯„ç”Ÿç£ ã‚»ã‚¤ã®æ ¼ç‡', d:'å³æ‰‹ã«å¯„ç”Ÿç”Ÿç‰©ã‚’å®¿ã—ãŸé«˜æ ¡ç”ŸãŒã€äººé¡ã®å­˜äº¡ã‚’ã‹ã‘ãŸæˆ¦ã„ã«æŒ‘ã‚€ã€‚'},
                    {t:'MONSTER', d:'å¤©æ‰å¤–ç§‘åŒ»ãŒåŠ©ã‘ãŸå°‘å¹´ã¯ã€æ€ªç‰©ã ã£ãŸã€‚æˆ¦æ…„ã®ã‚µã‚¹ãƒšãƒ³ã‚¹ã€‚'},
                    {t:'èŸ²å¸«', d:'ãƒ’ãƒˆã¨ã¯ç•°ãªã‚‹ç”Ÿå‘½ã€ŒèŸ²ã€ã¨ã€ãã‚Œã‚’ç´è§£ãèŸ²å¸«ã®ç‰©èªã€‚'},
                    {t:'å¤ç›®å‹äººå¸³', d:'å¦–æ€ªãŒè¦‹ãˆã‚‹å°‘å¹´ãŒã€ç¥–æ¯ã®éºã—ãŸå‹äººå¸³ã‚’é€šã—ã¦å¦–æ€ªã¨å¿ƒã‚’é€šã‚ã™ã€‚'},
                    {t:'æ°·è“', d:'ã€Œã‚„ã‚‰ãªãã¦ã‚‚ã„ã„ã“ã¨ãªã‚‰ã‚„ã‚‰ãªã„ã€çœã‚¨ãƒå°‘å¹´ãŒæŒ‘ã‚€å­¦åœ’ãƒŸã‚¹ãƒ†ãƒªãƒ¼ã€‚'},
                    {t:'ã‘ã„ãŠã‚“ï¼', d:'å»ƒéƒ¨å¯¸å‰ã®è»½éŸ³éƒ¨ã«å…¥éƒ¨ã—ãŸå°‘å¥³ãŸã¡ã®ã€ã‚†ã‚‹ã‚„ã‹ãªæ—¥å¸¸ã€‚'},
                    {t:'ã¼ã£ã¡ãƒ»ã–ãƒ»ã‚ã£ãï¼', d:'é™°ã‚­ãƒ£ãªå°‘å¥³ãŒãƒãƒ³ãƒ‰æ´»å‹•ã‚’é€šã—ã¦æˆé•·ï¼ˆï¼Ÿï¼‰ã—ã¦ã„ãéŸ³æ¥½ã‚¢ãƒ‹ãƒ¡ã€‚'},
                    {t:'ã‚†ã‚‹ã‚­ãƒ£ãƒ³â–³', d:'å¥³å­é«˜ç”ŸãŸã¡ãŒã‚­ãƒ£ãƒ³ãƒ—å ´ã§ã¾ã£ãŸã‚Šéã”ã™ã€ã‚¢ã‚¦ãƒˆãƒ‰ã‚¢ç³»æ—¥å¸¸ã€‚'},
                    {t:'å®‡å®™ã‚ˆã‚Šã‚‚é ã„å ´æ‰€', d:'å¥³å­é«˜ç”ŸãŸã¡ãŒæ°‘é–“å—æ¥µè¦³æ¸¬éšŠã«åŒè¡Œã—ã€å—æ¥µã‚’ç›®æŒ‡ã™é’æ˜¥ç‰©èªã€‚'},
                    {t:'ã‚ªãƒƒãƒ‰ã‚¿ã‚¯ã‚·ãƒ¼', d:'åå±ˆãªã‚¿ã‚¯ã‚·ãƒ¼é‹è»¢æ‰‹ãŒé‹ã¶å®¢ãŸã¡ãŒã€ã‚ã‚‹äº‹ä»¶ã«ç¹‹ãŒã£ã¦ã„ãã€‚'},
                    {t:'ã‚µã‚¤ãƒãƒ¼ãƒ‘ãƒ³ã‚¯ ã‚¨ãƒƒã‚¸ãƒ©ãƒ³ãƒŠãƒ¼ã‚º', d:'ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ã¨èº«ä½“æ”¹é€ ãŒæ”¯é…ã™ã‚‹è¡—ã§ã€å°‘å¹´ãŒå‚­å…µã¨ã—ã¦ç”Ÿãã‚‹ã€‚'},
                    {t:'ãƒ´ã‚£ãƒ³ãƒ©ãƒ³ãƒ‰ãƒ»ã‚µã‚¬', d:'11ä¸–ç´€ã®åŒ—æ¬§ã€‚çˆ¶ã‚’æ®ºã•ã‚ŒãŸå°‘å¹´ãŒã€æˆ¦å ´ã‚’ç”ŸãæŠœãå¾©è®ã‚’èª“ã†ã€‚'},
                    {t:'ãƒ™ãƒ«ã‚»ãƒ«ã‚¯', d:'å·¨å¤§ãªå‰£ã‚’æŒ¯ã‚‹ã†é»’ã„å‰£å£«ã‚¬ãƒƒãƒ„ã®ã€å‡„çµ¶ãªå¾©è®ã®æ—…ã€‚'},
                    {t:'AKIRA', d:'ç¬¬3æ¬¡ä¸–ç•Œå¤§æˆ¦å¾Œã®ãƒã‚ªæ±äº¬ã€‚è¶…èƒ½åŠ›ã¨æš´èµ°æ—ãŒäº¤éŒ¯ã™ã‚‹SFå·¨ç·¨ã€‚'},
                    {t:'ã‚µãƒãƒ¼ã‚¦ã‚©ãƒ¼ã‚º', d:'ç”°èˆã®å¤§å®¶æ—ã¨æ•°å­¦å°‘å¹´ãŒã€ãƒãƒƒãƒˆä¸–ç•Œã®å±æ©Ÿã«ç«‹ã¡å‘ã‹ã†ã€‚'},
                    {t:'ãŠãŠã‹ã¿ã“ã©ã‚‚ã®é›¨ã¨é›ª', d:'ã€ŒãŠãŠã‹ã¿ãŠã¨ã“ã€ã¨æ‹ã‚’ã—ãŸå¥³æ€§ã®ã€13å¹´é–“ã®è‚²å…ã¨è‡ªç«‹ã®ç‰©èªã€‚'},
                    {t:'ãƒ‘ãƒªãƒ”å­”æ˜', d:'ç¾ä»£æ¸‹è°·ã«è»¢ç”Ÿã—ãŸè«¸è‘›å­”æ˜ãŒã€æ­Œæ‰‹ã‚’ç›®æŒ‡ã™å°‘å¥³ã®è»å¸«ã«ãªã‚‹ã€‚'},
                    {t:'æ˜ åƒç ”ã«ã¯æ‰‹ã‚’å‡ºã™ãªï¼', d:'ã‚¢ãƒ‹ãƒ¡åˆ¶ä½œã«æƒ…ç†±ã‚’ç‡ƒã‚„ã™å¥³å­é«˜ç”Ÿ3äººçµ„ã®ã€æœ€å¼·ã®ä¸–ç•Œä½œã‚Šã€‚'},
                    {t:'å¹³å®¶ç‰©èª', d:'æœªæ¥ãŒè¦‹ãˆã‚‹å°‘å¥³ã®ç›®ã‚’é€šã—ã¦æã‹ã‚Œã‚‹ã€å¹³å®¶ã®æ „è¯ã¨æ²¡è½ã€‚'},
                    {t:'ãƒ—ãƒ©ãƒãƒ†ã‚¹', d:'å®‡å®™ã‚´ãƒŸï¼ˆãƒ‡ãƒ–ãƒªï¼‰å›åæ¥­è€…ã¨ã—ã¦åƒãäººã€…ã®ã€å¤¢ã¨ç¾å®Ÿã€‚'},
                    {t:'åŒ–ç‰©èª', d:'æ€ªç•°ã«è¡Œãé­ã£ãŸå°‘å¹´ã¨å°‘å¥³ãŸã¡ã®ã€ä¸æ€è­°ã§ä¼šè©±åŠ‡å¤šã‚ãªç‰©èªã€‚'},
                    {t:'é­”æ³•å°‘å¥³ã¾ã©ã‹â˜†ãƒã‚®ã‚«', d:'é¡˜ã„ã‚’å¶ãˆã¦é­”æ³•å°‘å¥³ã«ãªã‚‹ã“ã¨ã®ã€éé…·ãªé‹å‘½ã¨çœŸå®Ÿã€‚'},
                    {t:'ã‚¬ãƒ¼ãƒ«ã‚ºï¼†ãƒ‘ãƒ³ãƒ„ã‚¡ãƒ¼', d:'æˆ¦è»Šã‚’ä½¿ã£ãŸæ­¦é“ã€Œæˆ¦è»Šé“ã€ã«é’æ˜¥ã‚’æ§ã’ã‚‹å¥³å­é«˜ç”ŸãŸã¡ã€‚'},
                    {t:'ãƒªã‚³ãƒªã‚¹ãƒ»ãƒªã‚³ã‚¤ãƒ«', d:'æ—¥æœ¬ã®æ²»å®‰ã‚’å®ˆã‚‹ç§˜å¯†çµ„ç¹”ã®å°‘å¥³ãŸã¡ãŒã€å–«èŒ¶åº—ã§åƒãæ—¥å¸¸ã¨éæ—¥å¸¸ã€‚'},
                    {t:'ãƒ©ãƒ–ãƒ©ã‚¤ãƒ–ï¼', d:'å»ƒæ ¡ã®å±æ©Ÿã‚’æ•‘ã†ãŸã‚ã€ã‚¹ã‚¯ãƒ¼ãƒ«ã‚¢ã‚¤ãƒ‰ãƒ«ã‚’çµæˆã—ãŸå°‘å¥³ãŸã¡ã®é’æ˜¥ã€‚'},
                    {t:'ã¨ã‚‰ãƒ‰ãƒ©ï¼', d:'ç›®ã¤ãã®æ‚ªã„å°‘å¹´ã¨å‡¶æš´ãªå°‘å¥³ã®ã€ä¸å™¨ç”¨ãªæ‹ã¨å‹æƒ…ã€‚'},
                    {t:'BANANA FISH', d:'NYã®ã‚¹ãƒˆãƒªãƒ¼ãƒˆã‚®ãƒ£ãƒ³ã‚°ã¨æ—¥æœ¬äººã‚«ãƒ¡ãƒ©ãƒãƒ³ãŒã€è¬ã®è–¬ç‰©ã‚’è¿½ã†ã€‚'},
                    {t:'ã‚´ãƒ¼ãƒ«ãƒ‡ãƒ³ã‚«ãƒ ã‚¤', d:'æ˜æ²»å¾ŒæœŸã®åŒ—æµ·é“ã€‚ã‚¢ã‚¤ãƒŒã®åŸ‹è”µé‡‘ã‚’å·¡ã‚‹ã‚µãƒã‚¤ãƒãƒ«ãƒãƒˆãƒ«ã€‚'},
                    {t:'è»¢ç”Ÿã—ãŸã‚‰ã‚¹ãƒ©ã‚¤ãƒ ã ã£ãŸä»¶', d:'é€šã‚Šé­”ã«åˆºã•ã‚Œã¦æ­»ã‚“ã ã‚‰ã€ç•°ä¸–ç•Œã§æœ€å¼·ã®ã‚¹ãƒ©ã‚¤ãƒ ã«è»¢ç”Ÿã—ãŸã€‚'},
                    {t:'ç„¡è·è»¢ç”Ÿ', d:'34æ­³ç„¡è·ãŒç•°ä¸–ç•Œã«è»¢ç”Ÿã—ã€é­”æ³•ã®æ‰èƒ½ã‚’é–‹èŠ±ã•ã›æœ¬æ°—ã§ç”Ÿãã‚‹ã€‚'},
                    {t:'ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰', d:'ã‚µãƒ¼ãƒ“ã‚¹çµ‚äº†ã®å¤œã€ã‚²ãƒ¼ãƒ ã®ä¸–ç•Œã«é–‰ã˜è¾¼ã‚ã‚‰ã‚ŒãŸéª¸éª¨ã®é­”ç‹ã€‚'},
                    {t:'éŸ¿ã‘ï¼ãƒ¦ãƒ¼ãƒ•ã‚©ãƒ‹ã‚¢ãƒ ', d:'å¹å¥æ¥½éƒ¨ã«å…¥éƒ¨ã—ãŸå°‘å¥³ãŸã¡ãŒã€å…¨å›½å¤§ä¼šã‚’ç›®æŒ‡ã—ã¦æœ¬æ°—ã§ã¶ã¤ã‹ã‚‹ã€‚'},
                    {t:'3æœˆã®ãƒ©ã‚¤ã‚ªãƒ³', d:'å­¤ç‹¬ãªé«˜æ ¡ç”Ÿãƒ—ãƒ­æ£‹å£«ãŒã€ä¸‹ç”ºã«ä½ã‚€3å§‰å¦¹ã¨å‡ºä¼šã„å¿ƒã‚’å–ã‚Šæˆ»ã™ã€‚'},
                    {t:'ã¡ã¯ã‚„ãµã‚‹', d:'ç«¶æŠ€ã‹ã‚‹ãŸã«é’æ˜¥ã‚’æ‡¸ã‘ã‚‹é«˜æ ¡ç”ŸãŸã¡ã®ã€ç†±ãæ¿€ã—ã„æˆ¦ã„ã€‚'},
                    {t:'é»’å­ã®ãƒã‚¹ã‚±', d:'å½±ã®è–„ã„å°‘å¹´ã¨å¤©æ‰ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒã€ãƒã‚¹ã‚±ç•Œã®ã€Œã‚­ã‚»ã‚­ã®ä¸–ä»£ã€ã«æŒ‘ã‚€ã€‚'},
                    {t:'å¼±è™«ãƒšãƒ€ãƒ«', d:'ã‚¢ãƒ‹ãƒ¡å¥½ãã®ã‚ªã‚¿ã‚¯å°‘å¹´ãŒã€è‡ªè»¢è»Šç«¶æŠ€éƒ¨ã§æ‰èƒ½ã‚’é–‹èŠ±ã•ã›ã‚‹ã€‚'},
                    {t:'ãƒ€ã‚¤ãƒ¤ã®A', d:'åé–€é‡çƒéƒ¨ã«å…¥éƒ¨ã—ãŸæŠ•æ‰‹ãŒã€ã‚¨ãƒ¼ã‚¹ã‚’ç›®æŒ‡ã—ã¦ãƒ©ã‚¤ãƒãƒ«ã¨ç«¶ã„åˆã†ã€‚'},
                    {t:'ãƒ¡ã‚¸ãƒ£ãƒ¼', d:'ãƒ—ãƒ­é‡çƒé¸æ‰‹ã‚’ç›®æŒ‡ã™å°‘å¹´ã®ã€ãƒªãƒˆãƒ«ãƒªãƒ¼ã‚°ã‹ã‚‰ãƒ¡ã‚¸ãƒ£ãƒ¼ã¾ã§ã®åŠç”Ÿã€‚'},
                    {t:'ãƒ†ãƒ‹ã‚¹ã®ç‹å­æ§˜', d:'å¤©æ‰ãƒ†ãƒ‹ã‚¹å°‘å¹´ãŒã€å€‹æ€§çš„ãªãƒ©ã‚¤ãƒãƒ«ãŸã¡ã¨è¶…æ¬¡å…ƒãƒ†ãƒ‹ã‚¹ãƒãƒˆãƒ«ã€‚'},
                    {t:'ã‚¢ã‚ªã‚¢ã‚·', d:'æ„›åª›ã®ã‚µãƒƒã‚«ãƒ¼å°‘å¹´ãŒã€Jãƒªãƒ¼ã‚°ã®ãƒ¦ãƒ¼ã‚¹ãƒãƒ¼ãƒ ã§ãƒ—ãƒ­ã‚’ç›®æŒ‡ã™ã€‚'},
                    {t:'Free!', d:'æ°´æ³³ã‚’é€šã—ã¦çµ†ã‚’æ·±ã‚ã‚‹ç”·å­é«˜æ ¡ç”ŸãŸã¡ã®ã€ç‘ã€…ã—ã„é’æ˜¥ã€‚'},
                    {t:'ãƒ¦ãƒ¼ãƒª!!! on ICE', d:'å´–ã£ã·ã¡ãƒ•ã‚£ã‚®ãƒ¥ã‚¢ã‚¹ã‚±ãƒ¼ã‚¿ãƒ¼ãŒã€ãƒ­ã‚·ã‚¢ã®ç‹è€…ã¨äºŒäººä¸‰è„šã§æŒ‘ã‚€ã€‚'},
                    {t:'æ˜­å’Œå…ƒç¦„è½èªå¿ƒä¸­', d:'åˆ‘å‹™æ‰€ä¸ŠãŒã‚Šã®ç”·ãŒã€å¤§åäººã¸ã®å¼Ÿå­å…¥ã‚Šã‚’å¿—é¡˜ã—è½èªã®ä¸–ç•Œã¸ã€‚'},
                    {t:'ãƒ”ãƒ³ãƒãƒ³', d:'å“çƒã«é’æ˜¥ã‚’æ§ã’ã‚‹é«˜æ ¡ç”ŸãŸã¡ã®ã€æŒ«æŠ˜ã¨æ „å…‰ã®ç‰©èªã€‚'},
                    {t:'å››ç•³åŠç¥è©±å¤§ç³»', d:'ãƒãƒ©è‰²ã®ã‚­ãƒ£ãƒ³ãƒ‘ã‚¹ãƒ©ã‚¤ãƒ•ã‚’å¤¢è¦‹ã‚‹å¤§å­¦ç”Ÿã®ã€ä¸æ¯›ã§æ„›ã—ã„ä¸¦è¡Œä¸–ç•Œã€‚'},
                    {t:'ã‹ãã—ã”ã¨', d:'å¨˜ã«æ¼«ç”»å®¶ã§ã‚ã‚‹ã“ã¨ã‚’éš ã—ç¶šã‘ã‚‹çˆ¶è¦ªã®ã€ç¬‘ã„ã¨æ¶™ã®æ—¥å¸¸ã€‚'},
                    {t:'æ—¥å¸¸', d:'ã‚·ãƒ¥ãƒ¼ãƒ«ã§äºˆæ¸¬ä¸èƒ½ãªå¥³å­é«˜ç”ŸãŸã¡ã®ã€å¥‡è·¡ã®ã‚ˆã†ãªæ—¥å¸¸ã€‚'},
                    {t:'ç”·å­é«˜æ ¡ç”Ÿã®æ—¥å¸¸', d:'ç”·å­æ ¡ã«é€šã†ç”Ÿå¾’ãŸã¡ã®ã€ãƒã‚«ãƒã‚«ã—ãã‚‚æ„›ãŠã—ã„ãƒªã‚¢ãƒ«ãªç”Ÿæ…‹ã€‚'},
                    {t:'ã‚ãšã¾ã‚“ãŒå¤§ç‹', d:'å¤©æ‰å°‘å¥³ã‚„å€‹æ€§çš„ãªå¥³å­é«˜ç”ŸãŸã¡ã®ã€ã‚†ã‚‹ãã¦æ¥½ã—ã„å­¦åœ’ç”Ÿæ´»ã€‚'},
                    {t:'ã‚¹ã‚¯ãƒ¼ãƒ«ãƒ©ãƒ³ãƒ–ãƒ«', d:'æ‹ã«ä¸å™¨ç”¨ãªé«˜æ ¡ç”ŸãŸã¡ã®ã€å‹˜é•ã„ã ã‚‰ã‘ã®ãƒ‰ã‚¿ãƒã‚¿ãƒ©ãƒ–ã‚³ãƒ¡ã€‚'},
                    {t:'æ¶¼å®®ãƒãƒ«ãƒ’ã®æ†‚é¬±', d:'ãŸã ã®äººé–“ã«ã¯èˆˆå‘³ãŒãªã„å¥³å­é«˜ç”Ÿã¨ã€å·»ãè¾¼ã¾ã‚ŒãŸéƒ¨å“¡ãŸã¡ã®éæ—¥å¸¸ã€‚'},
                    {t:'ã‚‰ãâ˜†ã™ãŸ', d:'ã‚ªã‚¿ã‚¯ãªå¥³å­é«˜ç”Ÿã¨ãã®å‹äººãŸã¡ã®ã€ã¾ã£ãŸã‚Šã¨ã—ãŸä¼šè©±åŠ‡ã€‚'},
                    {t:'äº”ç­‰åˆ†ã®èŠ±å«', d:'è²§ä¹é«˜æ ¡ç”ŸãŒã€è½ç¬¬å¯¸å‰ã®äº”ã¤å­å§‰å¦¹ã®å®¶åº­æ•™å¸«ã«ãªã‚‹ã€‚'},
                    {t:'ã‹ãã‚„æ§˜ã¯å‘Šã‚‰ã›ãŸã„', d:'ãƒ—ãƒ©ã‚¤ãƒ‰ãŒé«˜ã„å¤©æ‰äºŒäººãŒã€ç›¸æ‰‹ã«å‘Šç™½ã•ã›ã‚‹ãŸã‚ã«é ­è„³æˆ¦ã‚’ç¹°ã‚Šåºƒã’ã‚‹ã€‚'},
                    {t:'é’æ˜¥ãƒ–ã‚¿é‡éƒã¯ãƒãƒ‹ãƒ¼ã‚¬ãƒ¼ãƒ«å…ˆè¼©ã®å¤¢ã‚’è¦‹ãªã„', d:'æ€æ˜¥æœŸç—‡å€™ç¾¤ã«ã‚ˆã£ã¦ä¸å¯æ€è­°ãªç¾è±¡ã«å·»ãè¾¼ã¾ã‚Œã‚‹é«˜æ ¡ç”Ÿã®ç‰©èªã€‚'},
                    {t:'ã‚„ã¯ã‚Šä¿ºã®é’æ˜¥ãƒ©ãƒ–ã‚³ãƒ¡ã¯ã¾ã¡ãŒã£ã¦ã„ã‚‹ã€‚', d:'ã²ã­ãã‚Œè€…ã®ã¼ã£ã¡é«˜æ ¡ç”ŸãŒã€å¥‰ä»•éƒ¨ã«å…¥éƒ¨ã•ã›ã‚‰ã‚Œæ›´ç”Ÿï¼Ÿã•ã›ã‚‰ã‚Œã‚‹ã€‚'},
                    {t:'å†´ãˆãªã„å½¼å¥³ã®è‚²ã¦ã‹ãŸ', d:'ã‚ªã‚¿ã‚¯é«˜æ ¡ç”ŸãŒã€ã‚¯ãƒ©ã‚¹ã®ç›®ç«‹ãŸãªã„ç¾å°‘å¥³ã‚’ãƒ’ãƒ­ã‚¤ãƒ³ã«ã‚²ãƒ¼ãƒ ã‚’ä½œã‚‹ã€‚'},
                    {t:'NANA', d:'åŒã˜åå‰ã‚’æŒã¤äºŒäººã®å°‘å¥³ãŒä¸Šäº¬ã—ã€å¤¢ã¨æ‹ã«ç¿»å¼„ã•ã‚Œã‚‹ã€‚'},
                    {t:'ãƒãƒãƒŸãƒ„ã¨ã‚¯ãƒ­ãƒ¼ãƒãƒ¼', d:'ç¾å¤§ã«é€šã†å­¦ç”ŸãŸã¡ã®ã€ç”˜é…¸ã£ã±ãã¦åˆ‡ãªã„ç‰‡æ€ã„ã®ç¾¤åƒåŠ‡ã€‚'},
                    {t:'ã®ã ã‚ã‚«ãƒ³ã‚¿ãƒ¼ãƒ“ãƒ¬', d:'ã‚¨ãƒªãƒ¼ãƒˆéŸ³å¤§ç”Ÿã¨å¤‰æ…‹çš„ãªæ‰èƒ½ã‚’æŒã¤ãƒ”ã‚¢ãƒå¥³å­ã®ã‚¯ãƒ©ã‚·ãƒƒã‚¯ã‚³ãƒ¡ãƒ‡ã‚£ã€‚'},
                    {t:'ãƒ•ãƒ«ãƒ¼ãƒ„ãƒã‚¹ã‚±ãƒƒãƒˆ', d:'ç•°æ€§ã«æŠ±ãã¤ãã¨å‹•ç‰©ã«å¤‰èº«ã™ã‚‹ä¸€æ—ã¨ã€å¿ƒå„ªã—ã„å°‘å¥³ã®ç‰©èªã€‚'},
                    {t:'ã‚«ãƒ¼ãƒ‰ã‚­ãƒ£ãƒ—ã‚¿ãƒ¼ã•ãã‚‰', d:'å°å°ãŒè§£ã‹ã‚ŒãŸé­”æ³•ã®ã‚«ãƒ¼ãƒ‰ã‚’é›†ã‚ã‚‹ãŸã‚ã€å°å­¦ç”Ÿã®ã•ãã‚‰ãŒå¥®é—˜ã™ã‚‹ã€‚'},
                    {t:'ç¾å°‘å¥³æˆ¦å£«ã‚»ãƒ¼ãƒ©ãƒ¼ãƒ ãƒ¼ãƒ³', d:'ãƒ‰ã‚¸ã§æ³£ãè™«ãªä¸­å­¦ç”ŸãŒã€æ„›ã¨æ­£ç¾©ã®æˆ¦å£«ã«å¤‰èº«ã—ã¦åœ°çƒã‚’å®ˆã‚‹ã€‚'},
                    {t:'ãƒ—ãƒªã‚­ãƒ¥ã‚¢ã‚·ãƒªãƒ¼ã‚º', d:'ä¼èª¬ã®æˆ¦å£«ãƒ—ãƒªã‚­ãƒ¥ã‚¢ã«å¤‰èº«ã—ãŸå°‘å¥³ãŸã¡ãŒã€æ‚ªã¨æˆ¦ã†ã€‚'},
                    {t:'ãŠã‚¸ãƒ£é­”å¥³ã©ã‚Œã¿', d:'é­”å¥³è¦‹ç¿’ã„ã«ãªã£ãŸå°å­¦ç”ŸãŸã¡ãŒã€ä¸€äººå‰ã®é­”å¥³ã‚’ç›®æŒ‡ã—ã¦ä¿®è¡Œã™ã‚‹ã€‚'},
                    {t:'ãƒ‡ã‚¸ãƒ¢ãƒ³ã‚¢ãƒ‰ãƒ™ãƒ³ãƒãƒ£ãƒ¼', d:'ç•°ä¸–ç•Œã«é£›ã°ã•ã‚ŒãŸå­ä¾›ãŸã¡ãŒã€ãƒ‡ã‚¸ãƒ¢ãƒ³ã¨å…±ã«å†’é™ºã—æˆé•·ã™ã‚‹ã€‚'},
                    {t:'ãƒã‚±ãƒƒãƒˆãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼', d:'ãƒã‚±ãƒ¢ãƒ³ãƒã‚¹ã‚¿ãƒ¼ã‚’ç›®æŒ‡ã™å°‘å¹´ã‚µãƒˆã‚·ã¨ã€ç›¸æ£’ãƒ”ã‚«ãƒãƒ¥ã‚¦ã®æ—…ã€‚'},
                    {t:'éŠâ˜†æˆ¯â˜†ç‹ãƒ‡ãƒ¥ã‚¨ãƒ«ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼ã‚º', d:'æ°—å¼±ãªå°‘å¹´ãŒã€åƒå¹´ãƒ‘ã‚ºãƒ«ã‚’è§£ã„ã¦é—‡ã®äººæ ¼ã¨å…¥ã‚Œæ›¿ã‚ã‚Šãƒ‡ãƒ¥ã‚¨ãƒ«ï¼'},
                    {t:'ãƒ‰ãƒ©ã‚´ãƒ³ãƒœãƒ¼ãƒ«Z', d:'å®‡å®™æœ€å¼·ã®æˆ¦å£«ãŸã¡ãŒã€åœ°çƒã‚’å®ˆã‚‹ãŸã‚ã«é™ç•Œã‚’è¶…ãˆã¦æˆ¦ã†ã€‚'},
                    {t:'è–é—˜å£«æ˜ŸçŸ¢', d:'æ˜Ÿåº§ã®è–è¡£ï¼ˆã‚¯ãƒ­ã‚¹ï¼‰ã‚’çºã£ãŸå°‘å¹´ãŸã¡ãŒã€å¥³ç¥ã‚¢ãƒ†ãƒŠã‚’å®ˆã‚‹ãŸã‚ã«æˆ¦ã†ã€‚'},
                    {t:'å¹½â˜†éŠâ˜†ç™½æ›¸', d:'æ­»ã‚“ã§éœŠç•Œæ¢åµã«ãªã£ãŸä¸è‰¯å°‘å¹´ãŒã€å¦–æ€ªãŸã¡ã¨ãƒãƒˆãƒ«ã‚’ç¹°ã‚Šåºƒã’ã‚‹ã€‚'},
                    {t:'ã‚‹ã‚ã†ã«å‰£å¿ƒ', d:'å¹•æœ«ã®äººæ–¬ã‚ŠæŠœåˆ€æ–ãŒã€ä¸æ®ºã®èª“ã„ã‚’ç«‹ã¦ã¦æµæµªäººã¨ã—ã¦ç”Ÿãã‚‹ã€‚'},
                    {t:'ã‚·ãƒ†ã‚£ãƒ¼ãƒãƒ³ã‚¿ãƒ¼', d:'æ–°å®¿ã‚’èˆå°ã«ã€å‡„è…•ã‚¹ã‚¤ãƒ¼ãƒ‘ãƒ¼å†´ç¾½ç ãŒç¾å¥³ã®ä¾é ¼ã‚’è§£æ±ºã™ã‚‹ã€‚'},
                    {t:'åŒ—æ–—ã®æ‹³', d:'æ ¸æˆ¦äº‰å¾Œã®è’å»ƒã—ãŸä¸–ç•Œã€‚ä¸€å­ç›¸ä¼ã®æš—æ®ºæ‹³ã§æ‚ªã‚’è¨ã¤æ•‘ä¸–ä¸»ä¼èª¬ã€‚'},
                    {t:'ã‚­ãƒ³è‚‰ãƒãƒ³', d:'ãƒ‰ã‚¸ãªè¶…äººã‚­ãƒ³è‚‰ãƒãƒ³ãŒã€å‹æƒ…ãƒ‘ãƒ¯ãƒ¼ã§å¼·æ•µãŸã¡ã¨ãƒªãƒ³ã‚°ã§æˆ¦ã†ã€‚'},
                    {t:'ã‚­ãƒ£ãƒ—ãƒ†ãƒ³ç¿¼', d:'ã€Œãƒœãƒ¼ãƒ«ã¯å‹é”ã€ã®ã‚µãƒƒã‚«ãƒ¼å°‘å¹´ãŒã€ä¸–ç•Œã®é ‚ç‚¹ã‚’ç›®æŒ‡ã™ã€‚'},
                    {t:'ã‚¤ãƒŠã‚ºãƒã‚¤ãƒ¬ãƒ–ãƒ³', d:'è¶…æ¬¡å…ƒã‚µãƒƒã‚«ãƒ¼ã§å…¨å›½ã€ãã—ã¦ä¸–ç•Œã‚’ç›®æŒ‡ã™ç†±è¡€ã‚­ãƒ£ãƒ—ãƒ†ãƒ³ã®ç‰©èªã€‚'},
                    {t:'å¦–æ€ªã‚¦ã‚©ãƒƒãƒ', d:'ä¸æ€è­°ãªæ™‚è¨ˆã‚’æ‰‹ã«å…¥ã‚ŒãŸå°‘å¹´ãŒã€è¡—ã«æ½œã‚€å¦–æ€ªãŸã¡ã®æ‚©ã¿ã‚’è§£æ±ºã€‚'},
                    {t:'ãƒ‰ãƒ©ãˆã‚‚ã‚“', d:'æœªæ¥ã‹ã‚‰æ¥ãŸãƒã‚³å‹ãƒ­ãƒœãƒƒãƒˆãŒã€ã²ã¿ã¤é“å…·ã§ã®ã³å¤ªã‚’åŠ©ã‘ã‚‹å›½æ°‘çš„ã‚¢ãƒ‹ãƒ¡ã€‚'},
                    {t:'ã‚¯ãƒ¬ãƒ¨ãƒ³ã—ã‚“ã¡ã‚ƒã‚“', d:'åµã‚’å‘¼ã¶5æ­³å…ã—ã‚“ã®ã™ã‘ãŒã€å®¶æ—ã‚„å‹é”ã¨ç¹°ã‚Šåºƒã’ã‚‹çˆ†ç¬‘æ—¥å¸¸ã€‚'},
                    {t:'ã¡ã³ã¾ã‚‹å­ã¡ã‚ƒã‚“', d:'é™å²¡ã®å°å­¦ç”Ÿã¾ã‚‹å­ã¨ã€å€‹æ€§çš„ãªå®¶æ—ã‚„ã‚¯ãƒ©ã‚¹ãƒ¡ã‚¤ãƒˆã®ã»ã®ã¼ã®æ—¥å¸¸ã€‚'},
                    {t:'ã‚µã‚¶ã‚¨ã•ã‚“', d:'æ˜ã‚‹ãæ¥½ã—ã„ç£¯é‡å®¶ã®æ—¥å¸¸ã‚’æã„ãŸã€æ—¥æœ¬ä¸€æœ‰åãªå®¶æ—ã‚¢ãƒ‹ãƒ¡ã€‚'},
                    {t:'å¿ãŸã¾ä¹±å¤ªéƒ', d:'å¿è¡“å­¦åœ’ã«å…¥å­¦ã—ãŸä¹±å¤ªéƒãŸã¡ãŒã€ç«‹æ´¾ãªå¿è€…ç›®æŒ‡ã—ã¦ãƒ‰ã‚¿ãƒã‚¿ä¿®è¡Œã€‚'},
                    {t:'åæ¢åµã‚³ãƒŠãƒ³', d:'è–¬ã§å­ä¾›ã«ã•ã‚ŒãŸé«˜æ ¡ç”Ÿæ¢åµãŒã€é›£äº‹ä»¶ã‚’æ¬¡ã€…ã¨è§£æ±ºã—ã¦ã„ãã€‚'},
                    {t:'ãƒ«ãƒ‘ãƒ³ä¸‰ä¸–', d:'ç¥å‡ºé¬¼æ²¡ã®å¤§æ³¥æ£’ãƒ«ãƒ‘ãƒ³ã¨ãã®ä¸€å‘³ãŒã€éŠ­å½¢è­¦éƒ¨ã‚’ã‹ã‚ã—ã¦ãŠå®ã‚’ç›—ã‚€ã€‚'},
                    {t:'ãƒ–ãƒ©ãƒƒã‚¯ãƒ»ã‚¸ãƒ£ãƒƒã‚¯', d:'æ³•å¤–ãªæ²»ç™‚è²»ã‚’è«‹æ±‚ã™ã‚‹ç„¡å…è¨±ã®å¤©æ‰å¤–ç§‘åŒ»ãŒã€å‘½ã®é‡ã•ã‚’å•ã†ã€‚'},
                    {t:'ç«ã®é³¥', d:'æ™‚ç©ºã‚’è¶…ãˆã¦å­˜åœ¨ã™ã‚‹ä¸æ­»é³¥ã‚’å·¡ã‚‹ã€å£®å¤§ãªç”Ÿå‘½ã®ãƒ‰ãƒ©ãƒã€‚'},
                    {t:'é‰„è…•ã‚¢ãƒˆãƒ ', d:'å¿ƒã‚’æŒã¤ãƒ­ãƒœãƒƒãƒˆå°‘å¹´ã‚¢ãƒˆãƒ ãŒã€äººé–“ã¨ãƒ­ãƒœãƒƒãƒˆã®æ¶ã‘æ©‹ã¨ãªã‚‹ã€‚'},
                    {t:'ãƒ‘ãƒ—ãƒªã‚«', d:'å¤¢ã«å…¥ã‚Šè¾¼ã‚“ã§æ²»ç™‚ã™ã‚‹ã‚»ãƒ©ãƒ”ã‚¹ãƒˆãŒã€æ‚ªå¤¢ã®ãƒ†ãƒ­ãƒªã‚¹ãƒˆã¨æˆ¦ã†ã€‚'},
                    {t:'æ±äº¬ã‚´ãƒƒãƒ‰ãƒ•ã‚¡ãƒ¼ã‚¶ãƒ¼ã‚º', d:'ã‚¯ãƒªã‚¹ãƒã‚¹ã®å¤œã€3äººã®ãƒ›ãƒ¼ãƒ ãƒ¬ã‚¹ãŒæ¨ã¦å­ã‚’æ‹¾ã„ã€è¦ªæ¢ã—ã®æ—…ã¸ã€‚'},
                    {t:'åƒå¹´å¥³å„ª', d:'å¼•é€€ã—ãŸå¤§å¥³å„ªãŒèªã‚‹ã€è™šå®Ÿå…¥ã‚Šæ··ã˜ã£ãŸä¸€ä»£è¨˜ã¨æ„›ã®è¿½è·¡ã€‚'},
                    {t:'ãƒ—ãƒ­ãƒ¡ã‚¢', d:'ç‚ã‚’æ“ã‚‹ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ³ãƒˆã¨ã€ç«æ¶ˆã—é­‚ã‚’æŒã¤ãƒ¬ã‚¹ã‚­ãƒ¥ãƒ¼éšŠå“¡ã®ç†±ã„ãƒãƒˆãƒ«ã€‚'},
                    {t:'SSSS.GRIDMAN', d:'è¨˜æ†¶å–ªå¤±ã®å°‘å¹´ãŒã€ãƒ‘ã‚½ã‚³ãƒ³ã®ä¸­ã®ãƒã‚¤ãƒ‘ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¨åˆä½“ã—ã¦æ€ªç£ã¨æˆ¦ã†ã€‚'},
                    {t:'ã‚¾ãƒ³ãƒ“ãƒ©ãƒ³ãƒ‰ã‚µã‚¬', d:'æ­»ã‚“ã§ã‚¾ãƒ³ãƒ“ã«ãªã£ãŸå°‘å¥³ãŸã¡ãŒã€ä½è³€çœŒã‚’æ•‘ã†ãŸã‚ã«ã‚¢ã‚¤ãƒ‰ãƒ«æ´»å‹•ï¼'},
                    {t:'PUI PUI ãƒ¢ãƒ«ã‚«ãƒ¼', d:'ãƒ¢ãƒ«ãƒ¢ãƒƒãƒˆãŒè»Šã«ãªã£ãŸä¸–ç•Œã€‚ç™’ã‚„ã—ã¨ã‚·ãƒ¥ãƒ¼ãƒ«ã•ãŒåŒå±…ã™ã‚‹ã‚¹ãƒˆãƒƒãƒ—ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ã€‚'},
                    {t:'ãƒãƒ—ãƒ†ãƒ”ãƒ”ãƒƒã‚¯', d:'ã¨ã³ã£ãã‚Šã®ã‚¯ã‚½ã‚¢ãƒ‹ãƒ¡ï¼ˆè¤’ã‚è¨€è‘‰ï¼‰ã€‚ã‚«ã‚ªã‚¹ã¨ãƒ‘ãƒ­ãƒ‡ã‚£ã®åµã€‚'},
                    {t:'ç‚ç‚ãƒæ¶ˆé˜²éšŠ', d:'äººä½“ç™ºç«ç¾è±¡ã®è¬ã‚’è§£ããŸã‚ã€ç‰¹æ®Šæ¶ˆé˜²éšŠãŒæ‚ªé­”ã®ã‚ˆã†ãªç‚ã¨æˆ¦ã†ã€‚'},
                    {t:'ã‚½ã‚¦ãƒ«ã‚¤ãƒ¼ã‚¿ãƒ¼', d:'æ­»ç¥ã®æ­¦å™¨è·äººå°‚é–€å­¦æ ¡ã‚’èˆå°ã«ã€è·äººã¨æ­¦å™¨ãŒé­‚ã‚’é›†ã‚ã‚‹ã€‚'},
                    {t:'D.Gray-man', d:'æ©Ÿæ¢°å…µå™¨AKUMAã‚’è£½é€ ã™ã‚‹ä¼¯çˆµã¨ã€ãã‚Œã‚’ç ´å£Šã™ã‚‹ã‚¨ã‚¯ã‚½ã‚·ã‚¹ãƒˆã®æˆ¦ã„ã€‚'},
                    {t:'é»’åŸ·äº‹', d:'è‹±å›½ã®åé–€è²´æ—ã®å°‘å¹´ã¨ã€å½¼ã«ä»•ãˆã‚‹ä¸‡èƒ½ã«ã—ã¦æ‚ªé­”ãªåŸ·äº‹ã€‚'},
                    {t:'HELLSING', d:'è‹±å›½å›½æ•™é¨å£«å›£ã¨å¸è¡€é¬¼ã‚¢ãƒ¼ã‚«ãƒ¼ãƒ‰ãŒã€åŒ–ã‘ç‰©ã‚’ç‹©ã‚Šå°½ãã™ã€‚'},
                    {t:'åˆ€èª', d:'åˆ€ã‚’ä½¿ã‚ãªã„å‰£å£«ãŒã€å¥‡ç­–å£«ã¨ã¨ã‚‚ã«ä¼èª¬ã®12æœ¬ã®åˆ€ã‚’é›†ã‚ã‚‹æ—…ã€‚'},
                    {t:'ãƒ‡ãƒ¥ãƒ©ãƒ©ãƒ©!!', d:'æ± è¢‹ã‚’èˆå°ã«ã€é¦–ãªã—ãƒ©ã‚¤ãƒ€ãƒ¼ã‚„ã‚®ãƒ£ãƒ³ã‚°ãŸã¡ãŒç¹”ã‚Šãªã™ç¾¤åƒåŠ‡ã€‚'},
                    {t:'ãƒãƒƒã‚«ãƒ¼ãƒ!', d:'ç¦é…’æ³•æ™‚ä»£ã®ã‚¢ãƒ¡ãƒªã‚«ã€‚ä¸æ­»ã®é…’ã‚’å·¡ã‚‹é¦¬é¹¿é¨’ãã®ç¾¤åƒåŠ‡ã€‚'},
                    {t:'DARKER THAN BLACK -é»’ã®å¥‘ç´„è€…-', d:'æ„Ÿæƒ…ã‚’å¤±ã„ä»£å„Ÿã‚’æ‰•ã£ã¦èƒ½åŠ›ã‚’ä½¿ã†ã€Œå¥‘ç´„è€…ã€ãŸã¡ã®ã‚¹ãƒ‘ã‚¤ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã€‚'},
                    {t:'æ±ã®ã‚¨ãƒ‡ãƒ³', d:'è¨˜æ†¶å–ªå¤±ã®é’å¹´ãŒã€100å„„å††ã¨æºå¸¯é›»è©±ã§æ—¥æœ¬ã‚’æ•‘ã†ã‚²ãƒ¼ãƒ ã«æŒ‘ã‚€ã€‚'},
                    {t:'ã‚®ãƒ«ãƒ†ã‚£ã‚¯ãƒ©ã‚¦ãƒ³', d:'å³è…•ã‹ã‚‰æ­¦å™¨ã‚’å–ã‚Šå‡ºã™èƒ½åŠ›ã‚’å¾—ãŸå°‘å¹´ãŒã€é©å‘½ã¨æ‹ã«å·»ãè¾¼ã¾ã‚Œã‚‹ã€‚'},
                    {t:'ã‚¢ãƒ«ãƒ‰ãƒã‚¢ãƒ»ã‚¼ãƒ­', d:'åœ°çƒã¨ç«æ˜Ÿã®æˆ¦äº‰ã€‚ç·´ç¿’æ©Ÿã«ä¹—ã‚‹å°‘å¹´ãŒã€åœ§å€’çš„ç§‘å­¦åŠ›ã®ç«æ˜Ÿé¨å£«ã«æŒ‘ã‚€ã€‚'},
                    {t:'86-ã‚¨ã‚¤ãƒ†ã‚£ã‚·ãƒƒã‚¯ã‚¹-', d:'ç„¡äººæ©Ÿã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹å°‘å¹´å…µãŸã¡ã¨ã€å½¼ã‚‰ã‚’æŒ‡æ®ã™ã‚‹å°‘å¥³ã®æ‚²å£®ãªæˆ¦ã„ã€‚'},
                    {t:'ãƒã‚¯ãƒ­ã‚¹F', d:'å®‡å®™ç§»æ°‘èˆ¹å›£ã‚’èˆå°ã«ã€æ­Œã¨å¯å¤‰æˆ¦é—˜æ©Ÿã¨ä¸‰è§’é–¢ä¿‚ãŒäº¤éŒ¯ã™ã‚‹ã€‚'},
                    {t:'ãƒˆãƒ©ã‚¤ã‚¬ãƒ³', d:'600å„„$$ã®è³é‡‘é¦–ã€äººé–“å°é¢¨ï¼ˆãƒ´ã‚¡ãƒƒã‚·ãƒ¥ãƒ»ã‚¶ãƒ»ã‚¹ã‚¿ãƒ³ãƒ”ãƒ¼ãƒ‰ï¼‰ã®æ„›ã¨å¹³å’Œã®æ—…ã€‚'},
                    {t:'ã‚¢ã‚¦ãƒˆãƒ­ãƒ¼ã‚¹ã‚¿ãƒ¼', d:'å®‡å®™ã®ç„¡æ³•è€…ãŸã¡ãŒã€æœ€å¼·ã®å®‡å®™èˆ¹ã‚’æ‰‹ã«å…¥ã‚Œã¦éŠ€æ²³ã‚’é§†ã‘å·¡ã‚‹ã€‚'},
                    {t:'ã‚µãƒ ãƒ©ã‚¤ãƒãƒ£ãƒ³ãƒ—ãƒ«ãƒ¼', d:'é¢¨æ¥åŠã¨å‰£å£«ã¨å°‘å¥³ãŒã€ã€Œã²ã¾ã‚ã‚Šã®åŒ‚ã„ã®ã™ã‚‹ä¾ã€ã‚’æ¢ã—ã¦æ—…ã‚’ã™ã‚‹ã€‚'},
                    {t:'ã‚¹ãƒšãƒ¼ã‚¹â˜†ãƒ€ãƒ³ãƒ‡ã‚£', d:'å®‡å®™ã®ãƒ€ãƒ³ãƒ‡ã‚£ã¯ã€å®‡å®™ã®ãƒãƒ³ã‚¿ãƒ¼ã€‚æ–°ç¨®ã®å®‡å®™äººã‚’æ¢ã—ã¦éŠ€æ²³ã‚’å½·å¾¨ã†ã€‚'},
                    {t:'ã‚­ãƒ£ãƒ­ãƒ«ï¼†ãƒãƒ¥ãƒ¼ã‚ºãƒ‡ã‚¤', d:'ç«æ˜Ÿã«ç§»ä½ã—ãŸäººé¡ã€‚äºŒäººã®å°‘å¥³ãŒå‡ºä¼šã„ã€éŸ³æ¥½ã§å¥‡è·¡ã‚’èµ·ã“ã™ã€‚'},
                    {t:'GREAT PRETENDER', d:'è‡ªç§°ãƒ»æ—¥æœ¬ä¸€ã®è©æ¬ºå¸«ãŒã€ä¸–ç•Œè¦æ¨¡ã®ä¿¡ç”¨è©æ¬ºï¼ˆã‚³ãƒ³ãƒ»ã‚²ãƒ¼ãƒ ï¼‰ã«å·»ãè¾¼ã¾ã‚Œã‚‹ã€‚'},
                    {t:'å®çŸ³ã®å›½', d:'å®çŸ³ã®ä½“ã‚’æŒã¤äººå‹ç”Ÿç‰©ãŸã¡ãŒã€æœˆäººã¨ã®æˆ¦ã„ã®ä¸­ã§å¤‰åŒ–ã—ã¦ã„ãã€‚'},
                    {t:'BEASTARS', d:'è‚‰é£Ÿç£ã¨è‰é£Ÿç£ãŒå…±å­˜ã™ã‚‹ä¸–ç•Œã§ã€ç‹¼ã®å°‘å¹´ãŒæœ¬èƒ½ã¨æ‹ã«æ‚©ã‚€ã€‚'},
                    {t:'ãƒ©ãƒ³ãƒ‰ãƒ ', d:'é­”æ³•ä½¿ã„ã®å¼Ÿå­ã‚’ç›®æŒ‡ã™å°‘å¹´ãŒã€å·¨å¤§ãªæ€ªç‰©ãƒãƒ¡ã‚·ã‚¹ã‚’å€’ã™å†’é™ºã¸ã€‚'},
                    {t:'ç‹æ§˜ãƒ©ãƒ³ã‚­ãƒ³ã‚°', d:'è€³ãŒèã“ãˆãšéåŠ›ãªç‹å­ãƒœãƒƒã‚¸ãŒã€ç«‹æ´¾ãªç‹æ§˜ã‚’ç›®æŒ‡ã—ã¦å†’é™ºã™ã‚‹ã€‚'},
                    {t:'ã‚¦ãƒå¨˜ ãƒ—ãƒªãƒ†ã‚£ãƒ¼ãƒ€ãƒ¼ãƒ“ãƒ¼', d:'å®Ÿåœ¨ã®ç«¶èµ°é¦¬ã®åã‚’æŒã¤å°‘å¥³ãŸã¡ãŒã€ãƒ¬ãƒ¼ã‚¹ã§å‹åˆ©ã‚’ç›®æŒ‡ã—ã¦é§†ã‘ã‚‹ã€‚'}
                ];

                // 9. ãŠã™ã™ã‚æ˜ ç”» (å…¨220ç¨®ä»¥ä¸Šï¼šè¶…ç‰¹å¤§ç‰ˆ)
                const movies = [
                    {t:'ã‚·ãƒ§ãƒ¼ã‚·ãƒ£ãƒ³ã‚¯ã®ç©ºã«', d:'å†¤ç½ªã§æŠ•ç„ã•ã‚ŒãŸç”·ãŒã€å¸Œæœ›ã‚’æ¨ã¦ãšã«å¥‡è·¡ã‚’èµ·ã“ã™ã€‚'},
                    {t:'ã‚´ãƒƒãƒ‰ãƒ•ã‚¡ãƒ¼ã‚¶ãƒ¼', d:'ãƒãƒ•ã‚£ã‚¢ã®ãƒ‰ãƒ³ã¨ãã®å®¶æ—ã®ã€è¡€å¡—ã‚‰ã‚ŒãŸæ „æ¯ç››è¡°ã€‚'},
                    {t:'ãƒ€ãƒ¼ã‚¯ãƒŠã‚¤ãƒˆ', d:'ãƒãƒƒãƒˆãƒãƒ³vsã‚¸ãƒ§ãƒ¼ã‚«ãƒ¼ã€‚æ­£ç¾©ã¨æ‚ªã®ç©¶æ¥µã®å¿ƒç†æˆ¦ã€‚'},
                    {t:'ãƒ‘ãƒ«ãƒ—ãƒ»ãƒ•ã‚£ã‚¯ã‚·ãƒ§ãƒ³', d:'ã‚®ãƒ£ãƒ³ã‚°ãŸã¡ã®æ—¥å¸¸ã¨éæ—¥å¸¸ãŒäº¤éŒ¯ã™ã‚‹ã€ã‚¹ã‚¿ã‚¤ãƒªãƒƒã‚·ãƒ¥ãªç¾¤åƒåŠ‡ã€‚'},
                    {t:'ãƒ•ã‚¡ã‚¤ãƒˆãƒ»ã‚¯ãƒ©ãƒ–', d:'ä¸çœ ç—‡ã®ç”·ãŒå‡ºä¼šã£ãŸè¬ã®ç”·ã¨ã€æ®´ã‚Šåˆã„ã®ã‚¯ãƒ©ãƒ–ã‚’ä½œã‚‹ã€‚'},
                    {t:'ã‚¤ãƒ³ã‚»ãƒ—ã‚·ãƒ§ãƒ³', d:'ä»–äººã®å¤¢ã«ä¾µå…¥ã—ã€ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’æ¤ãˆä»˜ã‘ã‚‹ç”£æ¥­ã‚¹ãƒ‘ã‚¤ã®æˆ¦ã„ã€‚'},
                    {t:'ãƒãƒˆãƒªãƒƒã‚¯ã‚¹', d:'ä¸–ç•Œã¯ä»®æƒ³ç¾å®Ÿã ã£ãŸ!? æ•‘ä¸–ä¸»ã¨ã—ã¦ç›®è¦šã‚ãŸç”·ã®æˆ¦ã„ã€‚'},
                    {t:'ã‚¤ãƒ³ã‚¿ãƒ¼ã‚¹ãƒ†ãƒ©ãƒ¼', d:'æ»…ã³ã‚†ãåœ°çƒã‚’å»ã‚Šã€äººé¡ã®ç§»ä½å…ˆã‚’æ¢ã™å®‡å®™ã®æ—…ã€‚'},
                    {t:'ãƒ‘ãƒ©ã‚µã‚¤ãƒˆ åŠåœ°ä¸‹ã®å®¶æ—', d:'åŠåœ°ä¸‹ã®å®¶æ—ãŒã€è±ªé‚¸ã«ä½ã‚€å¯Œè£•å±¤ä¸€å®¶ã«å¯„ç”Ÿã—ã¦ã„ãã€‚'},
                    {t:'åƒã¨åƒå°‹ã®ç¥éš ã—', d:'ç¥ã€…ã®ä¸–ç•Œã«è¿·ã„è¾¼ã‚“ã å°‘å¥³ãŒã€åƒãã“ã¨ã§æˆé•·ã™ã‚‹ã€‚'},
                    {t:'å›ã®åã¯ã€‚', d:'ç”°èˆã®å¥³å­é«˜ç”Ÿã¨éƒ½ä¼šã®ç”·å­é«˜æ ¡ç”ŸãŒã€å¤¢ã®ä¸­ã§å…¥ã‚Œæ›¿ã‚ã‚‹ã€‚'},
                    {t:'RRR', d:'è‹±å›½æ¤æ°‘åœ°æ™‚ä»£ã®ã‚¤ãƒ³ãƒ‰ã€‚ç†±ãç”·ãŸã¡ã®å‹æƒ…ã¨ãƒ‰è¿«åŠ›ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã€‚'},
                    {t:'ãƒˆãƒƒãƒ—ã‚¬ãƒ³ ãƒãƒ¼ãƒ´ã‚§ãƒªãƒƒã‚¯', d:'ä¼èª¬ã®ãƒ‘ã‚¤ãƒ­ãƒƒãƒˆãŒæ•™å®˜ã¨ã—ã¦å¸°é‚„ã€‚ç©ºã®æ¥µé™ã«æŒ‘ã‚€ã€‚'},
                    {t:'ãƒãƒƒã‚¯ãƒ»ãƒˆã‚¥ãƒ»ã‚¶ãƒ»ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼', d:'ã‚¿ã‚¤ãƒ ãƒã‚·ãƒ³ã§éå»ã¸ã€‚ä¸¡è¦ªã®æ‹ã‚’æˆå°±ã•ã›æœªæ¥ã‚’å®ˆã‚Œã€‚'},
                    {t:'ãƒ¬ã‚ªãƒ³', d:'å­¤ç‹¬ãªæ®ºã—å±‹ã¨å®¶æ—ã‚’æ®ºã•ã‚ŒãŸå°‘å¥³ã®ã€åˆ‡ãªãã‚‚ç´”ç²‹ãªæ„›ã€‚'},
                    {t:'ãƒ©ãƒ»ãƒ©ãƒ»ãƒ©ãƒ³ãƒ‰', d:'å¤¢ã‚’è¿½ã†å¥³å„ªã¨ã‚¸ãƒ£ã‚ºãƒ”ã‚¢ãƒ‹ã‚¹ãƒˆã®ã€æ‹ã¨å¤¢ã®ãƒŸãƒ¥ãƒ¼ã‚¸ã‚«ãƒ«ã€‚'},
                    {t:'ãƒ•ã‚©ãƒ¬ã‚¹ãƒˆãƒ»ã‚¬ãƒ³ãƒ—', d:'çŸ¥èƒ½æŒ‡æ•°ã¯ä½ã„ãŒç´”çœŸãªå¿ƒã‚’æŒã¤ç”·ãŒã€æ­´å²çš„äº‹ä»¶ã«é–¢ã‚ã£ã¦ã„ãã€‚'},
                    {t:'ã‚¿ã‚¤ã‚¿ãƒ‹ãƒƒã‚¯', d:'è±ªè¯å®¢èˆ¹ã§å‡ºä¼šã£ãŸèº«åˆ†é•ã„ã®ç”·å¥³ã®ã€é‹å‘½çš„ãªæ‹ã¨æ‚²åŠ‡ã€‚'},
                    {t:'ã‚¹ã‚¿ãƒ¼ãƒ»ã‚¦ã‚©ãƒ¼ã‚º æ–°ãŸãªã‚‹å¸Œæœ›', d:'é ã„æ˜”ã€é¥ã‹å½¼æ–¹ã®éŠ€æ²³ç³»ã§ç¹°ã‚Šåºƒã’ã‚‰ã‚Œã‚‹ã€ã‚¸ã‚§ãƒ€ã‚¤ã¨å¸å›½ã®æˆ¦ã„ã€‚'},
                    {t:'ã‚¸ãƒ¥ãƒ©ã‚·ãƒƒã‚¯ãƒ»ãƒ‘ãƒ¼ã‚¯', d:'ãƒã‚¤ã‚ªæŠ€è¡“ã§è˜‡ã£ãŸæç«œãŸã¡ãŒã€ãƒ†ãƒ¼ãƒãƒ‘ãƒ¼ã‚¯ã§æš´èµ°ã™ã‚‹ã€‚'},
                    {t:'ãƒãƒªãƒ¼ãƒ»ãƒãƒƒã‚¿ãƒ¼ã¨è³¢è€…ã®çŸ³', d:'é­”æ³•ä½¿ã„ã®å°‘å¹´ãŒå…¥å­¦ã—ãŸé­”æ³•å­¦æ ¡ã§ã€æ•°ã€…ã®å†’é™ºã«æŒ‘ã‚€ã€‚'},
                    {t:'ãƒ­ãƒ¼ãƒ‰ãƒ»ã‚ªãƒ–ãƒ»ã‚¶ãƒ»ãƒªãƒ³ã‚°', d:'ä¸–ç•Œã‚’æ»…ã¼ã™é­”åŠ›ã‚’æŒã¤æŒ‡è¼ªã‚’ç ´å£Šã™ã‚‹ãŸã‚ã€æ—…ã®ä»²é–“ãŒé›†ã†ã€‚'},
                    {t:'ã‚¢ãƒ™ãƒ³ã‚¸ãƒ£ãƒ¼ã‚º', d:'æœ€å¼·ã®ãƒ’ãƒ¼ãƒ­ãƒ¼ãŸã¡ãŒé›†çµã—ã€åœ°çƒå¤–ã‹ã‚‰ã®ä¾µç•¥ã«ç«‹ã¡å‘ã‹ã†ã€‚'},
                    {t:'ã‚¹ãƒ‘ã‚¤ãƒ€ãƒ¼ãƒãƒ³', d:'ç‰¹æ®Šèƒ½åŠ›ã‚’å¾—ãŸé«˜æ ¡ç”ŸãŒã€ã€Œå¤§ã„ãªã‚‹åŠ›ã«ã¯å¤§ã„ãªã‚‹è²¬ä»»ãŒä¼´ã†ã€ã¨çŸ¥ã‚‹ã€‚'},
                    {t:'ã‚¸ãƒ§ãƒ¼ã‚«ãƒ¼', d:'å¿ƒå„ªã—ã„é“åŒ–å¸«ãŒã€ç‹‚æ°—ã®çŠ¯ç½ªç‹å­ã¸ã¨å¤‰è²Œã—ã¦ã„ãè¡æ’ƒä½œã€‚'},
                    {t:'ç¾ŠãŸã¡ã®æ²ˆé»™', d:'FBIè¨“ç·´ç”ŸãŒã€é€£ç¶šæ®ºäººçŠ¯ã‚’è¿½ã†ãŸã‚ã«äººå–°ã„åšå£«ã«å”åŠ›ã‚’ä»°ãã€‚'},
                    {t:'ã‚»ãƒ–ãƒ³', d:'ã€Œä¸ƒã¤ã®å¤§ç½ªã€ã«è¦‹ç«‹ã¦ãŸé€£ç¶šçŒŸå¥‡æ®ºäººã‚’ã€äºŒäººã®åˆ‘äº‹ãŒè¿½ã†ã€‚'},
                    {t:'ã‚·ãƒƒã‚¯ã‚¹ãƒ»ã‚»ãƒ³ã‚¹', d:'æ­»è€…ãŒè¦‹ãˆã‚‹å°‘å¹´ã¨ã€å½¼ã‚’æ•‘ãŠã†ã¨ã™ã‚‹å°å…ç²¾ç¥ç§‘åŒ»ã®ç‰©èªã€‚'},
                    {t:'ãƒˆã‚¥ãƒ«ãƒ¼ãƒãƒ³ãƒ»ã‚·ãƒ§ãƒ¼', d:'è‡ªåˆ†ã®äººç”ŸãŒ24æ™‚é–“ç”Ÿä¸­ç¶™ã®ãƒ†ãƒ¬ãƒ“ç•ªçµ„ã ã£ãŸã¨æ°—ã¥ã„ãŸç”·ã€‚'},
                    {t:'ã‚°ãƒƒãƒ‰ãƒ»ã‚¦ã‚£ãƒ«ãƒ»ãƒãƒ³ãƒ†ã‚£ãƒ³ã‚°', d:'å¤©æ‰çš„ãªé ­è„³ã‚’æŒã¡ãªãŒã‚‰å¿ƒã‚’é–‰ã–ã—ãŸé’å¹´ã¨ã€å¿ƒç†å­¦è€…ã®äº¤æµã€‚'},
                    {t:'ã„ã¾ã‚’ç”Ÿãã‚‹', d:'å³æ ¼ãªå…¨å¯®åˆ¶å­¦æ ¡ã«èµ´ä»»ã—ãŸå‹ç ´ã‚Šãªæ•™å¸«ãŒã€è©©ã‚’é€šã—ã¦ç”Ÿå¾’ã‚’å°ãã€‚'},
                    {t:'ã‚»ãƒƒã‚·ãƒ§ãƒ³', d:'åé–€éŸ³æ¥½å­¦æ ¡ã®ãƒ‰ãƒ©ãƒãƒ¼ã¨ã€é¬¼æ•™å¸«ã®ç‹‚æ°—ã˜ã¿ãŸãƒ¬ãƒƒã‚¹ãƒ³ã®æ—¥ã€…ã€‚'},
                    {t:'ã‚°ãƒªãƒ¼ãƒ³ãƒ–ãƒƒã‚¯', d:'é»’äººå¤©æ‰ãƒ”ã‚¢ãƒ‹ã‚¹ãƒˆã¨ç²—é‡ãªç™½äººé‹è»¢æ‰‹ãŒã€äººç¨®å·®åˆ¥ã®è‰²æ¿ƒã„å—éƒ¨ã‚’æ—…ã™ã‚‹ã€‚'},
                    {t:'ãƒ©ã‚¤ãƒ•ãƒ»ã‚¤ã‚ºãƒ»ãƒ“ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ•ãƒ«', d:'ãƒŠãƒã‚¹ã®åå®¹æ‰€ã§ã‚‚ã€çˆ¶ã¯å˜˜ã‚’ã¤ã„ã¦å¹¼ã„æ¯å­ã‚’å®ˆã‚ŠæŠœãã€‚'},
                    {t:'æˆ¦å ´ã®ãƒ”ã‚¢ãƒ‹ã‚¹ãƒˆ', d:'ãƒŠãƒã‚¹å é ˜ä¸‹ã®ãƒ¯ãƒ«ã‚·ãƒ£ãƒ¯ã§ã€å¥‡è·¡çš„ã«ç”Ÿãå»¶ã³ãŸãƒ¦ãƒ€ãƒ¤äººãƒ”ã‚¢ãƒ‹ã‚¹ãƒˆã€‚'},
                    {t:'ã‚°ãƒ©ãƒ‡ã‚£ã‚¨ãƒ¼ã‚¿ãƒ¼', d:'çš‡å¸ã«è£åˆ‡ã‚‰ã‚Œå¥´éš·ã¨ãªã£ãŸå°†è»ãŒã€å‰£é—˜å£«ã¨ã—ã¦å¾©è®ã‚’èª“ã†ã€‚'},
                    {t:'ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ»ãƒ©ã‚¤ã‚¢ãƒ³', d:'æ¿€æˆ¦ã®ãƒãƒ«ãƒãƒ³ãƒ‡ã‚£ãƒ¼ã€‚ä¸€äººã®å…µå£«ã‚’æ•‘å‡ºã™ã‚‹ãŸã‚ã«åˆ†éšŠãŒæ´¾é£ã•ã‚Œã‚‹ã€‚'},
                    {t:'åäºŒäººã®æ€’ã‚Œã‚‹ç”·', d:'çˆ¶è¦ªæ®ºã—ã®ç½ªã«å•ã‚ã‚ŒãŸå°‘å¹´ã®è£åˆ¤ã€‚é™ªå¯©å“¡å®¤ã§ã®æ¿ƒå¯†ãªè­°è«–ã€‚'},
                    {t:'ã‚µã‚¤ã‚³', d:'ãƒ¢ãƒ¼ãƒ†ãƒ«ã‚’è¨ªã‚ŒãŸå¥³æ€§ãŒé­é‡ã™ã‚‹ææ€–ã€‚ãƒ’ãƒƒãƒã‚³ãƒƒã‚¯ã®å‚‘ä½œã‚¹ãƒªãƒ©ãƒ¼ã€‚'},
                    {t:'ã‚·ãƒ£ã‚¤ãƒ‹ãƒ³ã‚°', d:'é›ªã«é–‰ã–ã•ã‚ŒãŸãƒ›ãƒ†ãƒ«ã§ã€ç®¡ç†äººã®ç”·ãŒå¾ã€…ã«ç‹‚æ°—ã«è•ã¾ã‚Œã¦ã„ãã€‚'},
                    {t:'ã‚¸ãƒ§ãƒ¼ã‚º', d:'å¹³å’Œãªãƒ“ãƒ¼ãƒã«äººå–°ã„é®«ãŒå‡ºç¾ã€‚è­¦å¯Ÿç½²é•·ãŸã¡ãŒæµ·ä¸Šã®æ­»é—˜ã«æŒ‘ã‚€ã€‚'},
                    {t:'E.T.', d:'åœ°çƒã«å–ã‚Šæ®‹ã•ã‚ŒãŸç•°æ˜Ÿäººã¨ã€å°‘å¹´ã‚¨ãƒªã‚ªãƒƒãƒˆã®å¿ƒæ¸©ã¾ã‚‹å‹æƒ…ã€‚'},
                    {t:'ã‚¹ã‚¿ãƒ³ãƒ‰ãƒ»ãƒã‚¤ãƒ»ãƒŸãƒ¼', d:'æ­»ä½“æ¢ã—ã®æ—…ã«å‡ºãŸ4äººã®å°‘å¹´ãŸã¡ã®ã€ã²ã¨å¤ã®å†’é™ºã¨æˆé•·ã€‚'},
                    {t:'ãƒ›ãƒ¼ãƒ ãƒ»ã‚¢ãƒ­ãƒ¼ãƒ³', d:'å®¶ã«ä¸€äººå–ã‚Šæ®‹ã•ã‚ŒãŸå°‘å¹´ãŒã€æ³¥æ£’æ’ƒé€€ã®ãŸã‚ã«ç½ ã‚’ä»•æ›ã‘ã‚‹ã€‚'},
                    {t:'ãƒ—ãƒ©ãƒ€ã‚’ç€ãŸæ‚ªé­”', d:'ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³èªŒã®ç·¨é›†éƒ¨ã§ã€æ‚ªé­”ã®ã‚ˆã†ãªä¸Šå¸ã«æŒ¯ã‚Šå›ã•ã‚Œã‚‹æ–°äººã€‚'},
                    {t:'ã‚°ãƒ¬ã‚¤ãƒ†ã‚¹ãƒˆãƒ»ã‚·ãƒ§ãƒ¼ãƒãƒ³', d:'ä¼èª¬ã®èˆˆè¡Œå¸«P.T.ãƒãƒ¼ãƒŠãƒ ã®æˆåŠŸã¨æŒ«æŠ˜ã‚’æã„ãŸãƒŸãƒ¥ãƒ¼ã‚¸ã‚«ãƒ«ã€‚'},
                    {t:'ãƒœãƒ˜ãƒŸã‚¢ãƒ³ãƒ»ãƒ©ãƒ—ã‚½ãƒ‡ã‚£', d:'ä¼èª¬ã®ãƒãƒ³ãƒ‰ã€Œã‚¯ã‚¤ãƒ¼ãƒ³ã€ã®ãƒ•ãƒ¬ãƒ‡ã‚£ãƒ»ãƒãƒ¼ã‚­ãƒ¥ãƒªãƒ¼ã®æ³¢ä¹±ã®åŠç”Ÿã€‚'},
                    {t:'ãƒˆã‚¤ãƒ»ã‚¹ãƒˆãƒ¼ãƒªãƒ¼', d:'ãŠã‚‚ã¡ã‚ƒãŸã¡ã¯äººé–“ãŒè¦‹ã¦ã„ãªã„ã¨ã“ã‚ã§ç”Ÿãã¦ã„ã‚‹ã€‚å‹æƒ…ã¨å†’é™ºã®ç‰©èªã€‚'},
                    {t:'ã‚¢ãƒŠã¨é›ªã®å¥³ç‹', d:'å‡ã£ãŸä¸–ç•Œã‚’æ•‘ã†ãŸã‚ã€å¦¹ã‚¢ãƒŠãŒå§‰ã‚¨ãƒ«ã‚µã‚’æ¢ã™æ—…ã«å‡ºã‚‹ã€‚'},
                    {t:'ã‚ºãƒ¼ãƒˆãƒ”ã‚¢', d:'å‹•ç‰©ãŸã¡ãŒæš®ã‚‰ã™æ¥½åœ’ã§ã€ã‚¦ã‚µã‚®ã®è­¦å®˜ã¨ã‚­ãƒ„ãƒã®è©æ¬ºå¸«ãŒäº‹ä»¶ã‚’è¿½ã†ã€‚'},
                    {t:'ã‚‚ã®ã®ã‘å§«', d:'æ£®ã‚’ä¾µã™äººé–“ã¨ã€æ£®ã‚’å®ˆã‚‹ç¥ã€…ã®å£®çµ¶ãªæˆ¦ã„ã€‚ç”Ÿãã‚ã€‚'},
                    {t:'ã¨ãªã‚Šã®ãƒˆãƒˆãƒ­', d:'ç”°èˆã«å¼•ã£è¶Šã—ã¦ããŸå§‰å¦¹ã¨ã€ä¸æ€è­°ãªç”Ÿãç‰©ãƒˆãƒˆãƒ­ã¨ã®äº¤æµã€‚'},
                    {t:'ä¸ƒäººã®ä¾', d:'é‡æ­¦å£«ã®è¥²æ’ƒã«æ€¯ãˆã‚‹æ‘äººãŒã€ä¸ƒäººã®ä¾ã‚’é›‡ã£ã¦æ‘ã‚’å®ˆã‚‹ã€‚é»’æ¾¤æ˜ã®å‚‘ä½œã€‚'},
                    {t:'ä¸‡å¼•ãå®¶æ—', d:'çŠ¯ç½ªã§ã—ã‹ç¹‹ãŒã‚Œãªã‹ã£ãŸå®¶æ—ã®ã€ç§˜å¯†ã¨çµ†ã€‚ã‚«ãƒ³ãƒŒæœ€é«˜è³å—è³ä½œã€‚'},
                    {t:'ãƒ‰ãƒ©ã‚¤ãƒ–ãƒ»ãƒã‚¤ãƒ»ã‚«ãƒ¼', d:'å¦»ã‚’äº¡ãã—ãŸæ¼”å‡ºå®¶ãŒã€ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã®å¥³æ€§ã¨ã®å¯¾è©±ã§å†ç”Ÿã—ã¦ã„ãã€‚'},
                    {t:'ã‚´ã‚¸ãƒ©-1.0', d:'æˆ¦å¾Œã€ç„¦åœŸã¨åŒ–ã—ãŸæ—¥æœ¬ã«ã‚´ã‚¸ãƒ©ãŒç¾ã‚Œã‚‹ã€‚çµ¶æœ›ã‹ã‚‰ã®åæ’ƒã€‚'},
                    {t:'ãƒŸãƒƒã‚·ãƒ§ãƒ³ï¼šã‚¤ãƒ³ãƒãƒƒã‚·ãƒ–ãƒ«', d:'ä¸å¯èƒ½ä»»å‹™ã«æŒ‘ã‚€ã‚¹ãƒ‘ã‚¤ã€ã‚¤ãƒ¼ã‚µãƒ³ãƒ»ãƒãƒ³ãƒˆã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³è¶…å¤§ä½œã€‚'},
                    {t:'ã‚­ãƒ³ã‚°ã‚¹ãƒãƒ³', d:'è‹±å›½ç´³å£«ãªã‚¹ãƒ‘ã‚¤çµ„ç¹”ã€‚ã‚¹ã‚¿ã‚¤ãƒªãƒƒã‚·ãƒ¥ã§éæ¿€ãªã‚¹ãƒ‘ã‚¤ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã€‚'},
                    {t:'ãƒãƒƒãƒ‰ãƒãƒƒã‚¯ã‚¹ æ€’ã‚Šã®ãƒ‡ã‚¹ãƒ»ãƒ­ãƒ¼ãƒ‰', d:'è’å»ƒã—ãŸæœªæ¥ã€‚è³‡æºã‚’ç‹¬å ã™ã‚‹æš´å›ã«åæ——ã‚’ç¿»ã—ãŸè€…ãŸã¡ã®é€ƒèµ°åŠ‡ã€‚'},
                    {t:'ãã£ã¨ã€ã†ã¾ãã„ã', d:'ã‚¤ãƒ³ãƒ‰ã®ã‚¨ãƒªãƒ¼ãƒˆå·¥ç§‘å¤§å­¦ã§ã€å‹ç ´ã‚Šãª3äººçµ„ãŒå·»ãèµ·ã“ã™é¨’å‹•ã¨æ„Ÿå‹•ã€‚'},
                    {t:'ã‚°ãƒ©ãƒ³ãƒ‰ãƒ»ãƒ–ãƒ€ãƒšã‚¹ãƒˆãƒ»ãƒ›ãƒ†ãƒ«', d:'ä¼èª¬ã®ã‚³ãƒ³ã‚·ã‚§ãƒ«ã‚¸ãƒ¥ã¨ãƒ™ãƒ«ãƒœãƒ¼ã‚¤ãŒã€çµµç”»ç›—é›£äº‹ä»¶ã«å·»ãè¾¼ã¾ã‚Œã‚‹ã€‚'},
                    {t:'ã‚­ãƒ£ãƒƒãƒãƒ»ãƒŸãƒ¼ãƒ»ã‚¤ãƒ•ãƒ»ãƒ¦ãƒ¼ãƒ»ã‚­ãƒ£ãƒ³', d:'è‹¥ãå¤©æ‰è©æ¬ºå¸«ã¨ã€å½¼ã‚’åŸ·æ‹—ã«è¿½ã†FBIæœæŸ»å®˜ã®è¿½è·¡åŠ‡ã€‚'},
                    {t:'ãƒ­ãƒƒã‚­ãƒ¼', d:'ç„¡åã®ãƒœã‚¯ã‚µãƒ¼ãŒã€ä¸–ç•Œãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã«æŒ‘ã‚€ã‚¢ãƒ¡ãƒªã‚«ãƒ³ãƒ‰ãƒªãƒ¼ãƒ ã€‚'},
                    {t:'ã‚¿ãƒ¼ãƒŸãƒãƒ¼ã‚¿ãƒ¼2', d:'æœªæ¥ã‹ã‚‰æ¥ãŸæ®ºäººæ©Ÿæ¢°ã¨ã€å°‘å¹´ã‚’å®ˆã‚‹ãŸã‚ã«é€ã‚‰ã‚ŒãŸæ—§å‹æ©Ÿã®æˆ¦ã„ã€‚'},
                    {t:'ã‚¨ã‚¤ãƒªã‚¢ãƒ³', d:'å®‡å®™è²¨ç‰©èˆ¹ã«ä¾µå…¥ã—ãŸç•°æ˜Ÿç”Ÿç‰©ãŒã€ä¹—çµ„å“¡ã‚’ä¸€äººãšã¤è¥²ã£ã¦ã„ãã€‚'},
                    {t:'ãƒ–ãƒ¬ãƒ¼ãƒ‰ãƒ©ãƒ³ãƒŠãƒ¼', d:'è¿‘æœªæ¥ã€‚äººé–“ã¨è¦‹åˆ†ã‘ãŒã¤ã‹ãªã„äººé€ äººé–“ã€Œãƒ¬ãƒ—ãƒªã‚«ãƒ³ãƒˆã€ã‚’è¿½ã†æœæŸ»å®˜ã€‚'},
                    {t:'ãƒã‚¤ãƒ»ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³', d:'70æ­³ã®ã‚·ãƒ‹ã‚¢ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ãŒã€è‹¥ãå¥³ç¤¾é•·ã‚’æ”¯ãˆæˆé•·ã•ã›ã¦ã„ãã€‚'},
                    {t:'æœ€å¼·ã®ãµãŸã‚Š', d:'å…¨èº«éº»ç—ºã®å¯Œè±ªã¨ã€ä»‹è­·å½¹ã«ãªã£ãŸã‚¹ãƒ©ãƒ å‡ºèº«ã®é’å¹´ã®å‹æƒ…ã€‚'},
                    {t:'é›¨ã«å”„ãˆã°', d:'ã‚µã‚¤ãƒ¬ãƒ³ãƒˆã‹ã‚‰ãƒˆãƒ¼ã‚­ãƒ¼ã¸ã¨ç§»ã‚Šå¤‰ã‚ã‚‹ãƒãƒªã‚¦ãƒƒãƒ‰ã‚’æã„ãŸåä½œãƒŸãƒ¥ãƒ¼ã‚¸ã‚«ãƒ«ã€‚'},
                    {t:'ãƒ­ãƒ¼ãƒã®ä¼‘æ—¥', d:'ç‹å¥³ã¨æ–°èè¨˜è€…ã®ã€ãƒ­ãƒ¼ãƒã§ã®ä¸€æ—¥ã ã‘ã®æ‹ã€‚æ°¸é ã®åä½œã€‚'},
                    {t:'ã‚¢ãƒ™ãƒ³ã‚¸ãƒ£ãƒ¼ã‚º/ã‚¨ãƒ³ãƒ‰ã‚²ãƒ¼ãƒ ', d:'æœ€å‡¶ã®æ•µã‚µãƒã‚¹ã«ã‚ˆã£ã¦æ¶ˆã•ã‚ŒãŸåŠåˆ†ã®ç”Ÿå‘½ã‚’å–ã‚Šæˆ»ã™ã€æœ€å¾Œã®æˆ¦ã„ã€‚'},
                    {t:'ã‚¢ã‚¤ã‚¢ãƒ³ãƒãƒ³', d:'è»äº‹ä¼æ¥­ã®ç¤¾é•·ãŒã€è‡ªã‚‰é–‹ç™ºã—ãŸãƒ‘ãƒ¯ãƒ¼ãƒ‰ã‚¹ãƒ¼ãƒ„ã§ãƒ’ãƒ¼ãƒ­ãƒ¼ã«ãªã‚‹ã€‚'},
                    {t:'ã‚­ãƒ£ãƒ—ãƒ†ãƒ³ãƒ»ã‚¢ãƒ¡ãƒªã‚«/ã‚¶ãƒ»ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆãƒ»ã‚¢ãƒ™ãƒ³ã‚¸ãƒ£ãƒ¼', d:'è™šå¼±ãªé’å¹´ãŒè¶…äººå…µå£«ã¨ãªã‚Šã€ç¬¬äºŒæ¬¡ä¸–ç•Œå¤§æˆ¦ã®è‹±é›„ã¨ãªã‚‹ã€‚'},
                    {t:'ãƒã‚¤ãƒ†ã‚£ãƒ»ã‚½ãƒ¼', d:'ç¥ã®å›½ã‚’è¿½æ”¾ã•ã‚ŒãŸæœ€å¼·ã®æˆ¦å£«ãŒã€åœ°çƒã§çœŸã®ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚’å­¦ã¶ã€‚'},
                    {t:'ã‚¬ãƒ¼ãƒ‡ã‚£ã‚¢ãƒ³ã‚ºãƒ»ã‚ªãƒ–ãƒ»ã‚®ãƒ£ãƒ©ã‚¯ã‚·ãƒ¼', d:'éŠ€æ²³ã®ã¯ã¿å‡ºã—è€…ãŸã¡ãŒãƒãƒ¼ãƒ ã‚’çµ„ã¿ã€å®‡å®™ã®å±æ©Ÿã‚’æ•‘ã†ã€‚'},
                    {t:'ãƒ–ãƒ©ãƒƒã‚¯ãƒ‘ãƒ³ã‚µãƒ¼', d:'è¶…æ–‡æ˜å›½å®¶ãƒ¯ã‚«ãƒ³ãƒ€ã®è‹¥ãç‹ãŒã€å›½ã®ç§˜å¯†ã¨ç‹åº§ã‚’å®ˆã‚‹ãŸã‚ã«æˆ¦ã†ã€‚'},
                    {t:'ã‚¹ãƒ‘ã‚¤ãƒ€ãƒ¼ãƒãƒ³ï¼šãƒãƒ¼ãƒ»ã‚¦ã‚§ã‚¤ãƒ»ãƒ›ãƒ¼ãƒ ', d:'æ­£ä½“ãŒãƒãƒ¬ãŸãƒ”ãƒ¼ã‚¿ãƒ¼ãŒã€ãƒãƒ«ãƒãƒãƒ¼ã‚¹ã‹ã‚‰æ¥ãŸå¼·æ•µãŸã¡ã¨å¯¾å³™ã™ã‚‹ã€‚'},
                    {t:'ãƒãƒƒãƒˆãƒãƒ³ ãƒ“ã‚®ãƒ³ã‚º', d:'ä¸¡è¦ªã‚’æ®ºã•ã‚ŒãŸãƒ–ãƒ«ãƒ¼ã‚¹ãƒ»ã‚¦ã‚§ã‚¤ãƒ³ãŒã€ææ€–ã‚’å…‹æœã—ãƒãƒƒãƒˆãƒãƒ³ã«ãªã‚‹ã¾ã§ã€‚'},
                    {t:'ãƒ€ãƒ¼ã‚¯ãƒŠã‚¤ãƒˆ ãƒ©ã‚¤ã‚¸ãƒ³ã‚°', d:'éš éã—ã¦ã„ãŸãƒãƒƒãƒˆãƒãƒ³ãŒã€ã‚´ãƒƒã‚µãƒ ã‚·ãƒ†ã‚£ã‚’ç ´æ»…ã‹ã‚‰æ•‘ã†ãŸã‚å¾©æ´»ã™ã‚‹ã€‚'},
                    {t:'ãƒãƒ³ãƒ»ã‚ªãƒ–ãƒ»ã‚¹ãƒ†ã‚£ãƒ¼ãƒ«', d:'æ»…äº¡ã™ã‚‹æƒ‘æ˜Ÿã‹ã‚‰åœ°çƒã«é€ã‚‰ã‚ŒãŸè¶…äººãŒã€è‡ªã‚‰ã®é‹å‘½ã¨å‘ãåˆã†ã€‚'},
                    {t:'ãƒ¯ãƒ³ãƒ€ãƒ¼ã‚¦ãƒ¼ãƒãƒ³', d:'å¥³æ€§ã ã‘ã®å³¶ã§è‚²ã£ãŸç‹å¥³ãŒã€ä¸–ç•Œå¤§æˆ¦ã‚’æ­¢ã‚ã‚‹ãŸã‚ã«å¤–ã®ä¸–ç•Œã¸ã€‚'},
                    {t:'ãƒ‡ãƒƒãƒ‰ãƒ—ãƒ¼ãƒ«', d:'äººä½“å®Ÿé¨“ã§ä¸æ­»èº«ã«ãªã£ãŸç„¡è²¬ä»»ãƒ’ãƒ¼ãƒ­ãƒ¼ãŒã€ä¿ºã¡ã‚ƒã‚“ç¯€å…¨é–‹ã§æš´ã‚Œã‚‹ã€‚'},
                    {t:'LOGAN/ãƒ­ãƒ¼ã‚¬ãƒ³', d:'æ²»ç™’èƒ½åŠ›ã‚’å¤±ã„ã¤ã¤ã‚ã‚‹ã‚¦ãƒ«ãƒ´ã‚¡ãƒªãƒ³ãŒã€æœ€å¾Œã®ä»»å‹™ã¨ã—ã¦å°‘å¥³ã‚’å®ˆã‚‹ã€‚'},
                    {t:'X-MEN', d:'çªç„¶å¤‰ç•°ã§è¶…èƒ½åŠ›ã‚’æŒã¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ³ãƒˆãŸã¡ãŒã€äººé¡ã¨ã®å…±å­˜ã‚’æ¨¡ç´¢ã™ã‚‹ã€‚'},
                    {t:'ãƒ•ã‚¡ãƒ³ã‚¿ã‚¹ãƒ†ã‚£ãƒƒã‚¯ãƒ»ãƒ“ãƒ¼ã‚¹ãƒˆã¨é­”æ³•ä½¿ã„ã®æ—…', d:'é­”æ³•å‹•ç‰©å­¦è€…ãŒNYã§é­”æ³•å‹•ç‰©ã‚’é€ƒã—ã¦ã—ã¾ã„ã€å¤§é¨’å‹•ã«ã€‚'},
                    {t:'ãƒ›ãƒ“ãƒƒãƒˆ æ€ã„ãŒã‘ãªã„å†’é™º', d:'ãƒ›ãƒ“ãƒƒãƒˆã®ãƒ“ãƒ«ãƒœãŒã€ãƒ‰ãƒ¯ãƒ¼ãƒ•ãŸã¡ã¨ç«œã«å¥ªã‚ã‚ŒãŸç‹å›½ã‚’å–ã‚Šæˆ»ã™æ—…ã¸ã€‚'},
                    {t:'ãƒ‘ã‚¤ãƒ¬ãƒ¼ãƒ„ãƒ»ã‚ªãƒ–ãƒ»ã‚«ãƒªãƒ“ã‚¢ãƒ³/å‘ªã‚ã‚ŒãŸæµ·è³ŠãŸã¡', d:'æµ·è³Šã‚¸ãƒ£ãƒƒã‚¯ãƒ»ã‚¹ãƒ‘ãƒ­ã‚¦ã¨é›å†¶å±‹ã®é’å¹´ãŒã€å‘ªã‚ã‚ŒãŸæµ·è³Šã¨æˆ¦ã†ã€‚'},
                    {t:'ãƒŠãƒ«ãƒ‹ã‚¢å›½ç‰©èª/ç¬¬1ç« : ãƒ©ã‚¤ã‚ªãƒ³ã¨é­”å¥³', d:'æ´‹æœãƒ€ãƒ³ã‚¹ã‚’æŠœã‘ã‚‹ã¨ã€ãã“ã¯é›ªã«é–‰ã–ã•ã‚ŒãŸé­”æ³•ã®å›½ã ã£ãŸã€‚'},
                    {t:'ãƒ©ã‚¤ãƒ©ã®å†’é™º é»„é‡‘ã®ç¾…é‡ç›¤', d:'ãƒ‘ãƒ©ãƒ¬ãƒ«ãƒ¯ãƒ¼ãƒ«ãƒ‰ã®å°‘å¥³ãŒã€é€£ã‚Œå»ã‚‰ã‚ŒãŸå­ä¾›ãŸã¡ã‚’æ•‘ã†åŒ—ã¸ã®æ—…ã¸ã€‚'},
                    {t:'ãƒãƒ ãƒŠãƒ—ãƒˆãƒ©/å¤±ã‚ã‚ŒãŸç ‚æ¼ ã®éƒ½', d:'æ¢æ¤œéšŠãŒå¤ä»£ã‚¨ã‚¸ãƒ—ãƒˆã®ãƒŸã‚¤ãƒ©ã‚’è˜‡ã‚‰ã›ã¦ã—ã¾ã„ã€å‘ªã„ã¨æˆ¦ã†ã€‚'},
                    {t:'ãƒ¬ã‚¤ãƒ€ãƒ¼ã‚¹/å¤±ã‚ã‚ŒãŸã‚¢ãƒ¼ã‚¯ã€Šè–æ«ƒã€‹', d:'å†’é™ºå®¶ã‚¤ãƒ³ãƒ‡ã‚£ãƒ»ã‚¸ãƒ§ãƒ¼ãƒ³ã‚ºãŒã€ãƒŠãƒã‚¹ã‚ˆã‚Šå…ˆã«è–æ«ƒã‚’æ¢ã—å‡ºã™ã€‚'},
                    {t:'ãƒˆã‚¥ãƒ¼ãƒ ãƒ¬ã‚¤ãƒ€ãƒ¼', d:'æœ€å¼·ã®ãƒˆãƒ¬ã‚¸ãƒ£ãƒ¼ãƒãƒ³ã‚¿ãƒ¼ã€ãƒ©ãƒ©ãƒ»ã‚¯ãƒ­ãƒ•ãƒˆãŒå¤ä»£ã®ç§˜å®ã‚’è¿½ã†ã€‚'},
                    {t:'ãƒŠã‚·ãƒ§ãƒŠãƒ«ãƒ»ãƒˆãƒ¬ã‚¸ãƒ£ãƒ¼', d:'ã‚¢ãƒ¡ãƒªã‚«ç‹¬ç«‹å®£è¨€æ›¸ã«éš ã•ã‚ŒãŸç§˜å®ã®è¬ã‚’è¿½ã†å†’é™ºã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã€‚'},
                    {t:'ã‚ªãƒ¼ã‚·ãƒ£ãƒ³ã‚º11', d:'ã‚«ãƒªã‚¹ãƒçªƒç›—çŠ¯ãŒ11äººã®ãƒ—ãƒ­ã‚’é›†ã‚ã€ãƒ©ã‚¹ãƒ™ã‚¬ã‚¹ã®é‡‘åº«ã‚’ç‹™ã†ã€‚'},
                    {t:'ãƒŸãƒ‹ãƒŸãƒ‹å¤§ä½œæˆ¦', d:'è£åˆ‡ã‚Šè€…ã«å¥ªã‚ã‚ŒãŸé‡‘å¡Šã‚’ã€ãƒŸãƒ‹ã‚¯ãƒ¼ãƒ‘ãƒ¼ã‚’ä½¿ã£ãŸä½œæˆ¦ã§å¥ªã„è¿”ã™ã€‚'},
                    {t:'ãƒ¯ã‚¤ãƒ«ãƒ‰ãƒ»ã‚¹ãƒ”ãƒ¼ãƒ‰', d:'ã‚¹ãƒˆãƒªãƒ¼ãƒˆãƒ¬ãƒ¼ã‚¹ã®ä¸–ç•Œã«æ½œå…¥ã—ãŸè­¦å®˜ã¨ã€ã‚«ãƒªã‚¹ãƒãƒ¬ãƒ¼ã‚µãƒ¼ã®å‹æƒ…ã€‚'},
                    {t:'ãƒˆãƒ©ãƒ³ã‚¹ãƒãƒ¼ã‚¿ãƒ¼', d:'é‹ã³å±‹ã®ç”·ãŒã€ãƒ«ãƒ¼ãƒ«ã‚’ç ´ã£ã¦è·ç‰©ï¼ˆå¥³æ€§ï¼‰ã‚’é–‹ã‘ãŸã“ã¨ã‹ã‚‰å‘½ã‚’ç‹™ã‚ã‚Œã‚‹ã€‚'},
                    {t:'96æ™‚é–“', d:'å…ƒCIAå·¥ä½œå“¡ãŒã€èª˜æ‹ã•ã‚ŒãŸå¨˜ã‚’æ•‘ã†ãŸã‚ãƒ‘ãƒªã®è£ç¤¾ä¼šã‚’å£Šæ»…ã•ã›ã‚‹ã€‚'},
                    {t:'ã‚¸ãƒ§ãƒ³ãƒ»ã‚¦ã‚£ãƒƒã‚¯', d:'å¼•é€€ã—ãŸä¼èª¬ã®æ®ºã—å±‹ãŒã€æ„›çŠ¬ã‚’æ®ºã•ã‚ŒãŸå¾©è®ã®ãŸã‚ã«å¾©æ´»ã™ã‚‹ã€‚'},
                    {t:'007 ã‚«ã‚¸ãƒãƒ»ãƒ­ãƒ¯ã‚¤ãƒ¤ãƒ«', d:'ã‚¸ã‚§ãƒ¼ãƒ ã‚ºãƒ»ãƒœãƒ³ãƒ‰ãŒã€Œ00ï¼ˆãƒ€ãƒ–ãƒ«ã‚ªãƒ¼ï¼‰ã€ã®ç§°å·ã‚’å¾—ã¦æœ€åˆã®ä»»å‹™ã¸ã€‚'},
                    {t:'007 ã‚¹ã‚«ã‚¤ãƒ•ã‚©ãƒ¼ãƒ«', d:'MI6ãŒæ”»æ’ƒã‚’å—ã‘ã€ãƒœãƒ³ãƒ‰ã¯Mã‚’å®ˆã‚‹ãŸã‚ã«éå»ã®äº¡éœŠã¨æˆ¦ã†ã€‚'},
                    {t:'ãƒ¡ãƒ³ãƒ»ã‚¤ãƒ³ãƒ»ãƒ–ãƒ©ãƒƒã‚¯', d:'åœ°çƒã«ç”Ÿæ¯ã™ã‚‹ã‚¨ã‚¤ãƒªã‚¢ãƒ³ã‚’ç›£è¦–ã™ã‚‹é»’æœã®ç”·ãŸã¡ã®æ´»èºã€‚'},
                    {t:'ã‚¤ãƒ³ãƒ‡ãƒšãƒ³ãƒ‡ãƒ³ã‚¹ãƒ»ãƒ‡ã‚¤', d:'å·¨å¤§UFOãŒåœ°çƒã‚’è¥²æ’ƒã€‚äººé¡ã¯å›£çµã—ã¦ç‹¬ç«‹è¨˜å¿µæ—¥ã«åæ’ƒã™ã‚‹ã€‚'},
                    {t:'ã‚¢ãƒ«ãƒã‚²ãƒ‰ãƒ³', d:'å°æƒ‘æ˜Ÿè¡çªã®å±æ©Ÿã€‚çŸ³æ²¹æ˜å‰Šã®ãƒ—ãƒ­ãŸã¡ãŒå®‡å®™ã¸é£›ã³ã€åœ°çƒã‚’æ•‘ã†ã€‚'},
                    {t:'ãƒ‡ã‚£ãƒ¼ãƒ—ãƒ»ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆ', d:'å½—æ˜Ÿè¡çªãŒè¿«ã‚‹åœ°çƒã€‚äººé¡æ»…äº¡ã®å±æ©Ÿã«ç›´é¢ã—ãŸäººã€…ã®ç¾¤åƒåŠ‡ã€‚'},
                    {t:'ãƒ‡ã‚¤ãƒ»ã‚¢ãƒ•ã‚¿ãƒ¼ãƒ»ãƒˆã‚¥ãƒ¢ãƒ­ãƒ¼', d:'åœ°çƒæ¸©æš–åŒ–ã«ã‚ˆã‚Šæ°·æ²³æœŸãŒåˆ°æ¥ã€‚é›ªã«åŸ‹ã‚‚ã‚ŒãŸNYã§è¦ªå­ãŒç”ŸãæŠœãã€‚'},
                    {t:'2012', d:'ãƒãƒ¤æš¦ã®äºˆè¨€é€šã‚Šä¸–ç•Œå´©å£ŠãŒå§‹ã¾ã‚‹ã€‚äººã€…ã¯ç®±èˆŸã‚’ç›®æŒ‡ã—ã¦é€ƒã’ã‚‹ã€‚'},
                    {t:'ã‚¶ãƒ»ã‚³ã‚¢', d:'åœ°çƒã®æ ¸ãŒåœæ­¢ã€‚äººé¡æ»…äº¡ã‚’é˜²ããŸã‚ã€åœ°åº•æ¢æŸ»èˆ¹ã§æ ¸ã‚’å†å§‹å‹•ã•ã›ã‚‹ã€‚'},
                    {t:'ã‚¼ãƒ­ãƒ»ã‚°ãƒ©ãƒ“ãƒ†ã‚£', d:'å®‡å®™ç©ºé–“ã«æ”¾ã‚Šå‡ºã•ã‚ŒãŸé£›è¡Œå£«ãŒã€å­¤ç‹¬ã¨çµ¶æœ›ã®ä¸­ã§ç”Ÿé‚„ã‚’ç›®æŒ‡ã™ã€‚'},
                    {t:'ã‚ªãƒ‡ãƒƒã‚»ã‚¤', d:'ç«æ˜Ÿã«ä¸€äººå–ã‚Šæ®‹ã•ã‚ŒãŸæ¤ç‰©å­¦è€…ãŒã€ç§‘å­¦ã®åŠ›ã§ã‚µãƒã‚¤ãƒãƒ«ã™ã‚‹ã€‚'},
                    {t:'ã‚¹ã‚¿ãƒ¼ãƒ»ãƒˆãƒ¬ãƒƒã‚¯ (2009)', d:'å®‡å®™è‰¦éšŠã‚¢ã‚«ãƒ‡ãƒŸãƒ¼ã®è‹¥ãã‚«ãƒ¼ã‚¯ã¨ã‚¹ãƒãƒƒã‚¯ã®å‡ºä¼šã„ã¨æœ€åˆã®å†’é™ºã€‚'},
                    {t:'ã‚¢ãƒã‚¿ãƒ¼', d:'ç•°æ˜Ÿãƒ‘ãƒ³ãƒ‰ãƒ©ã§ã€å…ˆä½æ°‘ã®ä½“ï¼ˆã‚¢ãƒã‚¿ãƒ¼ï¼‰ã‚’æ“ä½œã™ã‚‹å…ƒå…µå£«ã®æ‹ã¨æˆ¦ã„ã€‚'},
                    {t:'ãƒ­ãƒœã‚³ãƒƒãƒ—', d:'æ®‰è·ã—ãŸè­¦å®˜ãŒã‚µã‚¤ãƒœãƒ¼ã‚°è­¦å®˜ã¨ã—ã¦è˜‡ã‚Šã€çŠ¯ç½ªéƒ½å¸‚ã®æ‚ªã‚’ä¸€æƒã™ã‚‹ã€‚'},
                    {t:'ãƒˆãƒ¼ã‚¿ãƒ«ãƒ»ãƒªã‚³ãƒ¼ãƒ«', d:'è¨˜æ†¶ã‚’æ¤ãˆä»˜ã‘ã‚ˆã†ã¨ã—ãŸç”·ãŒã€è‡ªåˆ†ãŒã‚¹ãƒ‘ã‚¤ã ã£ãŸè¨˜æ†¶ã‚’å–ã‚Šæˆ»ã™ã€‚'},
                    {t:'ãƒã‚¤ãƒãƒªãƒ†ã‚£ãƒ»ãƒªãƒãƒ¼ãƒˆ', d:'äºˆçŸ¥èƒ½åŠ›ã§çŠ¯ç½ªã‚’é˜²ãæœªæ¥ã€‚æ®ºäººã‚’äºˆçŸ¥ã•ã‚ŒãŸåˆ‘äº‹ãŒç„¡å®Ÿã‚’è¨¼æ˜ã™ã‚‹ã€‚'},
                    {t:'ã‚¢ã‚¤,ãƒ­ãƒœãƒƒãƒˆ', d:'ãƒ­ãƒœãƒƒãƒˆä¸‰åŸå‰‡ãŒç ´ã‚‰ã‚ŒãŸï¼Ÿ ãƒ­ãƒœãƒƒãƒˆå«Œã„ã®åˆ‘äº‹ãŒé™°è¬€ã«æŒ‘ã‚€ã€‚'},
                    {t:'A.I.', d:'æ„›ã™ã‚‹ã“ã¨ã‚’ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã•ã‚ŒãŸå°‘å¹´ãƒ­ãƒœãƒƒãƒˆãŒã€äººé–“ã«ãªã‚‹æ–¹æ³•ã‚’æ¢ã™æ—…ã€‚'},
                    {t:'ã‚¢ãƒ³ãƒ–ãƒ¬ã‚¤ã‚«ãƒ–ãƒ«', d:'åˆ—è»Šäº‹æ•…ã§ç„¡å‚·ã§ç”Ÿãæ®‹ã£ãŸç”·ã¨ã€éª¨ã®æŠ˜ã‚Œã‚„ã™ã„ç”·ã®æ•°å¥‡ãªé‹å‘½ã€‚'},
                    {t:'ã‚¹ãƒ—ãƒªãƒƒãƒˆ', d:'23é‡äººæ ¼ã®ç”·ã«èª˜æ‹ã•ã‚ŒãŸå¥³å­é«˜ç”ŸãŸã¡ã€‚24ç•ªç›®ã®äººæ ¼ãŒç›®è¦šã‚ã‚‹ã€‚'},
                    {t:'ãƒŸã‚¹ã‚¿ãƒ¼ãƒ»ã‚¬ãƒ©ã‚¹', d:'ä¸æ­»èº«ã®ç”·ã€å¤šé‡äººæ ¼è€…ã€å¤©æ‰çš„é ­è„³ã‚’æŒã¤ç”·ãŒæ–½è¨­ã§é‚‚é€…ã™ã‚‹ã€‚'},
                    {t:'ã‚µã‚¤ãƒ³', d:'å¹³å‡¡ãªä¸€å®¶ã®è¾²å ´ã«ç¾ã‚ŒãŸãƒŸã‚¹ãƒ†ãƒªãƒ¼ã‚µãƒ¼ã‚¯ãƒ«ã€‚å®‡å®™äººã®ä¾µç•¥ãŒå§‹ã¾ã‚‹ã€‚'},
                    {t:'ãƒ´ã‚£ãƒ¬ãƒƒã‚¸', d:'æ£®ã®æ€ªç‰©ã«æ€¯ãˆã¦æš®ã‚‰ã™æ‘ã€‚ç›²ç›®ã®å°‘å¥³ãŒè–¬ã‚’æ±‚ã‚ã¦æ£®ã¸å…¥ã‚‹ã€‚'},
                    {t:'ãƒ´ã‚£ã‚¸ãƒƒãƒˆ', d:'ç¥–çˆ¶æ¯ã®å®¶ã‚’è¨ªã‚ŒãŸå§‰å¼Ÿã€‚ã—ã‹ã—ç¥–çˆ¶æ¯ã®æ§˜å­ãŒã©ã“ã‹ãŠã‹ã—ã„ã€‚'},
                    {t:'ã‚ªãƒ¼ãƒ«ãƒ‰', d:'æ™‚é–“ãŒç•°å¸¸ãªé€Ÿã•ã§é€²ã‚€ãƒ“ãƒ¼ãƒã«é–‰ã˜è¾¼ã‚ã‚‰ã‚ŒãŸå®¶æ—ã®è„±å‡ºåŠ‡ã€‚'},
                    {t:'NOPE/ãƒãƒ¼ãƒ—', d:'ç”°èˆç”ºã®ç‰§å ´ã§èµ·ã“ã‚‹ä¸å¯è§£ãªç¾è±¡ã€‚ç©ºã«ã€Œä½•ã‹ã€ãŒã„ã‚‹ã€‚'},
                    {t:'ã‚²ãƒƒãƒˆãƒ»ã‚¢ã‚¦ãƒˆ', d:'ç™½äººã®æ‹äººã®å®Ÿå®¶ã‚’è¨ªã‚ŒãŸé»’äººé’å¹´ãŒé­é‡ã™ã‚‹ã€ç‹‚æ°—ã®å·®åˆ¥ã€‚'},
                    {t:'ã‚¢ã‚¹', d:'è‡ªåˆ†ãŸã¡ã¨ç“œäºŒã¤ã®ã€Œãƒ‰ãƒƒãƒšãƒ«ã‚²ãƒ³ã‚¬ãƒ¼ã€ä¸€å®¶ã«è¥²ã‚ã‚Œã‚‹ææ€–ã€‚'},
                    {t:'ãƒ˜ãƒ¬ãƒ‡ã‚£ã‚¿ãƒªãƒ¼/ç¶™æ‰¿', d:'ç¥–æ¯ã®æ­»ã‚’ãã£ã‹ã‘ã«ã€å®¶æ—ã«å¿Œã¾ã‚ã—ã„å‘ªã„ãŒè¥²ã„ã‹ã‹ã‚‹ã€‚'},
                    {t:'ãƒŸãƒƒãƒ‰ã‚µãƒãƒ¼', d:'ã‚¹ã‚¦ã‚§ãƒ¼ãƒ‡ãƒ³ã®æ‘ã®ç¥ç¥­ã‚’è¨ªã‚ŒãŸå¤§å­¦ç”ŸãŸã¡ãŒã€ç‹‚æ°—ã®å„€å¼ã«å·»ãè¾¼ã¾ã‚Œã‚‹ã€‚'},
                    {t:'æ­»éœŠé¤¨', d:'å®Ÿåœ¨ã®å¿ƒéœŠç ”ç©¶å®¶ã‚¦ã‚©ãƒ¼ãƒ¬ãƒ³å¤«å¦»ãŒé­é‡ã—ãŸã€æœ€ã‚‚æã‚ã—ã„äº‹ä»¶ã€‚'},
                    {t:'ã‚¢ãƒŠãƒ™ãƒ« æ­»éœŠé¤¨ã®äººå½¢', d:'å‘ªã‚ã‚ŒãŸäººå½¢ã‚¢ãƒŠãƒ™ãƒ«ãŒå¼•ãèµ·ã“ã™ææ€–ã®å‰æ—¥è­šã€‚'},
                    {t:'IT/ã‚¤ãƒƒãƒˆ â€œãã‚Œâ€ãŒè¦‹ãˆãŸã‚‰ã€çµ‚ã‚ã‚Šã€‚', d:'å­ä¾›ãŒæ¶ˆãˆã‚‹ç”ºã€‚å°‘å¹´ãŸã¡ã¯ãƒ”ã‚¨ãƒ­ã®å§¿ã‚’ã—ãŸææ€–ã¨å¯¾å³™ã™ã‚‹ã€‚'},
                    {t:'ã‚½ã‚¦', d:'è€æœ½åŒ–ã—ãŸãƒã‚¹ãƒ«ãƒ¼ãƒ ã§ç›®è¦šã‚ãŸäºŒäººã€‚ç”Ÿãæ®‹ã‚‹ãŸã‚ã®æ®‹é…·ãªã‚²ãƒ¼ãƒ ã€‚'},
                    {t:'ã‚¹ã‚¯ãƒªãƒ¼ãƒ ', d:'æ˜ ç”»ã®çŸ¥è­˜ã‚’æŒã¤æ®ºäººé¬¼ãŒã€é«˜æ ¡ç”ŸãŸã¡ã‚’æ¬¡ã€…ã¨è¡€ç¥­ã‚Šã«ã‚ã’ã‚‹ã€‚'},
                    {t:'ãƒãƒ­ã‚¦ã‚£ãƒ³', d:'ç²¾ç¥ç—…é™¢ã‹ã‚‰è„±èµ°ã—ãŸãƒ–ã‚®ãƒ¼ãƒãƒ³ãŒã€ãƒãƒ­ã‚¦ã‚£ãƒ³ã®å¤œã«æ®ºæˆ®ã‚’ç¹°ã‚Šè¿”ã™ã€‚'},
                    {t:'13æ—¥ã®é‡‘æ›œæ—¥', d:'ã‚­ãƒ£ãƒ³ãƒ—å ´ã§æ¬¡ã€…ã¨æ®ºã•ã‚Œã‚‹è‹¥è€…ãŸã¡ã€‚æ¹–ã«ã¯æ®ºäººé¬¼ã‚¸ã‚§ã‚¤ã‚½ãƒ³ãŒã„ã‚‹ã€‚'},
                    {t:'ã‚¨ãƒ«ãƒ è¡—ã®æ‚ªå¤¢', d:'å¤¢ã®ä¸­ã§äººã‚’æ®ºã™æ€ªäººãƒ•ãƒ¬ãƒ‡ã‚£ã€‚çœ ã£ãŸã‚‰æ­»ã¬ææ€–ã€‚'},
                    {t:'ãƒãƒ£ã‚¤ãƒ«ãƒ‰ãƒ»ãƒ—ãƒ¬ã‚¤', d:'æ®ºäººé¬¼ã®é­‚ãŒä¹—ã‚Šç§»ã£ãŸäººå½¢ãƒãƒ£ãƒƒã‚­ãƒ¼ãŒã€äººã€…ã‚’è¥²ã†ã€‚'},
                    {t:'ãƒªãƒ³ã‚° (ãƒãƒªã‚¦ãƒƒãƒ‰ç‰ˆ)', d:'è¦‹ã‚‹ã¨7æ—¥å¾Œã«æ­»ã¬å‘ªã„ã®ãƒ“ãƒ‡ã‚ªã€‚è¨˜è€…ãŒãã®è¬ã‚’è¿½ã†ã€‚'},
                    {t:'THE JUON/å‘ªæ€¨', d:'æ—¥æœ¬ç™ºã®ææ€–ãŒãƒãƒªã‚¦ãƒƒãƒ‰ã¸ã€‚å‘ªã‚ã‚ŒãŸå®¶ã«å…¥ã£ãŸè€…ã«æ­»ãŒè¨ªã‚Œã‚‹ã€‚'},
                    {t:'ä»„æš—ã„æ°´ã®åº•ã‹ã‚‰ (ãƒãƒªã‚¦ãƒƒãƒ‰ç‰ˆ)', d:'é›¢å©šèª¿åœä¸­ã®æ¯å¨˜ãŒå¼•ã£è¶Šã—ãŸã‚¢ãƒ‘ãƒ¼ãƒˆã§ã€æ°´ã®æ€ªå¥‡ç¾è±¡ãŒèµ·ãã‚‹ã€‚'},
                    {t:'å›è·¯ (ãƒãƒªã‚¦ãƒƒãƒ‰ç‰ˆ)', d:'ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‚’é€šã˜ã¦éœŠç•Œã¸ã®å›è·¯ãŒé–‹ã‹ã‚Œã€å¹½éœŠãŒä¾µé£Ÿã—ã¦ãã‚‹ã€‚'},
                    {t:'ã‚ªãƒ¼ãƒ‡ã‚£ã‚·ãƒ§ãƒ³', d:'å†å©šç›¸æ‰‹ã‚’æ¢ã™ã‚ªãƒ¼ãƒ‡ã‚£ã‚·ãƒ§ãƒ³ã«æ¥ãŸæ¸…æ¥šãªå¥³æ€§ã€‚å½¼å¥³ã«ã¯è£ã®é¡”ãŒã€‚'},
                    {t:'ãƒãƒˆãƒ«ãƒ»ãƒ­ãƒ¯ã‚¤ã‚¢ãƒ«', d:'ä¸­å­¦ç”ŸåŒå£«ãŒæ®ºã—åˆã„ã‚’ã•ã›ã‚‰ã‚Œã‚‹ã€ç‹‚æ°—ã®ã‚µãƒã‚¤ãƒãƒ«ã‚²ãƒ¼ãƒ ã€‚'},
                    {t:'ã‚·ãƒ³ãƒ»ã‚´ã‚¸ãƒ©', d:'ç¾ä»£æ—¥æœ¬ã«åˆã‚ã¦ã‚´ã‚¸ãƒ©ãŒå‡ºç¾ã€‚æ”¿åºœã¨è‡ªè¡›éšŠã®ãƒªã‚¢ãƒ«ãªæ”»é˜²ã€‚'},
                    {t:'ã‚´ã‚¸ãƒ© ã‚­ãƒ³ã‚°ãƒ»ã‚ªãƒ–ãƒ»ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼ã‚º', d:'ã‚´ã‚¸ãƒ©ã€ãƒ¢ã‚¹ãƒ©ã€ãƒ©ãƒ‰ãƒ³ã€ã‚­ãƒ³ã‚°ã‚®ãƒ‰ãƒ©ã€‚å››å¤§æ€ªç£ãŒæ¿€çªã™ã‚‹ã€‚'},
                    {t:'ã‚­ãƒ³ã‚°ã‚³ãƒ³ã‚°ï¼šé«‘é«å³¶ã®å·¨ç¥', d:'æœªé–‹ã®å³¶ã«èª¿æŸ»éšŠãŒæ½œå…¥ã€‚ãã“ã¯å·¨å¤§ç”Ÿç‰©ã¨ã‚³ãƒ³ã‚°ãŒæ”¯é…ã™ã‚‹å³¶ã ã£ãŸã€‚'},
                    {t:'ãƒ‘ã‚·ãƒ•ã‚£ãƒƒã‚¯ãƒ»ãƒªãƒ ', d:'å·¨å¤§æ€ªç£ã«å¯¾æŠ—ã™ã‚‹ãŸã‚ã€äººé¡ã¯å·¨å¤§ãƒ­ãƒœãƒƒãƒˆã€Œã‚¤ã‚§ãƒ¼ã‚¬ãƒ¼ã€ã§æˆ¦ã†ã€‚'},
                    {t:'ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒãƒ¼', d:'è»Šã‚„é£›è¡Œæ©Ÿã«å¤‰å½¢ã™ã‚‹é‡‘å±ç”Ÿå‘½ä½“ã€‚æ­£ç¾©ã¨æ‚ªã®ãƒ­ãƒœãƒƒãƒˆæˆ¦äº‰ã€‚'},
                    {t:'ãƒãƒ³ãƒ–ãƒ«ãƒ“ãƒ¼', d:'å£°ã‚’å¤±ã£ãŸé»„è‰²ã„ãƒ­ãƒœãƒƒãƒˆã¨ã€å­¤ç‹¬ãªå°‘å¥³ã®çµ†ã®ç‰©èªã€‚'},
                    {t:'ãƒ¬ãƒ‡ã‚£ãƒ»ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼1', d:'VRä¸–ç•Œã€Œã‚ªã‚¢ã‚·ã‚¹ã€ã®è¦‡æ¨©ã‚’å·¡ã‚Šã€å‰µå§‹è€…ã®éºç”£ã‚’æ¢ã™å†’é™ºã€‚'},
                    {t:'ãƒ•ãƒªãƒ¼ãƒ»ã‚¬ã‚¤', d:'ã‚²ãƒ¼ãƒ ã®ãƒ¢ãƒ–ã‚­ãƒ£ãƒ©ãŒè‡ªæˆ‘ã‚’æŒã¡ã€ãƒ’ãƒ¼ãƒ­ãƒ¼ã«ãªã£ã¦ä¸–ç•Œã‚’æ•‘ã†ã€‚'},
                    {t:'ãƒ”ã‚¯ã‚»ãƒ«', d:'80å¹´ä»£ã‚²ãƒ¼ãƒ ã®ã‚­ãƒ£ãƒ©ã«æ‰®ã—ã¦åœ°çƒã‚’ä¾µç•¥ã™ã‚‹å®‡å®™äººã¨ã‚ªã‚¿ã‚¯ã®æˆ¦ã„ã€‚'},
                    {t:'ã‚·ãƒ¥ã‚¬ãƒ¼ãƒ»ãƒ©ãƒƒã‚·ãƒ¥', d:'æ‚ªå½¹ã‚’è¾ã‚ãŸã„ã‚²ãƒ¼ãƒ ã‚­ãƒ£ãƒ©ãŒã€ãƒ¬ãƒ¼ã‚¹ã‚²ãƒ¼ãƒ ã®å°‘å¥³ã¨å‹æƒ…ã‚’è‚²ã‚€ã€‚'},
                    {t:'LEGO ãƒ ãƒ¼ãƒ“ãƒ¼', d:'å¹³å‡¡ãªãƒ¬ã‚´ãƒ•ã‚£ã‚®ãƒ¥ã‚¢ãŒæ•‘ä¸–ä¸»ã«é–“é•ã‚ã‚Œã€ä¸–ç•Œã‚’æ•‘ã†ãƒãƒ¡ã«ã€‚'},
                    {t:'ãƒŸãƒ‹ã‚ªãƒ³ã‚º', d:'æœ€å¼·ã®ãƒœã‚¹ã«ä»•ãˆã‚‹ã“ã¨ãŒç”ŸããŒã„ã®é»„è‰²ã„ç”Ÿç‰©ãŸã¡ã®æ­´å²ã€‚'},
                    {t:'æ€ªç›—ã‚°ãƒ«ãƒ¼ã®æœˆæ³¥æ£’', d:'æœˆã‚’ç›—ã‚‚ã†ã¨ã™ã‚‹æ€ªç›—ã‚°ãƒ«ãƒ¼ãŒã€3å§‰å¦¹ã®çˆ¶è¦ªä»£ã‚ã‚Šã«ãªã‚‹ã€‚'},
                    {t:'SING/ã‚·ãƒ³ã‚°', d:'å€’ç”£å¯¸å‰ã®åŠ‡å ´ã‚’ç«‹ã¦ç›´ã™ãŸã‚ã€å‹•ç‰©ãŸã¡ãŒæ­Œã®ã‚ªãƒ¼ãƒ‡ã‚£ã‚·ãƒ§ãƒ³ã«æŒ‘ã‚€ã€‚'},
                    {t:'ãƒšãƒƒãƒˆ', d:'é£¼ã„ä¸»ãŒç•™å®ˆã®é–“ã€ãƒšãƒƒãƒˆãŸã¡ã¯ä½•ã‚’ã—ã¦ã„ã‚‹ã®ã‹ï¼Ÿ å¤§å†’é™ºãŒå§‹ã¾ã‚‹ã€‚'},
                    {t:'ãƒœã‚¹ãƒ»ãƒ™ã‚¤ãƒ“ãƒ¼', d:'è¦‹ãŸç›®ã¯èµ¤ã¡ã‚ƒã‚“ã€ä¸­èº«ã¯ãŠã£ã•ã‚“ã€‚å¼Ÿã¨å…„ãŒå”åŠ›ã—ã¦é™°è¬€ã‚’æš´ãã€‚'},
                    {t:'ã‚·ãƒ¥ãƒ¬ãƒƒã‚¯', d:'å¿ƒå„ªã—ã„æ€ªç‰©ã‚·ãƒ¥ãƒ¬ãƒƒã‚¯ãŒã€ãŠå–‹ã‚Šãƒ­ãƒã¨ãŠå§«æ§˜ã‚’åŠ©ã‘ã«è¡Œãã€‚'},
                    {t:'ã‚«ãƒ³ãƒ•ãƒ¼ãƒ»ãƒ‘ãƒ³ãƒ€', d:'é£Ÿã„ã—ã‚“åŠã®ãƒ‘ãƒ³ãƒ€ãŒä¼èª¬ã®é¾ã®æˆ¦å£«ã«é¸ã°ã‚Œã€ã‚«ãƒ³ãƒ•ãƒ¼ã‚’æ¥µã‚ã‚‹ã€‚'},
                    {t:'ãƒ’ãƒƒã‚¯ã¨ãƒ‰ãƒ©ã‚´ãƒ³', d:'ãƒ‰ãƒ©ã‚´ãƒ³ã‚’ç‹©ã‚‹ãƒã‚¤ã‚­ãƒ³ã‚°ã®æ‘ã§ã€å°‘å¹´ãŒãƒ‰ãƒ©ã‚´ãƒ³ã¨å‹æƒ…ã‚’çµã¶ã€‚'},
                    {t:'ãƒãƒ€ã‚¬ã‚¹ã‚«ãƒ«', d:'NYã®å‹•ç‰©åœ’ã‹ã‚‰è„±èµ°ã—ãŸ4é ­ãŒã€å¤§è‡ªç„¶ã®ãƒãƒ€ã‚¬ã‚¹ã‚«ãƒ«ã§ã‚µãƒã‚¤ãƒãƒ«ã€‚'},
                    {t:'ã‚¢ã‚¤ã‚¹ãƒ»ã‚¨ã‚¤ã‚¸', d:'æ°·æ²³æœŸã€‚ãƒãƒ³ãƒ¢ã‚¹ã€ãƒŠãƒã‚±ãƒ¢ãƒã€ã‚µãƒ¼ãƒ™ãƒ«ã‚¿ã‚¤ã‚¬ãƒ¼ãŒäººé–“ã®èµ¤ã¡ã‚ƒã‚“ã‚’è¿”ã™æ—…ã€‚'},
                    {t:'ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼ã‚ºãƒ»ã‚¤ãƒ³ã‚¯', d:'å­ä¾›ã®æ‚²é³´ã‚’é›†ã‚ã‚‹ä¼šç¤¾ã§ã€æ€–ãŒã‚‰ã›å±‹ã¨äººé–“ã®å¥³ã®å­ãŒå‡ºä¼šã†ã€‚'},
                    {t:'ãƒ•ã‚¡ã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒ»ãƒ‹ãƒ¢', d:'äººé–“ã«ã•ã‚‰ã‚ã‚ŒãŸæ¯å­ãƒ‹ãƒ¢ã‚’æ¢ã—ã¦ã€çˆ¶ãƒãƒ¼ãƒªãƒ³ãŒæµ·ã‚’æ—…ã™ã‚‹ã€‚'},
                    {t:'Mr.ã‚¤ãƒ³ã‚¯ãƒ¬ãƒ‡ã‚£ãƒ–ãƒ«', d:'å¼•é€€ã—ãŸã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒ’ãƒ¼ãƒ­ãƒ¼å®¶æ—ãŒã€å†ã³ä¸–ç•Œã®å±æ©Ÿã«ç«‹ã¡ä¸ŠãŒã‚‹ã€‚'},
                    {t:'ã‚«ãƒ¼ã‚º', d:'å‚²æ…¢ãªå¤©æ‰ãƒ¬ãƒ¼ã‚·ãƒ³ã‚°ã‚«ãƒ¼ãŒã€ç”°èˆç”ºã§ã®ç”Ÿæ´»ã‚’é€šã—ã¦å¤§åˆ‡ãªå¿ƒã‚’çŸ¥ã‚‹ã€‚'},
                    {t:'ãƒ¬ãƒŸãƒ¼ã®ãŠã„ã—ã„ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³', d:'æ–™ç†ãŒå¤§å¥½ããªãƒã‚ºãƒŸãŒã€ãƒ‘ãƒªã®ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã§ã‚·ã‚§ãƒ•ã«ãªã‚‹å¤¢ã‚’è¿½ã†ã€‚'},
                    {t:'ã‚¦ã‚©ãƒ¼ãƒªãƒ¼', d:'ã‚´ãƒŸã ã‚‰ã‘ã®åœ°çƒã§åƒããƒ­ãƒœãƒƒãƒˆãŒã€å®‡å®™ã‹ã‚‰æ¥ãŸãƒ­ãƒœãƒƒãƒˆã«æ‹ã‚’ã™ã‚‹ã€‚'},
                    {t:'ã‚«ãƒ¼ãƒ«ã˜ã„ã•ã‚“ã®ç©ºé£›ã¶å®¶', d:'äº¡ãå¦»ã¨ã®ç´„æŸã‚’æœãŸã™ãŸã‚ã€å®¶ã‚’é¢¨èˆ¹ã§é£›ã°ã—ã¦å†’é™ºã«å‡ºã‚‹ã€‚'},
                    {t:'ã‚¤ãƒ³ã‚µã‚¤ãƒ‰ãƒ»ãƒ˜ãƒƒãƒ‰', d:'å°‘å¥³ã®é ­ã®ä¸­ã§ã€ãƒ¨ãƒ­ã‚³ãƒ“ã‚„ã‚«ãƒŠã‚·ãƒŸãªã©ã®æ„Ÿæƒ…ãŸã¡ãŒå¤§å†’é™ºã€‚'},
                    {t:'ãƒªãƒ¡ãƒ³ãƒãƒ¼ãƒ»ãƒŸãƒ¼', d:'éŸ³æ¥½ç¦æ­¢ã®å®¶ç³»ã«ç”Ÿã¾ã‚ŒãŸå°‘å¹´ãŒã€æ­»è€…ã®å›½ã§å®¶æ—ã®çµ†ã‚’çŸ¥ã‚‹ã€‚'},
                    {t:'ã‚½ã‚¦ãƒ«ãƒ•ãƒ«ãƒ»ãƒ¯ãƒ¼ãƒ«ãƒ‰', d:'ã‚¸ãƒ£ã‚ºãƒ”ã‚¢ãƒ‹ã‚¹ãƒˆã‚’å¤¢è¦‹ã‚‹éŸ³æ¥½æ•™å¸«ãŒã€ç”Ÿã¾ã‚Œã‚‹å‰ã®ä¸–ç•Œã¸è¿·ã„è¾¼ã‚€ã€‚'},
                    {t:'ã‚ã®å¤ã®ãƒ«ã‚«', d:'ã‚·ãƒ¼ãƒ»ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼ã®å°‘å¹´ãŒã€äººé–“ã®å§¿ã«ãªã£ã¦ã‚¤ã‚¿ãƒªã‚¢ã®å¤ã‚’æº€å–«ã™ã‚‹ã€‚'},
                    {t:'ç§ã¨ãã©ããƒ¬ãƒƒã‚µãƒ¼ãƒ‘ãƒ³ãƒ€', d:'èˆˆå¥®ã™ã‚‹ã¨å·¨å¤§ãªãƒ¬ãƒƒã‚µãƒ¼ãƒ‘ãƒ³ãƒ€ã«å¤‰èº«ã—ã¦ã—ã¾ã†å°‘å¥³ã®æˆé•·ç‰©èªã€‚'},
                    {t:'ãƒã‚¤ãƒ»ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆ', d:'ç«ã€æ°´ã€åœŸã€é¢¨ãŒæš®ã‚‰ã™è¡—ã§ã€æ­£åå¯¾ã®ç«ã¨æ°´ã®ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆãŒæ‹ã«è½ã¡ã‚‹ã€‚'},
                    {t:'ãƒŸãƒ©ãƒ™ãƒ«ã¨é­”æ³•ã ã‚‰ã‘ã®å®¶', d:'é­”æ³•ã®ã‚®ãƒ•ãƒˆã‚’æŒãŸãªã„å°‘å¥³ãŒã€é­”æ³•ãŒæ¶ˆãˆã‹ã‘ãŸå®¶ã‚’æ•‘ãŠã†ã¨ã™ã‚‹ã€‚'},
                    {t:'ãƒ¢ã‚¢ãƒŠã¨ä¼èª¬ã®æµ·', d:'æµ·ã«é¸ã°ã‚ŒãŸå°‘å¥³ãƒ¢ã‚¢ãƒŠãŒã€åŠç¥ãƒã‚¦ã‚¤ã¨å…±ã«ä¸–ç•Œã‚’æ•‘ã†èˆªæµ·ã¸ã€‚'},
                    {t:'å¡”ã®ä¸Šã®ãƒ©ãƒ—ãƒ³ãƒ„ã‚§ãƒ«', d:'é­”æ³•ã®é«ªã‚’æŒã¤å°‘å¥³ãŒã€å¡”ã‚’æŠœã‘å‡ºã—ã¦å¤–ã®ä¸–ç•Œã§æœ¬å½“ã®è‡ªåˆ†ã‚’çŸ¥ã‚‹ã€‚'},
                    {t:'ãƒ™ã‚¤ãƒãƒƒã‚¯ã‚¹', d:'äº¡ãå…„ãŒéºã—ãŸã‚±ã‚¢ãƒ­ãƒœãƒƒãƒˆã¨å¤©æ‰å°‘å¹´ãŒã€æ‚ªã¨æˆ¦ã†ãƒ’ãƒ¼ãƒ­ãƒ¼ã«ãªã‚‹ã€‚'},
                    {t:'ãƒ—ãƒªãƒ³ã‚»ã‚¹ã¨é­”æ³•ã®ã‚­ã‚¹', d:'ã‚«ã‚¨ãƒ«ã«ãªã£ãŸç‹å­ã¨ã‚­ã‚¹ã—ãŸå°‘å¥³ã‚‚ã‚«ã‚¨ãƒ«ã«ã€‚äººé–“ã«æˆ»ã‚‹æ—…ã¸ã€‚'},
                    {t:'ãƒ ãƒ¼ãƒ©ãƒ³', d:'çˆ¶ã®ä»£ã‚ã‚Šã«ç”·è£…ã—ã¦è»éšŠã«å…¥ã£ãŸå°‘å¥³ãŒã€å›½ã‚’æ•‘ã†è‹±é›„ã«ãªã‚‹ã€‚'},
                    {t:'ã‚¿ãƒ¼ã‚¶ãƒ³', d:'ã‚´ãƒªãƒ©ã«è‚²ã¦ã‚‰ã‚ŒãŸé’å¹´ãŒã€è‡ªåˆ†ã¨åŒã˜äººé–“ã¨å‡ºä¼šã„é‹å‘½ãŒå¤‰ã‚ã‚‹ã€‚'},
                    {t:'ãƒ˜ãƒ©ã‚¯ãƒ¬ã‚¹', d:'äººé–“ç•Œã§è‚²ã£ãŸç¥ã®å­ãŒã€çœŸã®ãƒ’ãƒ¼ãƒ­ãƒ¼ã¨ãªã£ã¦ã‚ªãƒªãƒ³ãƒã‚¹ã‚’ç›®æŒ‡ã™ã€‚'},
                    {t:'ãƒãƒ¼ãƒˆãƒ«ãƒ€ãƒ ã®é˜', d:'é˜çªãã®ã‚«ã‚¸ãƒ¢ãƒ‰ãŒã€ã‚¸ãƒ—ã‚·ãƒ¼ã®è¸Šã‚Šå­ã‚¨ã‚¹ãƒ¡ãƒ©ãƒ«ãƒ€ã‚’åŠ©ã‘ã‚‹ãŸã‚ã«æˆ¦ã†ã€‚'},
                    {t:'ãƒã‚«ãƒ›ãƒ³ã‚¿ã‚¹', d:'å…ˆä½æ°‘ã®å¨˜ã¨ã‚¤ã‚®ãƒªã‚¹äººæ¢æ¤œå®¶ã®ã€ç¨®æ—ã‚’è¶…ãˆãŸæ„›ã¨è‡ªç„¶ã¨ã®å…±ç”Ÿã€‚'},
                    {t:'ãƒ©ã‚¤ã‚ªãƒ³ãƒ»ã‚­ãƒ³ã‚°', d:'çˆ¶ã‚’æ®ºã•ã‚Œå›½ã‚’è¿½ã‚ã‚ŒãŸãƒ©ã‚¤ã‚ªãƒ³ã®å­ã‚·ãƒ³ãƒãŒã€ç‹ã¨ã—ã¦å¸°é‚„ã™ã‚‹ã€‚'},
                    {t:'ã‚¢ãƒ©ã‚¸ãƒ³', d:'è²§ã—ã„é’å¹´ãŒé­”æ³•ã®ãƒ©ãƒ³ãƒ—ã‚’æ‰‹ã«å…¥ã‚Œã€ç‹å¥³ã¨ã®æ‹ã‚’å¶ãˆã‚ˆã†ã¨ã™ã‚‹ã€‚'},
                    {t:'ç¾å¥³ã¨é‡ç£', d:'é‡ç£ã®åŸã«æ•ã‚‰ã‚ã‚ŒãŸãƒ™ãƒ«ãŒã€å½¼ã®å„ªã—ã•ã«è§¦ã‚Œã¦æ„›ã‚’è¦‹ã¤ã‘ã‚‹ã€‚'},
                    {t:'ãƒªãƒˆãƒ«ãƒ»ãƒãƒ¼ãƒ¡ã‚¤ãƒ‰', d:'äººé–“ã®ç‹å­ã«æ‹ã—ãŸäººé­šå§«ãŒã€å£°ã‚’çŠ ç‰²ã«ã—ã¦è¶³ã‚’æ‰‹ã«å…¥ã‚Œã‚‹ã€‚'}
                ];

                // 10. ãŠã™ã™ã‚ã®ç«¶èµ°é¦¬ (ã‚¦ãƒå¨˜ã‚­ãƒ£ãƒ©ç¶²ç¾… + ç¾å½¹æœŸé–“ä»˜ã)
                const horses = [
                    // --- ã‚¦ãƒå¨˜åŒ–ã•ã‚Œã¦ã„ã‚‹ç«¶èµ°é¦¬ (æœŸé–“ãƒ»èª¬æ˜ä»˜ã) ---
                    {n:'ã‚¹ãƒšã‚·ãƒ£ãƒ«ã‚¦ã‚£ãƒ¼ã‚¯', d:'ã€Œæ—¥æœ¬ç·å¤§å°†ã€ã€‚æ­¦è±Šã«åˆã®ãƒ€ãƒ¼ãƒ“ãƒ¼ã‚’è´ˆã£ãŸè‹±é›„ã€‚\nå¤©çš‡è³æ˜¥ç§‹åˆ¶è¦‡ã€ã‚¸ãƒ£ãƒ‘ãƒ³Cå„ªå‹ã€‚(1997-1999)'},
                    {n:'ã‚µã‚¤ãƒ¬ãƒ³ã‚¹ã‚¹ã‚ºã‚«', d:'ã€Œç•°æ¬¡å…ƒã®é€ƒäº¡è€…ã€ã€‚åœ§å€’çš„ãªã‚¹ãƒ”ãƒ¼ãƒ‰ã§é€ƒã’ç¶šã‘ãŸå¤©æ‰ã€‚\né‡‘é¯±è³ã®å¤§å·®å‹ã¡ã¯ä¼èª¬ã€‚(1997-1998)'},
                    {n:'ãƒˆã‚¦ã‚«ã‚¤ãƒ†ã‚¤ã‚ªãƒ¼', d:'ã€Œå¥‡è·¡ã®å¾©æ´»ã€ã€‚çš‡å¸ã‚·ãƒ³ãƒœãƒªãƒ«ãƒ‰ãƒ«ãƒ•ã®å­ã€‚\nåº¦é‡ãªã‚‹éª¨æŠ˜ã‚’ä¹—ã‚Šè¶Šãˆã€1å¹´ã¶ã‚Šã®æœ‰é¦¬è¨˜å¿µã§æ¶™ã®å‹åˆ©ã€‚(1990-1993)'},
                    {n:'ãƒãƒ«ã‚¼ãƒ³ã‚¹ã‚­ãƒ¼', d:'ã€Œã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚«ãƒ¼ã€ã€‚æŒè¾¼é¦¬ã¨ã—ã¦åœ§å€’çš„ãªå¼·ã•ã‚’è¦‹ã›ãŸã€‚\n8æˆ¦8å‹ã€åˆè¨ˆç€å·®61é¦¬èº«ã€‚(1976-1977)'},
                    {n:'ãƒ•ã‚¸ã‚­ã‚»ã‚­', d:'ã€Œå¹»ã®ä¸‰å† é¦¬ã€ã€‚ã‚µãƒ³ãƒ‡ãƒ¼ã‚µã‚¤ãƒ¬ãƒ³ã‚¹åˆå¹´åº¦ç”£é§’ã€‚\nç„¡æ•—ã®ã¾ã¾å¼•é€€ã—ã€ç¨®ç‰¡é¦¬ã¨ã—ã¦ã‚‚å¤§æˆåŠŸã€‚(1994-1995)'},
                    {n:'ã‚ªã‚°ãƒªã‚­ãƒ£ãƒƒãƒ—', d:'ã€ŒèŠ¦æ¯›ã®æ€ªç‰©ã€ã€‚åœ°æ–¹ã‹ã‚‰ä¸­å¤®ã¸ã€ç«¶é¦¬ãƒ–ãƒ¼ãƒ ã‚’å·»ãèµ·ã“ã—ãŸã€‚\nå¼•é€€ãƒ¬ãƒ¼ã‚¹ã®æœ‰é¦¬è¨˜å¿µå„ªå‹ã¯å¥‡è·¡ã€‚(1987-1990)'},
                    {n:'ã‚´ãƒ¼ãƒ«ãƒ‰ã‚·ãƒƒãƒ—', d:'ã€Œé»„é‡‘ã®ä¸æ²ˆè‰¦ã€ã€‚æ°—ã¾ãã‚Œã ãŒãƒãƒã‚Œã°å¼·ã„å€‹æ€§æ´¾ã€‚\nå®å¡šè¨˜å¿µé€£è¦‡ãªã©G1ãƒ»6å‹ã€‚(2011-2015)'},
                    {n:'ã‚¦ã‚ªãƒƒã‚«', d:'64å¹´ã¶ã‚Šã®ç‰é¦¬ãƒ€ãƒ¼ãƒ“ãƒ¼åˆ¶è¦‡ã€‚\nãƒ€ã‚¤ãƒ¯ã‚¹ã‚«ãƒ¼ãƒ¬ãƒƒãƒˆã¨ã®æ­»é—˜ã‚„G1ãƒ»7å‹ãªã©ã€æ­´å²çš„è±ªå‚‘ã€‚(2006-2010)'},
                    {n:'ãƒ€ã‚¤ãƒ¯ã‚¹ã‚«ãƒ¼ãƒ¬ãƒƒãƒˆ', d:'ã€ŒãƒŸã‚¹ãƒ»ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆã€ã€‚ç”Ÿæ¶¯é€£å¯¾ç‡100%ã€‚\næœ‰é¦¬è¨˜å¿µã‚’é€ƒã’åˆ‡ã£ãŸã€ã‚¦ã‚ªãƒƒã‚«ã®æ°¸é ã®ãƒ©ã‚¤ãƒãƒ«ã€‚(2006-2008)'},
                    {n:'ã‚¿ã‚¤ã‚­ã‚·ãƒ£ãƒˆãƒ«', d:'ãƒ•ãƒ©ãƒ³ã‚¹ãƒ»ã‚¸ãƒ£ãƒƒã‚¯ãƒ«ãƒãƒ­ãƒ¯è³ã‚’åˆ¶è¦‡ã€‚\nçŸ­è·é›¢ãƒ»ãƒã‚¤ãƒ«ã§ä¸–ç•Œæœ€å¼·ã‚¯ãƒ©ã‚¹ã®å¼·ã•ã‚’èª‡ã£ãŸã€‚(1997-1998)'},
                    {n:'ã‚°ãƒ©ã‚¹ãƒ¯ãƒ³ãƒ€ãƒ¼', d:'ã€Œæ€ªç‰©ã€ã€‚æœ‰é¦¬è¨˜å¿µé€£è¦‡ã€å®å¡šè¨˜å¿µåˆ¶è¦‡ã€‚\næ€ªæˆ‘ã‹ã‚‰å¾©æ´»ã—ã€ã‚¹ãƒšã‚·ãƒ£ãƒ«ã‚¦ã‚£ãƒ¼ã‚¯ã®å®¿æ•µã¨ã—ã¦ç«‹ã¡ã¯ã ã‹ã£ãŸã€‚(1997-2000)'},
                    {n:'ãƒ’ã‚·ã‚¢ãƒã‚¾ãƒ³', d:'ã€Œå¥³å‚‘ã€ã€‚ã‚¯ãƒªã‚¹ã‚¿ãƒ«Cã‹ã‚‰ã‚¨ãƒªã‚¶ãƒ™ã‚¹å¥³ç‹æ¯ã¾ã§é‡è³6é€£å‹ã€‚\nãƒŠãƒªã‚¿ãƒ–ãƒ©ã‚¤ã‚¢ãƒ³ã¨æœ‰é¦¬è¨˜å¿µã§æ¿€é—˜ã€‚(1993-1996)'},
                    {n:'ãƒ¡ã‚¸ãƒ­ãƒãƒƒã‚¯ã‚¤ãƒ¼ãƒ³', d:'ã€Œåå„ªã€ã€‚å¤©çš‡è³(æ˜¥)é€£è¦‡ãªã©ã‚¹ãƒ†ã‚¤ãƒ¤ãƒ¼ã¨ã—ã¦æ´»èºã€‚\nãƒˆã‚¦ã‚«ã‚¤ãƒ†ã‚¤ã‚ªãƒ¼ã¨ã®ã€Œä¸–ç´€ã®å¯¾æ±ºã€ã¯ä¼èª¬ã€‚(1990-1993)'},
                    {n:'ã‚¨ãƒ«ã‚³ãƒ³ãƒ‰ãƒ«ãƒ‘ã‚µãƒ¼', d:'å‡±æ—‹é–€è³ã§åŠé¦¬èº«å·®ã®2ç€ã€‚\nã€Œä¸–ç•Œã«ä¸€ç•ªè¿‘ã¥ã„ãŸé¦¬ã€ã¨ã—ã¦ã€ãã®å¼·ã•ã¯åˆ¥æ ¼ã€‚(1997-1999)'},
                    {n:'ãƒ†ã‚¤ã‚¨ãƒ ã‚ªãƒšãƒ©ã‚ªãƒ¼', d:'ã€Œä¸–ç´€æœ«è¦‡ç‹ã€ã€‚2000å¹´ã«G1ãƒ»5å‹ã‚’å«ã‚€å¹´é–“å…¨å‹ã€‚\nç²å¾—è³é‡‘è¨˜éŒ²ã‚’é•·ã‚‰ãä¿æŒã—ãŸçµ¶å¯¾ç‹è€…ã€‚(1998-2001)'},
                    {n:'ãƒŠãƒªã‚¿ãƒ–ãƒ©ã‚¤ã‚¢ãƒ³', d:'ã€Œã‚·ãƒ£ãƒ‰ãƒ¼ãƒ­ãƒ¼ãƒ«ã®æ€ªç‰©ã€ã€‚ä¸‰å† ãƒ¬ãƒ¼ã‚¹ã‚’åœ§å‹ã€‚\nå…¨ç››æœŸã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¯æ—¥æœ¬ç«¶é¦¬å²ä¸Šæœ€å¼·ã¨ã‚‚ã€‚(1993-1996)'},
                    {n:'ã‚·ãƒ³ãƒœãƒªãƒ«ãƒ‰ãƒ«ãƒ•', d:'ã€Œçš‡å¸ã€ã€‚æ—¥æœ¬ç«¶é¦¬å²ä¸Šåˆã®ç„¡æ•—ã®ä¸‰å† é¦¬ã€‚\nG1ãƒ»7å‹ã‚’æŒ™ã’ãŸçµ¶å¯¾çš„ãªå­˜åœ¨ã€‚(1983-1986)'},
                    {n:'ã‚¨ã‚¢ã‚°ãƒ«ãƒ¼ãƒ´', d:'ã€Œå¥³å¸ã€ã€‚å¤©çš‡è³(ç§‹)ã§ãƒãƒ–ãƒ«ã‚¬ãƒ ãƒ•ã‚§ãƒ­ãƒ¼ã‚’æ’ƒç ´ã€‚\næ¯ã¨ã—ã¦ã‚‚ä¸€æ—ã‚’ç¹æ „ã•ã›ãŸåç‰ã€‚(1995-1998)'},
                    {n:'ã‚¢ã‚°ãƒã‚¹ãƒ‡ã‚¸ã‚¿ãƒ«', d:'èŠãƒ»ãƒ€ãƒ¼ãƒˆãƒ»å›½å†…ãƒ»æµ·å¤–å•ã‚ãšG1ã‚’å‹ã¡ã¾ãã£ãŸã€Œå¤‰æ…‹ï¼ˆè¤’ã‚è¨€è‘‰ï¼‰ã€ã€‚\nã‚ªãƒ¼ãƒ«ãƒ©ã‚¦ãƒ³ãƒ€ãƒ¼ã®æ¥µè‡´ã€‚(1999-2003)'},
                    {n:'ã‚»ã‚¤ã‚¦ãƒ³ã‚¹ã‚«ã‚¤', d:'çšæœˆè³ã€èŠèŠ±è³å„ªå‹ã€‚\nãƒˆãƒªãƒƒã‚­ãƒ¼ãªé€ƒã’ã§ä»–é¦¬ã‚’ç¿»å¼„ã—ãŸç­–å£«ã€‚(1997-1999)'},
                    {n:'ã‚¿ãƒãƒ¢ã‚¯ãƒ­ã‚¹', d:'ã€Œç™½ã„ç¨²å¦»ã€ã€‚èŠ¦æ¯›é¦¬ã¨ã—ã¦åˆã®å¤©çš‡è³ãƒ»æ˜¥ç§‹é€£è¦‡ã€‚\nã‚ªã‚°ãƒªã‚­ãƒ£ãƒƒãƒ—ã¨ã®èŠ¦æ¯›å¯¾æ±ºã§ãƒ•ã‚¡ãƒ³ã‚’æ²¸ã‹ã›ãŸã€‚(1987-1988)'},
                    {n:'ãƒ•ã‚¡ã‚¤ãƒ³ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³', d:'ç„¡æ•—ã§ç§‹è¯è³ã€ã‚¨ãƒªã‚¶ãƒ™ã‚¹å¥³ç‹æ¯ã‚’åˆ¶è¦‡ã€‚\nã‚¢ã‚¤ãƒ«ãƒ©ãƒ³ãƒ‰ã‹ã‚‰æ¥ãŸå¤©æ‰å°‘å¥³ã€‚(2001-2004)'},
                    {n:'ãƒ“ãƒ¯ãƒãƒ¤ãƒ’ãƒ‡', d:'èŠèŠ±è³ã€å¤©çš‡è³(æ˜¥)ã€å®å¡šè¨˜å¿µå„ªå‹ã€‚\nBNWã®ä¸€è§’ã€‚å®‰å®šæ„ŸæŠœç¾¤ã®ã€Œé¡”ãƒ‡ã‚«ã€ãƒ›ãƒ¼ã‚¹ã€‚(1992-1994)'},
                    {n:'ãƒãƒ¤ãƒãƒˆãƒƒãƒ—ã‚¬ãƒ³', d:'èŠèŠ±è³ã€æœ‰é¦¬è¨˜å¿µã€å®å¡šè¨˜å¿µã€å¤©çš‡è³(æ˜¥)å„ªå‹ã€‚\né€ƒã’ãƒ»å…ˆè¡Œãƒ»å·®ã—ã€å¤‰å¹»è‡ªåœ¨ã®è„šè³ªã€‚(1995-1997)'},
                    {n:'ãƒãƒ³ãƒãƒƒã‚¿ãƒ³ã‚«ãƒ•ã‚§', d:'èŠèŠ±è³ã€æœ‰é¦¬è¨˜å¿µã€å¤©çš‡è³(æ˜¥)å„ªå‹ã€‚\né•·è·é›¢G1ãƒ»3é€£å‹ã®ã‚¹ãƒšã‚·ãƒ£ãƒªã‚¹ãƒˆã€‚(2001-2002)'},
                    {n:'ãƒŸãƒ›ãƒãƒ–ãƒ«ãƒœãƒ³', d:'ã€Œå‚è·¯ã®ç”³ã—å­ã€ã€‚é€ƒã’ã¦ç„¡æ•—ã®äºŒå† é”æˆã€‚\nèŠèŠ±è³ã§ãƒ©ã‚¤ã‚¹ã‚·ãƒ£ãƒ¯ãƒ¼ã«æ•—ã‚Œã‚‹ã¾ã§å®Œç’§ã ã£ãŸã€‚(1991-1992)'},
                    {n:'ãƒ¡ã‚¸ãƒ­ãƒ©ã‚¤ã‚¢ãƒ³', d:'å®å¡šè¨˜å¿µå„ªå‹ã€‚æ¨ªå±±å…¸å¼˜é¨æ‰‹ã¨ã®ã‚³ãƒ³ãƒ“ã§äººæ°—ã‚’åšã—ãŸã€‚\nãƒ¡ã‚¸ãƒ­ãƒ‰ãƒ¼ãƒ™ãƒ«ã€ãƒ¡ã‚¸ãƒ­ãƒ–ãƒ©ã‚¤ãƒˆã®çˆ¶ã€‚(1989-1992)'},
                    {n:'ãƒ’ã‚·ã‚¢ã‚±ãƒœãƒ', d:'ã‚¹ãƒ—ãƒªãƒ³ã‚¿ãƒ¼ã‚ºSå„ªå‹ã€‚\né¦¬ä½“é‡560kgã‚’è¶…ãˆã‚‹è¶…å¤§å‹é¦¬ã€‚(1994-1997)'},
                    {n:'ãƒ¦ã‚­ãƒãƒ“ã‚¸ãƒ³', d:'å²©æ‰‹ç«¶é¦¬å‡ºèº«ã®ã‚¢ã‚¤ãƒ‰ãƒ«ãƒ›ãƒ¼ã‚¹ã€‚\næ¡œèŠ±è³ã€ã‚ªãƒ¼ã‚¯ã‚¹ã¨ã‚‚ã«2ç€ã¨å¥é—˜ã€‚(1992-1993)'},
                    {n:'ãƒ©ã‚¤ã‚¹ã‚·ãƒ£ãƒ¯ãƒ¼', d:'ã€Œé»’ã„åˆºå®¢ã€ã€‚èŠèŠ±è³ã€å¤©çš‡è³(æ˜¥)2å‹ã€‚\næ·€ã®é•·è·é›¢ã§å’²ãã€ãã—ã¦æ•£ã£ãŸå­¤é«˜ã®ã‚¹ãƒ†ã‚¤ãƒ¤ãƒ¼ã€‚(1991-1995)'},
                    {n:'ã‚¢ã‚¤ãƒã‚¹ãƒ•ã‚¦ã‚¸ãƒ³', d:'ãƒ€ãƒ¼ãƒ“ãƒ¼ã‚’é€ƒã’åˆ‡ã‚Šå„ªå‹ã€‚\nãƒ¬ãƒ¼ã‚¹å¾Œã€ä¸­é‡é¨æ‰‹ã¸ã®ã€ŒãƒŠã‚«ãƒãƒ»ã‚³ãƒ¼ãƒ«ã€ãŒå·»ãèµ·ã“ã£ãŸã€‚(1989-1990)'},
                    {n:'ã‚¢ã‚°ãƒã‚¹ã‚¿ã‚­ã‚ªãƒ³', d:'çšæœˆè³å„ªå‹ã€‚\nã€Œè¶…å…‰é€Ÿã®ç²’å­ã€ã€‚ç„¡æ•—ã®ã¾ã¾å¼•é€€ã—ãŸå¹»ã®ä¸‰å† é¦¬ã€‚(2000-2001)'},
                    {n:'ã‚¢ãƒ‰ãƒã‚¤ãƒ¤ãƒ™ã‚¬', d:'ãƒ€ãƒ¼ãƒ“ãƒ¼å„ªå‹ã€‚\næ¯ãƒ™ã‚¬ã®è‰¯è¡€ã€‚ãƒ†ã‚¤ã‚¨ãƒ ã‚ªãƒšãƒ©ã‚ªãƒ¼ã€ãƒŠãƒªã‚¿ãƒˆãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã¨ã®ä¸‰å¼·ã€‚(1998-1999)'},
                    {n:'ã‚¤ãƒŠãƒªãƒ¯ãƒ³', d:'åœ°æ–¹ãƒ»å¤§äº•å‡ºèº«ã€‚å¹³æˆä¸‰å¼·ã®ä¸€è§’ã€‚\nå¤©çš‡è³(æ˜¥)ã€å®å¡šè¨˜å¿µã€æœ‰é¦¬è¨˜å¿µã‚’åˆ¶ã—ãŸãƒ‰æ ¹æ€§é¦¬ã€‚(1986-1990)'},
                    {n:'ã‚¦ã‚¤ãƒ‹ãƒ³ã‚°ãƒã‚±ãƒƒãƒˆ', d:'ãƒ€ãƒ¼ãƒ“ãƒ¼å„ªå‹ã€‚\næŸ´ç”°æ”¿äººã«æ‚²é¡˜ã®ãƒ€ãƒ¼ãƒ“ãƒ¼ã‚’ã‚‚ãŸã‚‰ã—ãŸBNWã®ä¸€è§’ã€‚(1992-1994)'},
                    {n:'ã‚¨ã‚¢ã‚·ãƒ£ã‚«ãƒ¼ãƒ«', d:'çšæœˆè³ã€èŠèŠ±è³ã®äºŒå† é¦¬ã€‚\nã€Œæº–ä¸‰å† é¦¬ã€ã¨å‘¼ã°ã‚ŒãŸæ°—æ€§é›£ã®å¤©æ‰ã€‚(1999-2002)'},
                    {n:'ã‚¨ã‚¤ã‚·ãƒ³ãƒ•ãƒ©ãƒƒã‚·ãƒ¥', d:'ãƒ€ãƒ¼ãƒ“ãƒ¼ã€å¤©çš‡è³(ç§‹)å„ªå‹ã€‚\nãƒŸãƒ«ã‚³ãƒ»ãƒ‡ãƒ ãƒ¼ãƒ­ã®æœ€æ•¬ç¤¼ãŒæœ‰åãªã€æ¼†é»’ã®ç¾é¦¬ã€‚(2009-13)'},
                    {n:'ã‚«ãƒ¬ãƒ³ãƒãƒ£ãƒ³', d:'ã‚¹ãƒ—ãƒªãƒ³ã‚¿ãƒ¼ã‚ºSã€é«˜æ¾å®®è¨˜å¿µå„ªå‹ã€‚\nãƒ­ãƒ¼ãƒ‰ã‚«ãƒŠãƒ­ã‚¢ã‚’é€€ã‘ãŸã“ã¨ã‚‚ã‚ã‚‹çŸ­è·é›¢å¥³ç‹ã€‚(2009-2012)'},
                    {n:'ã‚«ãƒ¯ã‚«ãƒŸãƒ—ãƒªãƒ³ã‚»ã‚¹', d:'ç„¡æ•—ã§ã‚ªãƒ¼ã‚¯ã‚¹ã€ç§‹è¯è³ã‚’åˆ¶è¦‡ã€‚\nã€ŒçŒ›ç‰›ã€ã¨å‘¼ã°ã‚ŒãŸãƒ‰æ ¹æ€§ãŠå¬¢æ§˜ã€‚(2006-2009)'},
                    {n:'ã‚´ãƒ¼ãƒ«ãƒ‰ã‚·ãƒãƒ¼', d:'é˜ªç¥3æ­³Så„ªå‹ã€‚\nç¾ã—ã„å°¾èŠ±æ —æ¯›ã®é¦¬ä½“ã§äººæ°—ã‚’åšã—ãŸã€‚(1986-1989)'},
                    {n:'ã‚µã‚¯ãƒ©ãƒã‚¯ã‚·ãƒ³ã‚ªãƒ¼', d:'ã‚¹ãƒ—ãƒªãƒ³ã‚¿ãƒ¼ã‚ºSé€£è¦‡ã€‚\næ—¥æœ¬ç«¶é¦¬å²ä¸Šæœ€å¼·ã®ã‚¹ãƒ—ãƒªãƒ³ã‚¿ãƒ¼ã¨ã—ã¦ç¨®ç‰¡é¦¬ã§ã‚‚æˆåŠŸã€‚(1992-1994)'},
                    {n:'ã‚·ãƒ¼ã‚­ãƒ³ã‚°ã‚¶ãƒ‘ãƒ¼ãƒ«', d:'æ—¥æœ¬èª¿æ•™é¦¬åˆã®æµ·å¤–G1ï¼ˆãƒ¢ãƒ¼ãƒªã‚¹ãƒ»ãƒ‰ãƒ»ã‚®ãƒ¼ã‚¹è³ï¼‰åˆ¶è¦‡ã€‚\næ­´å²ã®æ‰‰ã‚’é–‹ã„ãŸå¿«é€Ÿç‰é¦¬ã€‚(1996-1999)'},
                    {n:'ã‚·ãƒ³ã‚³ã‚¦ã‚¦ã‚¤ãƒ³ãƒ‡ã‚£', d:'ãƒ•ã‚§ãƒ–ãƒ©ãƒªãƒ¼Så„ªå‹ã€‚\nãƒ¬ãƒ¼ã‚¹ä¸­ã«ä»–é¦¬ã«å™›ã¿ä»˜ãæ°—æ€§ã®è’ã•ã§æœ‰åã€‚(1996-1999)'},
                    {n:'ã‚¹ã‚¤ãƒ¼ãƒ—ãƒˆã‚¦ã‚·ãƒ§ã‚¦', d:'å®å¡šè¨˜å¿µã€ã‚¨ãƒªã‚¶ãƒ™ã‚¹å¥³ç‹æ¯å„ªå‹ã€‚\nãƒ†ã‚³ã§ã‚‚å‹•ã‹ãªã„ãƒ¯ã‚¬ãƒãƒå¨˜ã ãŒã€æœ«è„šã¯ä¸€ç´šå“ã€‚(2003-2007)'},
                    {n:'ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒªãƒ¼ã‚¯', d:'èŠèŠ±è³ã€å¤©çš‡è³(æ˜¥ç§‹)å„ªå‹ã€‚\næ­¦è±Šã‚’å¤©æ‰é¨æ‰‹ã«ã—ãŸã‚¹ãƒ†ã‚¤ãƒ¤ãƒ¼ã€‚å¹³æˆä¸‰å¼·ã®ä¸€è§’ã€‚(1987-1990)'},
                    {n:'ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚¡ãƒ«ã‚³ãƒ³', d:'åœ°æ–¹äº¤æµé‡è³ã§ç„¡åŒã€‚\nJBCã‚¯ãƒ©ã‚·ãƒƒã‚¯ã€æ±äº¬å¤§è³å…¸ãªã©ã‚’é€ƒã’åˆ‡ã£ãŸç ‚ã®ã‚µã‚¤ãƒ¬ãƒ³ã‚¹ã‚¹ã‚ºã‚«ã€‚(2007-2012)'},
                    {n:'ã‚¼ãƒ³ãƒãƒ­ãƒ–ãƒ­ã‚¤', d:'ç§‹å¤é¦¬ä¸‰å† ï¼ˆå¤©çš‡è³ãƒ»JCãƒ»æœ‰é¦¬ï¼‰é”æˆã€‚\nè—¤æ²¢å©èˆï¼†ãƒšãƒªã‚¨é¨æ‰‹ã®é»„é‡‘ã‚¿ãƒƒã‚°ã€‚(2003-2005)'},
                    {n:'ãƒˆãƒ¼ã‚»ãƒ³ã‚¸ãƒ§ãƒ¼ãƒ€ãƒ³', d:'å¤©çš‡è³(ç§‹)ã‚’ãƒ¬ã‚³ãƒ¼ãƒ‰å‹ã¡ã€‚\nè£‚è¹„ãªã©ã®æ€ªæˆ‘ã«æ‚©ã¾ã•ã‚ŒãªãŒã‚‰ã‚‚é•·ãæ´»èºã—ãŸã€‚(2008-2014)'},
                    {n:'ãƒŠã‚«ãƒ¤ãƒãƒ•ã‚§ã‚¹ã‚¿', d:'å®å¡šè¨˜å¿µå„ªå‹å¾Œã€å‡±æ—‹é–€è³ã§ã‚¢ã‚¿ãƒå·®ã®2ç€ã€‚\nã‚¹ãƒ†ã‚¤ã‚´ãƒ¼ãƒ«ãƒ‰ç”£é§’ã‚‰ã—ã„å‹è² æ ¹æ€§ã€‚(2008-2011)'},
                    {n:'ãƒŠãƒªã‚¿ã‚¿ã‚¤ã‚·ãƒ³', d:'çšæœˆè³å„ªå‹ã€‚\nBNWã®ä¸€è§’ã€‚å°æŸ„ãªä½“ã‹ã‚‰ã®é¬¼è„šã§ãƒ©ã‚¤ãƒãƒ«ã‚’æ’«ã§æ–¬ã‚Šã€‚(1992-1995)'},
                    {n:'ãƒ‹ã‚·ãƒãƒ•ãƒ©ãƒ¯ãƒ¼', d:'æ¡œèŠ±è³ã€ã‚¹ãƒ—ãƒªãƒ³ã‚¿ãƒ¼ã‚ºSå„ªå‹ã€‚\nå¤©æ‰å°‘å¥³ã¨å‘¼ã°ã‚ŒãŸã€å¯æ†ãªå¿«é€Ÿé¦¬ã€‚(1991-1993)'},
                    {n:'ãƒãƒ«ã‚¦ãƒ©ãƒ©', d:'113æˆ¦0å‹ã€‚\nã€Œè² ã‘çµ„ã®æ˜Ÿã€ã¨ã—ã¦ç¤¾ä¼šç¾è±¡ã«ãªã£ãŸé«˜çŸ¥ç«¶é¦¬ã®ã‚¢ã‚¤ãƒ‰ãƒ«ã€‚(1998-2004)'},
                    {n:'ãƒãƒ³ãƒ–ãƒ¼ãƒ¡ãƒ¢ãƒªãƒ¼', d:'å®‰ç”°è¨˜å¿µã€ã‚¹ãƒ—ãƒªãƒ³ã‚¿ãƒ¼ã‚ºSå„ªå‹ã€‚\nã‚ªã‚°ãƒªã‚­ãƒ£ãƒƒãƒ—ã¨ãƒã‚¤ãƒ«CSã§æ¿€é—˜ã‚’ç¹°ã‚Šåºƒã’ãŸã€‚(1987-1991)'},
                    {n:'ãƒ“ã‚³ãƒ¼ãƒšã‚¬ã‚µã‚¹', d:'ã‚¹ãƒ—ãƒªãƒ³ã‚¿ãƒ¼ã‚ºSã§2ç€2å›ã€‚\nçŸ­è·é›¢æˆ¦ç·šã§é•·ãæ´»èºã—ãŸã€å°ã•ãªå®ŸåŠ›è€…ã€‚(1993-1998)'},
                    {n:'ãƒãƒ¼ãƒ™ãƒ©ã‚¹ã‚µãƒ³ãƒ‡ãƒ¼', d:'å®å¡šè¨˜å¿µå„ªå‹ã€‚\nã‚µã‚¯ãƒ©ãƒ­ãƒ¼ãƒ¬ãƒ«ã€ãƒãƒ¤ãƒãƒˆãƒƒãƒ—ã‚¬ãƒ³ã¨ã®ä¸‰å¼·æ™‚ä»£ã‚’å½¢æˆã€‚(1995-1997)'},
                    {n:'ãƒãƒã‚«ãƒãƒ•ã‚¯ã‚­ã‚¿ãƒ«', d:'èŠèŠ±è³å„ªå‹ã€‚\nç¥æˆ¸æ–°èæ¯ã€äº¬éƒ½æ–°èæ¯ã€èŠèŠ±è³ã¨ç§‹ã«3é€£å‹ã—ãŸä¸ŠãŒã‚Šé¦¬ã€‚(1997-2000)'},
                    {n:'ãƒŸã‚¹ã‚¿ãƒ¼ã‚·ãƒ¼ãƒ“ãƒ¼', d:'19å¹´ã¶ã‚Šã€å²ä¸Š3é ­ç›®ã®ä¸‰å† é¦¬ã€‚\nå¸¸è­˜ç ´ã‚Šã®å¾Œæ–¹ä¸€æ°—ã§ãƒ•ã‚¡ãƒ³ã‚’é­…äº†ã—ãŸã€‚(1982-1985)'},
                    {n:'ãƒ¡ã‚¤ã‚·ãƒ§ã‚¦ãƒ‰ãƒˆã‚¦', d:'å®å¡šè¨˜å¿µå„ªå‹ã€‚\nãƒ†ã‚¤ã‚¨ãƒ ã‚ªãƒšãƒ©ã‚ªãƒ¼ã«æŒ‘ã¿ç¶šã‘ãŸã€Œæœ€å¼·ã®éŠ€ãƒ¡ãƒ€ãƒªã‚¹ãƒˆã€ã€‚(1999-2001)'},
                    {n:'ãƒ¡ã‚¸ãƒ­ãƒ‰ãƒ¼ãƒ™ãƒ«', d:'ã‚ªãƒ¼ã‚¯ã‚¹ã€ç§‹è¯è³ãªã©G1ãƒ»5å‹ã€‚\nç”·å‹ã‚Šã®å¼·ã•ã‚’è¦‹ã›ãŸãƒ¡ã‚¸ãƒ­ã®è‡³å®ã€‚(1996-1999)'},
                    {n:'ãƒŠã‚¤ã‚¹ãƒã‚¤ãƒãƒ£', d:'æœ‰é¦¬è¨˜å¿µ3å¹´é€£ç¶š3ç€ã€‚\nã€Œãƒ–ãƒ­ãƒ³ã‚ºã‚³ãƒ¬ã‚¯ã‚¿ãƒ¼ã€ã¨ã—ã¦æ„›ã•ã‚Œã€é•·å¯¿ã‚’å…¨ã†ã—ãŸã€‚(1990-1996)'},
                    {n:'ã‚­ãƒ³ã‚°ãƒ˜ã‚¤ãƒ­ãƒ¼', d:'é«˜æ¾å®®è¨˜å¿µå„ªå‹ã€‚\nè‰¯è¡€é¦¬ãŒè‹¦é›£ã®æœ«ã«æ´ã‚“ã çŸ­è·é›¢ã®æ „å† ã€‚(1997-2000)'},
                    {n:'ãƒãƒã‚«ãƒã‚¿ãƒ³ãƒ›ã‚¤ã‚¶', d:'G1ã«ã¯å±Šã‹ãªã‹ã£ãŸãŒã€é•·ã‚‰ãé‡è³æˆ¦ç·šã§æ´»èºã€‚\né¼»è¡€ã§å‡ºèµ°å–æ¶ˆãªã©ãƒã‚¿ã«äº‹æ¬ ã‹ãªã„ã€‚(1991-1995)'},
                    {n:'ã‚¤ã‚¯ãƒãƒ‡ã‚£ã‚¯ã‚¿ã‚¹', d:'ã€Œé‰„ã®å¥³ã€ã€‚51æˆ¦èµ°ã‚ŠæŠœãã€æ•…éšœçŸ¥ã‚‰ãšã€‚\nå®‰ç”°è¨˜å¿µã€å®å¡šè¨˜å¿µã§2ç€ã«å…¥ã‚‹å¥é—˜ã€‚(1989-1993)'},
                    {n:'ãƒ¡ã‚¸ãƒ­ãƒ‘ãƒ¼ãƒãƒ¼', d:'å®å¡šè¨˜å¿µã€æœ‰é¦¬è¨˜å¿µã®ã‚°ãƒ©ãƒ³ãƒ—ãƒªé€£è¦‡ã€‚\nã€Œçˆ†é€ƒã’ã€ã§ç©´å…šã‚’æ­“å–œã•ã›ãŸå€‹æ€§æ´¾ã€‚(1989-1994)'},
                    {n:'ãƒ€ã‚¤ã‚¿ã‚¯ãƒ˜ãƒªã‚ªã‚¹', d:'ãƒã‚¤ãƒ«CSé€£è¦‡ã€‚\nãƒ¡ã‚¸ãƒ­ãƒ‘ãƒ¼ãƒãƒ¼ã¨ã®ã€Œãƒã‚«ã‚³ãƒ³ãƒ“ã€ã§ãƒ¬ãƒ¼ã‚¹ã‚’æ»ãå›ã—ãŸã€‚(1989-1992)'},
                    {n:'ãƒ„ã‚¤ãƒ³ã‚¿ãƒ¼ãƒœ', d:'ç‰ç •è¦šæ‚Ÿã®å¤§é€ƒã’ã€‚\nä¸ƒå¤•è³ã€ã‚ªãƒ¼ãƒ«ã‚«ãƒãƒ¼ã®é€ƒã’åˆ‡ã‚Šå‹ã¡ã¯èªã‚Šè‰ã€‚(1991-1995)'},
                    {n:'ã‚µãƒˆãƒãƒ€ã‚¤ãƒ¤ãƒ¢ãƒ³ãƒ‰', d:'èŠèŠ±è³ã€æœ‰é¦¬è¨˜å¿µã‚’åˆ¶è¦‡ã€‚\nã‚­ã‚¿ã‚µãƒ³ãƒ–ãƒ©ãƒƒã‚¯ã‚’ç ´ã£ãŸã€é‡Œè¦‹ã‚ªãƒ¼ãƒŠãƒ¼æ‚²é¡˜ã®G1é¦¬ã€‚(2015-2018)'},
                    {n:'ã‚­ã‚¿ã‚µãƒ³ãƒ–ãƒ©ãƒƒã‚¯', d:'G1ãƒ»7å‹ã€‚æ¼”æ­Œæ­Œæ‰‹ãƒ»åŒ—å³¶ä¸‰éƒã®æ„›é¦¬ã€‚\né€ƒã’ã¦å·®ã—ã¦å¼·ã„ã€å›½æ°‘çš„ã‚¢ã‚¤ãƒ‰ãƒ«ãƒ›ãƒ¼ã‚¹ã€‚(2015-2017)'},
                    {n:'ãƒ¡ã‚¸ãƒ­ã‚¢ãƒ«ãƒ€ãƒ³', d:'é«˜æ¾å®®æ¯å„ªå‹ã€‚\nã‚¬ãƒ©ã‚¹ã®è„šã‚’æŒã£ã¦ã„ãŸã€ãƒ¡ã‚¸ãƒ­ã®è²´å…¬å­ã€‚(1987-1991)'},
                    {n:'ã‚µã‚¯ãƒ©ãƒãƒ¨ãƒã‚ªãƒ¼', d:'ãƒ€ãƒ¼ãƒ“ãƒ¼å„ªå‹ã€‚\nãƒ¡ã‚¸ãƒ­ã‚¢ãƒ«ãƒ€ãƒ³ã¨ã®æ¿€ã—ã„å©ãåˆã„ã‚’åˆ¶ã—ãŸã€‚(1987-1989)'},
                    {n:'ã‚·ãƒªã‚¦ã‚¹ã‚·ãƒ³ãƒœãƒª', d:'ãƒ€ãƒ¼ãƒ“ãƒ¼å„ªå‹ã€‚\næ¬§å·é å¾ã‚’æ•¢è¡Œã—ã€ç¾åœ°ã§2å¹´é–“æˆ¦ã£ãŸç•°è‰²ã®çµŒæ­´ã€‚(1984-1988)'},
                    {n:'ãƒ¤ã‚¨ãƒãƒ ãƒ†ã‚­', d:'å¤©çš‡è³(ç§‹)å„ªå‹ã€‚\næ±äº¬ã‚³ãƒ¼ã‚¹ãŒå¾—æ„ãªã€åºœä¸­ã®é¬¼ã€‚(1987-1990)'},
                    {n:'ãƒ¡ã‚¸ãƒ­ãƒ–ãƒ©ã‚¤ãƒˆ', d:'å¤©çš‡è³(æ˜¥)å„ªå‹ã€‚\nãƒ¡ã‚¸ãƒ­ãƒ©ã‚¤ã‚¢ãƒ³ã®ä»£è¡¨ç”£é§’ã€‚(1996-2000)'},
                    {n:'ãƒ‡ã‚¢ãƒªãƒ³ã‚°ã‚¿ã‚¯ãƒˆ', d:'å²ä¸Šåˆã®ç„¡æ•—ã§ã®ç‰é¦¬ä¸‰å† é”æˆã€‚\næ€ªæˆ‘ã¨é—˜ã„ãªãŒã‚‰èµ°ã‚Šç¶šã‘ãŸä¸å±ˆã®ãƒ’ãƒ­ã‚¤ãƒ³ã€‚(2019-2023)'},
                    {n:'ã‚µã‚¯ãƒ©ãƒ­ãƒ¼ãƒ¬ãƒ«', d:'å¤©çš‡è³(æ˜¥)ã€æœ‰é¦¬è¨˜å¿µå„ªå‹ã€‚\nåº¦é‡ãªã‚‹æ€ªæˆ‘ã‚’ä¹—ã‚Šè¶Šãˆã€ãƒŠãƒªã‚¿ãƒ–ãƒ©ã‚¤ã‚¢ãƒ³ã‚’æ’ƒç ´ã€‚(1994-1997)'},
                    {n:'ãƒŠãƒªã‚¿ãƒˆãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰', d:'èŠèŠ±è³å„ªå‹ã€‚\nãƒ†ã‚¤ã‚¨ãƒ ã‚ªãƒšãƒ©ã‚ªãƒ¼ã€ã‚¢ãƒ‰ãƒã‚¤ãƒ¤ãƒ™ã‚¬ã¨ã®ä¸‰å¼·å¯¾æ±ºã€‚(1998-2002)'},
                    {n:'ãƒ¤ãƒãƒ‹ãƒ³ã‚¼ãƒ•ã‚¡ãƒ¼', d:'å®‰ç”°è¨˜å¿µé€£è¦‡ã€å¤©çš‡è³(ç§‹)å„ªå‹ã€‚\nã€Œãã‚ˆé¢¨ã€ã®åã®é€šã‚Šã€è»½ã‚„ã‹ã«é§†ã‘æŠœã‘ãŸã€‚(1990-1993)'},
                    {n:'ãƒ›ãƒƒã‚³ãƒ¼ã‚¿ãƒ«ãƒã‚¨', d:'G1ç´šç«¶èµ°ãƒ»10å‹ã€‚\nãƒ€ãƒ¼ãƒˆç•Œã‚’é•·å¹´ç‰½å¼•ã—ãŸã€Œè‹«å°ç‰§ã®æ˜Ÿã€ã€‚(2012-2016)'},
                    {n:'ãƒ¯ãƒ³ãƒ€ãƒ¼ã‚¢ã‚­ãƒ¥ãƒ¼ãƒˆ', d:'JBCã‚¯ãƒ©ã‚·ãƒƒã‚¯å„ªå‹ã€‚\n9æ­³ã¾ã§èµ°ã‚Šç¶šã‘ã€G1æˆ¦ç·šã§ä½•åº¦ã‚‚å¥½èµ°ã—ãŸã€‚(2009-2015)'},
                    {n:'ã‚³ãƒ‘ãƒãƒªãƒƒã‚­ãƒ¼', d:'G1ç´šç«¶èµ°ãƒ»11å‹ã®æ—¥æœ¬è¨˜éŒ²ä¿æŒè€…ã€‚\næœ€ä½äººæ°—ã§ã®ãƒ•ã‚§ãƒ–ãƒ©ãƒªãƒ¼Så„ªå‹ã‹ã‚‰å§‹ã¾ã£ãŸä¼èª¬ã€‚(2013-2017)'},
                    {n:'ã‚µãƒˆãƒã‚¯ãƒ©ã‚¦ãƒ³', d:'å®å¡šè¨˜å¿µã€é¦™æ¸¯ãƒ´ã‚¡ãƒ¼ã‚ºå„ªå‹ã€‚\næ¸‹ã£ãŸé¦¬å ´ã«æ»…æ³•å¼·ã„å®ŸåŠ›é¦¬ã€‚(2014-2018)'},
                    {n:'ã‚·ãƒ¥ãƒ´ã‚¡ãƒ«ã‚°ãƒ©ãƒ³', d:'ã‚¸ãƒ£ãƒ‘ãƒ³Cå„ªå‹ã€‚\nã‚­ã‚¿ã‚µãƒ³ãƒ–ãƒ©ãƒƒã‚¯ã‚’ç ´ã‚Šã€å¤§é­”ç¥ä½ã€…æœ¨ã‚ªãƒ¼ãƒŠãƒ¼ã«G1ã‚’è´ˆã£ãŸã€‚(2014-2019)'},
                    {n:'ãƒ´ã‚£ãƒ«ã‚·ãƒ¼ãƒŠ', d:'ãƒ´ã‚£ã‚¯ãƒˆãƒªã‚¢ãƒã‚¤ãƒ«é€£è¦‡ã€‚\nã‚¸ã‚§ãƒ³ãƒ†ã‚£ãƒ«ãƒ‰ãƒ³ãƒŠã®ãƒ©ã‚¤ãƒãƒ«ã¨ã—ã¦ã€ç‰é¦¬ä¸‰å† ã™ã¹ã¦2ç€ã€‚(2011-2014)'},
                    {n:'ãƒ´ã‚£ãƒ–ãƒ­ã‚¹', d:'ç§‹è¯è³ã€ãƒ‰ãƒã‚¤ã‚¿ãƒ¼ãƒ•å„ªå‹ã€‚\nå°æŸ„ãªä½“ã§ä¸–ç•Œã‚’åˆ¶ã—ãŸå¤§é­”ç¥ã®æ„›é¦¬ã€‚(2015-2019)'},
                    {n:'ã‚·ãƒ³ãƒœãƒªã‚¯ãƒªã‚¹ã‚¨ã‚¹', d:'å¤©çš‡è³(ç§‹)ã€æœ‰é¦¬è¨˜å¿µé€£è¦‡ã€‚\næ¼†é»’ã®é¦¬ä½“ã§åœ§å€’çš„ãªå¼·ã•ã‚’è¦‹ã›ãŸã€‚(2001-2003)'},
                    {n:'ã‚¿ãƒ‹ãƒã‚®ãƒ ãƒ¬ãƒƒãƒˆ', d:'ãƒ€ãƒ¼ãƒ“ãƒ¼å„ªå‹ã€‚\nã‚¦ã‚ªãƒƒã‚«ã®çˆ¶ã€‚æŸµã‚’ç ´å£Šã™ã‚‹ã“ã¨ã§æœ‰åã€‚(2001-2002)'},
                    {n:'ãƒãƒ¼ã‚¹ãƒ•ãƒ©ã‚¤ãƒˆ', d:'å®‰ç”°è¨˜å¿µã€ãƒã‚¤ãƒ«CSå„ªå‹ã€‚\nã€Œãƒ•ãƒ¼ã¡ã‚ƒã‚“ã€ã€‚ã‚µã‚¯ãƒ©ãƒã‚¯ã‚·ãƒ³ã‚ªãƒ¼ã¨åå‹è² ã‚’ç¹°ã‚Šåºƒã’ãŸã€‚(1993-1994)'},
                    {n:'ãƒ‰ã‚¥ãƒ©ãƒ¡ãƒ³ãƒ†', d:'çšæœˆè³ãƒ»ãƒ€ãƒ¼ãƒ“ãƒ¼ã®äºŒå† é¦¬ã€‚\nè’ã€…ã—ã„å¼·ã•ã‚’è¦‹ã›ãŸãŒã€æ€ªæˆ‘ã§æ—©æœŸå¼•é€€ã€‚(2014-2016)'},
                    {n:'ãƒ©ã‚¤ãƒ³ã‚¯ãƒ©ãƒ•ãƒˆ', d:'æ¡œèŠ±è³ã€NHKãƒã‚¤ãƒ«Cå„ªå‹ã€‚\nå¤‰å‰‡äºŒå† ã‚’é”æˆã—ãŸå¿«é€Ÿç‰é¦¬ã€‚(2004-2006)'},
                    {n:'ã‚·ãƒ¼ã‚¶ãƒªã‚ª', d:'æ—¥ç±³ã‚ªãƒ¼ã‚¯ã‚¹åˆ¶è¦‡ã€‚\nã‚¢ãƒ¡ãƒªã‚«ãƒ³ã‚ªãƒ¼ã‚¯ã‚¹ã§ã®åœ§å‹åŠ‡ã¯ä¼èª¬ã€‚(2004-2005)'},
                    {n:'ã‚¨ã‚¢ãƒ¡ã‚µã‚¤ã‚¢', d:'ç§‹è¯è³å„ªå‹ã€‚\nãƒ©ã‚¤ãƒ³ã‚¯ãƒ©ãƒ•ãƒˆã€ã‚·ãƒ¼ã‚¶ãƒªã‚ªã¨åŒä¸–ä»£ã®ãƒ©ã‚¤ãƒãƒ«ã€‚(2004-2006)'},
                    {n:'ãƒ‡ã‚¢ãƒªãƒ³ã‚°ãƒãƒ¼ãƒˆ', d:'åºœä¸­ç‰é¦¬Så„ªå‹ã€‚\nG1ã«ã¯å±Šã‹ãªã‹ã£ãŸãŒã€é‡è³æˆ¦ç·šã§æ´»èºã€‚(2004-2007)'},
                    {n:'ã‚¸ãƒ£ãƒ³ã‚°ãƒ«ãƒã‚±ãƒƒãƒˆ', d:'ãƒ€ãƒ¼ãƒ“ãƒ¼ã€ã‚¸ãƒ£ãƒ‘ãƒ³Cå„ªå‹ã€‚\næ±äº¬ç«¶é¦¬å ´ã®ç”³ã—å­ã€‚é›„å«ã³ã‚’ä¸Šã’ã¦ã‚´ãƒ¼ãƒ«ã—ãŸã€‚(2000-2002)'},
                    {n:'ãƒ“ãƒªãƒ¼ãƒ´', d:'ã‚¹ãƒ—ãƒªãƒ³ã‚¿ãƒ¼ã‚ºSå„ªå‹ã€‚\næ­¦è±Šé¨æ‰‹ã¨ã®ã‚³ãƒ³ãƒ“ã§çŸ­è·é›¢ç•Œã‚’å¸­å·»ã€‚(2000-2003)'},
                    {n:'ã‚¹ãƒ†ã‚£ãƒ«ã‚¤ãƒ³ãƒ©ãƒ–', d:'å²ä¸Š2é ­ç›®ã®ç‰é¦¬ä¸‰å† é¦¬ã€‚\nå¹¸è‹±æ˜é¨æ‰‹ã¨å…±ã«ã€å¯æ†ã«é§†ã‘æŠœã‘ãŸã€‚(2002-2005)'},
                    {n:'ãƒ¡ã‚¸ãƒ­ãƒ©ãƒ¢ãƒ¼ãƒŒ', d:'å²ä¸Šåˆã®ç‰é¦¬ä¸‰å† é¦¬ã€‚\nãƒˆãƒ©ã‚¤ã‚¢ãƒ«ã‚’å«ã‚ãŸå®Œå…¨åˆ¶è¦‡ã‚’æˆã—é‚ã’ãŸã€‚(1985-1986)'},
                    {n:'ã‚¢ã‚¹ãƒˆãƒ³ãƒãƒ¼ãƒãƒ£ãƒ³', d:'ã‚¹ãƒ—ãƒªãƒ³ã‚¿ãƒ¼ã‚ºSå„ªå‹ã€‚\n3æ­³ç‰é¦¬ã¨ã—ã¦31å¹´ã¶ã‚Šã®å¿«æŒ™ã€‚(2006-2007)'},
                    {n:'ã‚±ã‚¤ã‚¨ã‚¹ãƒŸãƒ©ã‚¯ãƒ«', d:'ã‚¹ãƒ¯ãƒ³Så„ªå‹ã€‚\nçŸ­è·é›¢ç•Œã®è¨˜éŒ²æ›´æ–°ã‚’æœŸå¾…ã•ã‚ŒãŸãŒã€ã‚¹ãƒ—ãƒªãƒ³ã‚¿ãƒ¼ã‚ºSã§æ•£ã£ãŸã€‚(1991-1991)'},
                    {n:'ãƒ€ã‚¤ã‚¤ãƒãƒ«ãƒ“ãƒ¼', d:'å®‰ç”°è¨˜å¿µã€ã‚¹ãƒ—ãƒªãƒ³ã‚¿ãƒ¼ã‚ºSå„ªå‹ã€‚\nã€Œè¯éº—ãªã‚‹ä¸€æ—ã€ã€‚ã‚±ã‚¤ã‚¨ã‚¹ãƒŸãƒ©ã‚¯ãƒ«ã€ãƒ€ã‚¤ã‚¿ã‚¯ãƒ˜ãƒªã‚ªã‚¹ã¨ã®æ‹ç‰©èªã€‚(1989-1992)'},
                    {n:'ãƒ„ãƒ«ãƒãƒ«ãƒ„ãƒ¨ã‚·', d:'äº¬éƒ½å¤§è³å…¸å„ªå‹ã€‚\nä½“è³ªãŒå¼±ã‹ã£ãŸãŒã€G1ç´šã®å®ŸåŠ›ã‚’æŒã£ã¦ã„ãŸã€‚(1998-2000)'},
                    {n:'ã‚ªãƒ«ãƒ•ã‚§ãƒ¼ãƒ´ãƒ«', d:'ä¸‰å† é¦¬ã€‚æœ‰é¦¬è¨˜å¿µ2å‹ã€å®å¡šè¨˜å¿µå„ªå‹ã€å‡±æ—‹é–€è³2ç€2å›ã€‚\nã€Œé‡‘è‰²ã®æš´å›ã€ã€‚(2010-2013)'},
                    {n:'ã‚¸ã‚§ãƒ³ãƒ†ã‚£ãƒ«ãƒ‰ãƒ³ãƒŠ', d:'ç‰é¦¬ä¸‰å† ã€ã‚¸ãƒ£ãƒ‘ãƒ³Cé€£è¦‡ã€ãƒ‰ãƒã‚¤ã‚·ãƒ¼ãƒCã€æœ‰é¦¬è¨˜å¿µå„ªå‹ã€‚\nã€Œè²´å©¦äººã€ã€‚ã‚ªãƒ«ãƒ•ã‚§ãƒ¼ãƒ´ãƒ«ã‚’å¼¾ãé£›ã°ã—ãŸã€‚(2011-2014)'},
                    {n:'ã‚¦ã‚¤ãƒ³ãƒãƒªã‚¢ã‚·ã‚ªãƒ³', d:'æ—¥çµŒè³å„ªå‹ã€‚\nã‚ªãƒ«ãƒ•ã‚§ãƒ¼ãƒ´ãƒ«ã®ãƒ©ã‚¤ãƒãƒ«ã¨ã—ã¦ã€ä½•åº¦ã‚‚2ç€ã«å…¥ã£ãŸã€‚(2010-2015)'},
                    {n:'ãƒ–ã‚¨ãƒŠãƒ“ã‚¹ã‚¿', d:'æ¡œèŠ±è³ã€ã‚ªãƒ¼ã‚¯ã‚¹ã€å¤©çš‡è³(ç§‹)ãªã©G1ãƒ»6å‹ã€‚\nã‚¹ãƒšã‚·ãƒ£ãƒ«ã‚¦ã‚£ãƒ¼ã‚¯ã®æœ€é«˜å‚‘ä½œã€‚(2008-2011)'},
                    {n:'ã‚«ãƒ„ãƒ©ã‚®ã‚¨ãƒ¼ã‚¹', d:'æ—¥æœ¬é¦¬ã¨ã—ã¦åˆã‚ã¦ã‚¸ãƒ£ãƒ‘ãƒ³ã‚«ãƒƒãƒ—ã‚’åˆ¶è¦‡ã€‚\nãƒŸã‚¹ã‚¿ãƒ¼ã‚·ãƒ¼ãƒ“ãƒ¼ã€ã‚·ãƒ³ãƒœãƒªãƒ«ãƒ‰ãƒ«ãƒ•ã‚’å°ã˜è¾¼ã‚ãŸã€‚(1982-1984)'},
                    {n:'ãƒã‚ªãƒ¦ãƒ‹ãƒ´ã‚¡ãƒ¼ã‚¹', d:'çšæœˆè³ã€ãƒ€ãƒ¼ãƒ“ãƒ¼ã®äºŒå† é¦¬ã€‚\nãƒŸãƒ«ã‚³ãƒ»ãƒ‡ãƒ ãƒ¼ãƒ­ã«åˆã®ãƒ€ãƒ¼ãƒ“ãƒ¼åˆ¶è¦‡ã‚’è´ˆã£ãŸã€‚(2002-2004)'},
                    {n:'ãƒ’ã‚·ãƒŸãƒ©ã‚¯ãƒ«', d:'èŠèŠ±è³ã€å¤©çš‡è³(æ˜¥)ã€å®å¡šè¨˜å¿µå„ªå‹ã€‚\näººæ°—è–„ã§æ¿€èµ°ã™ã‚‹ã€Œå¥‡è·¡ã®ãŠã˜ã•ã‚“ã€ã€‚(2001-2003)'},
                    {n:'ã‚¿ãƒƒãƒ—ãƒ€ãƒ³ã‚¹ã‚·ãƒãƒ¼', d:'ã‚¸ãƒ£ãƒ‘ãƒ³Cã€å®å¡šè¨˜å¿µå„ªå‹ã€‚\nç‹¬è‡ªã®é€ƒã’ã‚¹ã‚¿ã‚¤ãƒ«ã§ä¸–ç•Œã‚’é©šã‹ã›ãŸã€‚(1999-2005)'},
                    {n:'ãƒˆãƒ©ãƒ³ã‚»ãƒ³ãƒ‰', d:'ã‚¸ãƒ£ãƒ‘ãƒ³Cãƒ€ãƒ¼ãƒˆé€£è¦‡ã€‚\nãƒ‰ãƒã‚¤WCã§ãƒ´ã‚£ã‚¯ãƒˆãƒ¯ãƒ¼ãƒ«ãƒ”ã‚µã¨ãƒ¯ãƒ³ãƒ„ãƒ¼ã‚’æ±ºã‚ãŸã€‚(2009-2012)'},
                    {n:'ã‚¨ã‚¹ãƒãƒ¯ãƒ¼ãƒ«ã‚·ãƒãƒ¼', d:'ã‚¸ãƒ£ãƒ‘ãƒ³Cãƒ€ãƒ¼ãƒˆã€ãƒ•ã‚§ãƒ–ãƒ©ãƒªãƒ¼Sãªã©G1ãƒ»9å‹ã€‚\nã‚´ãƒ¼ãƒ«ãƒ‰ã‚¢ãƒªãƒ¥ãƒ¼ãƒ«ã®å¾Œç¶™è€…ã€‚(2008-2013)'},
                    {n:'ãƒ•ãƒªã‚ªãƒ¼ã‚½', d:'åœ°æ–¹ãƒ»èˆ¹æ©‹æ‰€å±ã®é›„ã€‚å¸ç‹è³2å‹ã€ã‚¸ãƒ£ãƒ‘ãƒ³ãƒ€ãƒ¼ãƒˆãƒ€ãƒ¼ãƒ“ãƒ¼å„ªå‹ã€‚\nä¸­å¤®é¦¬ã¨äº’è§’ã«æ¸¡ã‚Šåˆã£ãŸã€‚(2006-2012)'},
                    {n:'ã‚µãƒ ã‚½ãƒ³ãƒ“ãƒƒã‚°', d:'ãã•ã‚‰ãè³3ç€ã€‚ãƒŠãƒªã‚¿ãƒ–ãƒ©ã‚¤ã‚¢ãƒ³ä¸–ä»£ã€‚\nã‚¦ãƒå¨˜ã§ã¯ã€Œå‹äººã€æ ã®ã‚ˆã†ãªç«‹ã¡ä½ç½®ã€‚(1993-1997)'},
                    {n:'ãƒ­ã‚¤ã‚¹ã‚¢ãƒ³ãƒ‰ãƒ­ã‚¤ã‚¹', d:'é‡è³æœªå‹åˆ©ã ãŒã€G1ã§3ç€3å›ã€‚\nã€Œæœ€å¼·ã®æœªå‹åˆ©é¦¬ã€ãªã‚‰ã¬ã€Œæœ€å¼·ã®é‡è³æœªå‹åˆ©é¦¬ã€ã€‚(1992-1996)'},
                    {n:'ãƒ‡ãƒ¥ãƒ©ãƒ³ãƒ€ãƒ«', d:'ãƒã‚¤ãƒ«CSé€£è¦‡ã€ã‚¹ãƒ—ãƒªãƒ³ã‚¿ãƒ¼ã‚ºSå„ªå‹ã€‚\nã€Œè–å‰£ã€ã€‚æ€’æ¶›ã®è¿½ã„è¾¼ã¿ã§ãƒ•ã‚¡ãƒ³ã‚’é­…äº†ã€‚(2001-2005)'},
                    {n:'ã‚«ãƒ«ã‚¹ãƒˆãƒ³ãƒ©ã‚¤ãƒˆã‚ª', d:'ã‚¹ãƒ—ãƒªãƒ³ã‚¿ãƒ¼ã‚ºSå„ªå‹ã€‚\nç›´ç·šã®ç«¶é¦¬å ´ãªã‚‰ç„¡é¡ã®å¼·ã•ã‚’ç™ºæ®ã—ãŸéŸ‹é§„å¤©ã€‚(2000-2005)'},
                    {n:'ãƒãƒ–ãƒ«ã‚¬ãƒ ãƒ•ã‚§ãƒ­ãƒ¼', d:'å¤©çš‡è³(ç§‹)å„ªå‹ã€‚\næˆ¦å¾Œåˆã®3æ­³ï¼ˆæ—§4æ­³ï¼‰ã§ã®å¤©çš‡è³åˆ¶è¦‡ã€‚(1995-1997)'},
                    {n:'ã‚·ãƒ¼ã‚¶ãƒªã‚ª', d:'æ—¥ç±³ã‚ªãƒ¼ã‚¯ã‚¹åˆ¶è¦‡ã€‚\næ¯ã¨ã—ã¦ã‚‚ã‚¨ãƒ”ãƒ•ã‚¡ãƒã‚¤ã‚¢ãªã©ã‚’è¼©å‡ºã—ãŸåç‰ã€‚(2004-2005)'},
                    {n:'ãƒ–ãƒ­ãƒ¼ãƒ‰ã‚¢ãƒ”ãƒ¼ãƒ«', d:'æ ¹å²¸Så„ªå‹ã€‚\nãƒ€ãƒ¼ãƒˆã§ã®é¬¼è„šè¿½ã„è¾¼ã¿ã¯ä»Šè¦‹ã¦ã‚‚è¡æ’ƒçš„ã€‚(1998-2002)'},
                    {n:'ã‚¢ãƒ‘ãƒ‘ãƒ', d:'å²ä¸Š3é ­ç›®ã®ç‰é¦¬ä¸‰å† é¦¬ã€‚\nã‚µãƒ³ãƒ†ãƒŸãƒªã‚ªãƒ³ã¨ã®ã‚ªãƒ¼ã‚¯ã‚¹åŒç€å„ªå‹ã¯ä¼èª¬ã€‚(2009-2012)'},
                    {n:'ãƒ’ãƒ ãƒ¤ãƒ¼', d:'19ä¸–ç´€ã®ã‚¢ãƒ¡ãƒªã‚«ç¨®ç‰¡é¦¬ã€‚ã‚¦ãƒå¨˜ã®å®‰å¿ƒæ²¢åˆºã€…ç¾ã®å…ƒãƒã‚¿â€¦ã‹ã‚‚ã—ã‚Œãªã„ã€‚\n(1875-1905)'},
                    {n:'ãƒ¢ãƒ³ã‚¸ãƒ¥ãƒ¼', d:'å‡±æ—‹é–€è³ã§ã‚¨ãƒ«ã‚³ãƒ³ãƒ‰ãƒ«ãƒ‘ã‚µãƒ¼ã‚’ç ´ã£ãŸæ—¥æœ¬ã®å®¿æ•µã€‚\nã‚¦ãƒå¨˜ã®ã€Œãƒ–ãƒ­ãƒ¯ã‚¤ã‚¨ã€ã®ãƒ¢ãƒ‡ãƒ«ã€‚(1998-2000)'},
                    {n:'ã‚µãƒˆãƒã‚¯ãƒ©ã‚¦ãƒ³', d:'å®å¡šè¨˜å¿µã€é¦™æ¸¯ãƒ´ã‚¡ãƒ¼ã‚ºå„ªå‹ã€‚\nã‚­ã‚¿ã‚µãƒ³ãƒ–ãƒ©ãƒƒã‚¯ã‚’ç ´ã£ãŸå®ŸåŠ›é¦¬ã€‚(2014-2018)'},
                    {n:'ã‚¸ãƒ£ã‚¹ã‚¿ã‚¦ã‚§ã‚¤', d:'å¤©çš‡è³(ç§‹)ã€ãƒ‰ãƒã‚¤DFã€å®‰ç”°è¨˜å¿µå„ªå‹ã€‚\nã€Œä¸–ç•Œä¸€ã€ã®è©•ä¾¡ã‚’å¾—ãŸãƒãƒ¼ãƒ„ã‚¯ãƒ©ã‚¤ç”£é§’ã€‚(2011-2014)'},
                    {n:'ãƒãƒ¼ãƒªãƒ¼ã‚ºãƒ³', d:'çšæœˆè³ã‚’15ç•ªäººæ°—ã§å„ªå‹ã€‚\nèŠèŠ±è³ã§ã®ã‚¹ã‚¿ãƒ¼ãƒˆç›´å¾Œã®è½é¦¬ã‚‚æœ‰åã€‚(2001-2004)'},
                    {n:'ãƒŠãƒªã‚¿ã‚¿ã‚¤ã‚·ãƒ³', d:'çšæœˆè³å„ªå‹ã€‚\nBNWã®ä¸€è§’ã€‚å°æŸ„ãªä½“ã‹ã‚‰ã®é¬¼è„šã€‚(1992-1995)'},
                    {n:'ãƒ“ã‚³ãƒ¼ãƒšã‚¬ã‚µã‚¹', d:'ã‚¹ãƒ—ãƒªãƒ³ã‚¿ãƒ¼ã‚ºSã§2ç€2å›ã€‚\nãƒ’ãƒ¼ãƒ­ãƒ¼åˆ—ä¼ã€Œãªãœã ã‹ã€ä¸€ç­‰è³ãŒã¨ã‚Œãªã„ã€‚ã€(1993-1998)'},
                    {n:'ã‚¤ã‚¯ãƒãƒ‡ã‚£ã‚¯ã‚¿ã‚¹', d:'ã€Œé‰„ã®å¥³ã€ã€‚51æˆ¦èµ°ã‚ŠæŠœãã€æ•…éšœçŸ¥ã‚‰ãšã€‚\nå®‰ç”°è¨˜å¿µ2ç€ãªã©ã€ç©´ã‚’é–‹ã‘ã‚‹ã“ã¨ã‚‚ã—ã°ã—ã°ã€‚(1989-1993)'},
                    {n:'ãƒ„ãƒ«ãƒãƒ«ãƒ„ãƒ¨ã‚·', d:'äº¬éƒ½å¤§è³å…¸å„ªå‹ã€æœ‰é¦¬è¨˜å¿µ4ç€ã€‚\nã‚·ãƒ³ãƒœãƒªãƒ«ãƒ‰ãƒ«ãƒ•ç”£é§’ã®éš ã‚ŒãŸå®ŸåŠ›é¦¬ã€‚(1998-2000)'},
                    {n:'ãƒ€ãƒ³ãƒ„ãƒ•ãƒ¬ãƒ¼ãƒ ', d:'å®å¡šè¨˜å¿µå„ªå‹ã€‚\nG1ã§2ç€3å›ã®æœ«ã«æ´ã‚“ã æ „å…‰ã€‚(2000-2003)'},
                    {n:'ã‚±ãƒ¼ã‚¨ã‚¹ãƒŸãƒ©ã‚¯ãƒ«', d:'ã‚¹ãƒ¯ãƒ³Så„ªå‹ã€ãƒã‚¤ãƒ«CS3ç€ã€‚\nã‚¹ãƒ—ãƒªãƒ³ã‚¿ãƒ¼ã‚ºSã§æ•…éšœç™ºç”Ÿã€äºˆå¾Œä¸è‰¯ã¨ãªã£ãŸæ‚²åŠ‡ã®é¦¬ã€‚(1991-1991)'},
                    {n:'ã‚µã‚¯ãƒ©ãƒãƒ¨ãƒã‚ªãƒ¼', d:'æ—¥æœ¬ãƒ€ãƒ¼ãƒ“ãƒ¼å„ªå‹ã€‚\nãƒ¡ã‚¸ãƒ­ã‚¢ãƒ«ãƒ€ãƒ³ã¨ã®å©ãåˆã„ã‚’åˆ¶ã—ãŸã€‚(1987-1989)'},
                    {n:'ã‚·ãƒªã‚¦ã‚¹ã‚·ãƒ³ãƒœãƒª', d:'æ—¥æœ¬ãƒ€ãƒ¼ãƒ“ãƒ¼å„ªå‹ã€‚\næ°—æ€§ã®æ¿€ã—ã•ã§çŸ¥ã‚‰ã‚Œã€æµ·å¤–é å¾ã‚‚è¡Œã£ãŸã€‚(1984-1988)'},
                    {n:'ãƒ¤ã‚¨ãƒãƒ ãƒ†ã‚­', d:'å¤©çš‡è³(ç§‹)å„ªå‹ã€‚\nã‚ªã‚°ãƒªã‚­ãƒ£ãƒƒãƒ—ä¸–ä»£ã®ãƒ©ã‚¤ãƒãƒ«ã®ä¸€é ­ã€‚(1987-1990)'},
                    {n:'ãƒ¡ã‚¸ãƒ­ã‚¢ãƒ«ãƒ€ãƒ³', d:'é«˜æ¾å®®æ¯å„ªå‹ã€‚\nã€Œã‚¬ãƒ©ã‚¹ã®è„šã€ã‚’æŒã¡ãªãŒã‚‰ã€å¸¸ã«å–„æˆ¦ã—ãŸã€‚(1987-1991)'},
                    {n:'ãƒ¡ã‚¸ãƒ­ãƒ–ãƒ©ã‚¤ãƒˆ', d:'å¤©çš‡è³(æ˜¥)å„ªå‹ã€‚\nã‚¹ãƒ†ã‚¤ãƒ¤ãƒ¼ã¨ã—ã¦ã®æ‰èƒ½ã‚’é–‹èŠ±ã•ã›ãŸã€‚(1996-2000)'},
                    {n:'ãƒ‡ã‚¢ãƒªãƒ³ã‚°ãƒãƒ¼ãƒˆ', d:'åºœä¸­ç‰é¦¬Så„ªå‹ã€‚\nG1æˆ¦ç·šã§å¸¸ã«æ²ç¤ºæ¿ã‚’ç¢ºä¿ã™ã‚‹å …å®Ÿæ´¾ã€‚(2004-2007)'},
                    {n:'ãƒ©ã‚¤ãƒ³ã‚¯ãƒ©ãƒ•ãƒˆ', d:'æ¡œèŠ±è³ã€NHKãƒã‚¤ãƒ«Cå„ªå‹ã€‚\nå¤‰å‰‡äºŒå† ã‚’é”æˆã—ãŸåç‰ã€‚æ—©é€ãŒæƒœã—ã¾ã‚Œã‚‹ã€‚(2004-2006)'},
                    {n:'ã‚¨ã‚¢ãƒ¡ã‚µã‚¤ã‚¢', d:'ç§‹è¯è³å„ªå‹ã€‚\næ¯ã‚¨ã‚¢ãƒ‡ã‚¸ãƒ£ãƒ´ãƒ¼ã®ç„¡å¿µã‚’æ™´ã‚‰ã—ãŸã€‚(2004-2006)'},
                    {n:'ã‚·ãƒ¼ã‚¶ãƒªã‚ª', d:'ã‚ªãƒ¼ã‚¯ã‚¹ã€ã‚¢ãƒ¡ãƒªã‚«ãƒ³ã‚ªãƒ¼ã‚¯ã‚¹å„ªå‹ã€‚\næ—¥ç±³ã®æ¨«ã®å¥³ç‹ã€‚(2004-2005)'},
                    {n:'ã‚­ãƒ³ã‚°ã‚«ãƒ¡ãƒãƒ¡ãƒ', d:'NHKãƒã‚¤ãƒ«Cã€ãƒ€ãƒ¼ãƒ“ãƒ¼ã®å¤‰å‰‡äºŒå† ã€‚\nç¨®ç‰¡é¦¬ã¨ã—ã¦ã‚‚å¤§æˆåŠŸã‚’åã‚ãŸå¤§ç‹ã€‚(2003-2004)'},
                    {n:'ãƒ€ãƒãƒ³ã‚·ãƒ£ãƒ³ãƒ†ã‚£', d:'NHKãƒã‚¤ãƒ«Cå„ªå‹ã€‚\nãƒ¬ã‚³ãƒ¼ãƒ‰å‹ã¡ã®å®Ÿç¸¾ã‚’æŒã¤ã€‚(2009-2012)'},
                    {n:'ãƒ´ã‚£ã‚¯ãƒˆãƒ¯ãƒ¼ãƒ«ãƒ”ã‚µ', d:'ãƒ‰ãƒã‚¤ãƒ¯ãƒ¼ãƒ«ãƒ‰ã‚«ãƒƒãƒ—å„ªå‹ã€‚\næ—¥æœ¬é¦¬åˆã®å¿«æŒ™ã‚’æˆã—é‚ã’ãŸã€‚(2009-2011)'},
                    {n:'ãƒŠã‚«ãƒ¤ãƒãƒ•ã‚§ã‚¹ã‚¿', d:'å®å¡šè¨˜å¿µå„ªå‹ã€å‡±æ—‹é–€è³2ç€ã€‚\nã‚¹ãƒ†ã‚¤ã‚´ãƒ¼ãƒ«ãƒ‰ç”£é§’ã®å‹è² å¼·ã•ã€‚(2008-2011)'},
                    {n:'ãƒˆãƒ¼ã‚»ãƒ³ã‚¸ãƒ§ãƒ¼ãƒ€ãƒ³', d:'å¤©çš‡è³(ç§‹)å„ªå‹ã€‚\nãƒ¬ã‚³ãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ 1:56.1ã¯ä¼èª¬ã€‚(2008-2014)'},
                    {n:'ãƒ•ã‚§ãƒãƒ¼ãƒ¡ãƒ', d:'å¤©çš‡è³(æ˜¥)é€£è¦‡ã€‚\nã€Œæ€ªç‰©ã€ã‚´ãƒ¼ãƒ«ãƒ‰ã‚·ãƒƒãƒ—ã«ç«‹ã¡å‘ã‹ã£ãŸã€‚(2011-2015)'},
                    {n:'ã‚¨ãƒ”ãƒ•ã‚¡ãƒã‚¤ã‚¢', d:'èŠèŠ±è³ã€ã‚¸ãƒ£ãƒ‘ãƒ³Cå„ªå‹ã€‚\nç¨®ç‰¡é¦¬ã¨ã—ã¦ã‚‚ä¸‰å† é¦¬ãƒ‡ã‚¢ãƒªãƒ³ã‚°ã‚¿ã‚¯ãƒˆã‚’è¼©å‡ºã€‚(2012-2014)'},
                    {n:'ã‚­ã‚ºãƒŠ', d:'æ—¥æœ¬ãƒ€ãƒ¼ãƒ“ãƒ¼å„ªå‹ã€‚\nã€Œçµ†ã€ã€‚æ­¦è±Šé¨æ‰‹ã¨ã®ã‚³ãƒ³ãƒ“ã§æ„Ÿå‹•ã‚’å‘¼ã‚“ã ã€‚(2012-2015)'},
                    {n:'ãƒãƒ¼ãƒ—ã‚¹ã‚¿ãƒ¼', d:'æ¡œèŠ±è³å„ªå‹ã€‚\næœ€å¾Œæ–¹ã‹ã‚‰ã®é©šç•°çš„ãªã”ã¼ã†æŠœãã€‚(2013-2014)'},
                    {n:'ãƒ¢ãƒ¼ãƒªã‚¹', d:'å®‰ç”°è¨˜å¿µã€å¤©çš‡è³(ç§‹)ã€é¦™æ¸¯ã‚«ãƒƒãƒ—ãªã©G1ãƒ»6å‹ã€‚\nã‚¢ã‚¸ã‚¢ã®ãƒã‚¤ãƒ«ç‹ã‹ã‚‰ä¸­è·é›¢ã®å¸ç‹ã¸ã€‚(2013-2016)'},
                    {n:'ãƒªãƒãƒ†ã‚£ã‚¢ã‚¤ãƒ©ãƒ³ãƒ‰', d:'ç‰é¦¬ä¸‰å† é”æˆã€‚\nåœ§å€’çš„ãªæœ«è„šã§åŒä¸–ä»£ã‚’ã¡ãã‚Šæ¨ã¦ãŸã€‚(2022-)'},
                    
                    // --- ãã®ä»– åé¦¬ (æœŸé–“ä»˜ã) ---
                    {n:'ãƒ‡ã‚£ãƒ¼ãƒ—ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆ', d:'ã€Œè‹±é›„ã€ã€‚ç„¡æ•—ã®ä¸‰å† é¦¬ã€‚G1ãƒ»7å‹ã€‚\næ—¥æœ¬ç«¶é¦¬å²ä¸Šæœ€å¼·ã®å‘¼ã³å£°é«˜ã„ã€‚(2004-2006)'},
                    {n:'ã‚¢ãƒ¼ãƒ¢ãƒ³ãƒ‰ã‚¢ã‚¤', d:'ç‰é¦¬ä¸‰å† ã€ã‚¸ãƒ£ãƒ‘ãƒ³C2å‹ã€å¤©çš‡è³(ç§‹)2å‹ãªã©G1ãƒ»9å‹ã€‚\næ—¥æœ¬ç«¶é¦¬ã®è‡³å®ã€‚(2017-2020)'},
                    {n:'ã‚¤ã‚¯ã‚¤ãƒãƒƒã‚¯ã‚¹', d:'å¤©çš‡è³(ç§‹)é€£è¦‡ã€æœ‰é¦¬è¨˜å¿µã€ãƒ‰ãƒã‚¤SCã€ã‚¸ãƒ£ãƒ‘ãƒ³Cã€‚\nä¸–ç•Œãƒ©ãƒ³ã‚­ãƒ³ã‚°1ä½ã€‚G1ãƒ»6é€£å‹ã§å¼•é€€ã€‚(2021-2023)'},
                    {n:'ã‚³ãƒ³ãƒˆãƒ¬ã‚¤ãƒ«', d:'ç„¡æ•—ã®ä¸‰å† é¦¬ã€‚ã‚¸ãƒ£ãƒ‘ãƒ³Cå„ªå‹ã€‚\nãƒ‡ã‚£ãƒ¼ãƒ—ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆã®æœ€é«˜å‚‘ä½œã€‚(2019-2021)'},
                    {n:'ã‚°ãƒ©ãƒ³ã‚¢ãƒ¬ã‚°ãƒªã‚¢', d:'æ¡œèŠ±è³ã€å®‰ç”°è¨˜å¿µã€ã‚¹ãƒ—ãƒªãƒ³ã‚¿ãƒ¼ã‚ºSã€ãƒã‚¤ãƒ«CSé€£è¦‡ã€VMã€‚\nçŸ­è·é›¢ãƒ»ãƒã‚¤ãƒ«ã§åœ§å€’çš„ãªå¼·ã•ã€‚(2018-2021)'},
                    {n:'ã‚¨ãƒ•ãƒ•ã‚©ãƒ¼ãƒªã‚¢', d:'çšæœˆè³ã€å¤©çš‡è³(ç§‹)ã€æœ‰é¦¬è¨˜å¿µå„ªå‹ã€‚\nè‹¥ãå¤©æ‰ãƒ»æ¨ªå±±æ­¦å²é¨æ‰‹ã®ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã€‚(2020-2022)'},
                    {n:'ãƒ­ãƒ¼ãƒ‰ã‚«ãƒŠãƒ­ã‚¢', d:'ã‚¹ãƒ—ãƒªãƒ³ã‚¿ãƒ¼ã‚ºSé€£è¦‡ã€é¦™æ¸¯ã‚¹ãƒ—ãƒªãƒ³ãƒˆé€£è¦‡ã€‚\næ—¥æœ¬ç«¶é¦¬å²ä¸Šæœ€å¼·ã®çŸ­è·é›¢é¦¬ã€‚(2010-2013)'},
                    {n:'ãƒãƒ¼ãƒ„ã‚¯ãƒ©ã‚¤', d:'æœ‰é¦¬è¨˜å¿µã€ãƒ‰ãƒã‚¤ã‚·ãƒ¼ãƒCå„ªå‹ã€‚\nå›½å†…ã§å”¯ä¸€ãƒ‡ã‚£ãƒ¼ãƒ—ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆã‚’ç ´ã£ãŸé¦¬ã€‚(2004-2006)'},
                    {n:'ãƒªã‚¹ã‚°ãƒ©ã‚·ãƒ¥ãƒ¼', d:'æœ‰é¦¬è¨˜å¿µã€å®å¡šè¨˜å¿µã€ã‚³ãƒƒã‚¯ã‚¹ãƒ—ãƒ¬ãƒ¼ãƒˆå„ªå‹ã€‚\nå¼•é€€ãƒ¬ãƒ¼ã‚¹ã§ã®åœ§å‹åŠ‡ã¯ä¼èª¬ã€‚(2016-2019)'},
                    {n:'ã‚¯ãƒ­ãƒã‚¸ã‚§ãƒã‚·ã‚¹', d:'å®å¡šè¨˜å¿µé€£è¦‡ã€æœ‰é¦¬è¨˜å¿µå„ªå‹ã€‚\nã‚°ãƒ©ãƒ³ãƒ—ãƒª3é€£è¦‡ã®å‰æ¥­ã€‚(2018-2021)'},
                    {n:'ã‚¿ã‚¤ãƒˆãƒ«ãƒ›ãƒ«ãƒ€ãƒ¼', d:'èŠèŠ±è³ã€å¤©çš‡è³(æ˜¥)ã€å®å¡šè¨˜å¿µå„ªå‹ã€‚\né€ƒã’ã¦å‹ã¤ã‚¹ã‚¿ã‚¤ãƒ«ã§ãƒ•ã‚¡ãƒ³ã‚’é­…äº†ã€‚(2020-2023)'},
                    {n:'ãƒ‘ãƒ³ã‚µãƒ©ãƒƒã‚µ', d:'ã‚µã‚¦ã‚¸ã‚«ãƒƒãƒ—ã€ãƒ‰ãƒã‚¤ã‚¿ãƒ¼ãƒ•å„ªå‹ã€‚\nã€Œä»¤å’Œã®ãƒ„ã‚¤ãƒ³ã‚¿ãƒ¼ãƒœã€ã€‚ä¸–ç•Œã®ãƒ‘ãƒ³ã‚µãƒ©ãƒƒã‚µã€‚(2019-2023)'},
                    {n:'ã‚¦ã‚·ãƒ¥ãƒãƒ†ã‚½ãƒ¼ãƒ­', d:'ãƒ‰ãƒã‚¤ãƒ¯ãƒ¼ãƒ«ãƒ‰ã‚«ãƒƒãƒ—ã€æ±äº¬å¤§è³å…¸é€£è¦‡ã€‚\nãƒ€ãƒ¼ãƒˆç•Œã®æ€ªç‰©ã€‚(2019-)'},
                    {n:'ã‚½ãƒ€ã‚·', d:'æ¡œèŠ±è³ã€ãƒ´ã‚£ã‚¯ãƒˆãƒªã‚¢ãƒã‚¤ãƒ«ã€æœ­å¹Œè¨˜å¿µå„ªå‹ã€‚\nä¸–ç•Œåˆã®ç™½æ¯›G1é¦¬ã€‚(2020-2023)'},
                    {n:'ãƒ©ãƒ´ã‚ºã‚ªãƒ³ãƒªãƒ¼ãƒ¦ãƒ¼', d:'ã‚ªãƒ¼ã‚¯ã‚¹ã€BCãƒ•ã‚£ãƒªãƒ¼ï¼†ãƒ¡ã‚¢ã‚¿ãƒ¼ãƒ•ã€é¦™æ¸¯ã‚«ãƒƒãƒ—å„ªå‹ã€‚\nä¸–ç•Œã‚’è‚¡ã«ã‹ã‘ãŸåç‰ã€‚(2018-2021)'},
                    {n:'ãƒãƒ«ã‚·ãƒ¥ãƒ­ãƒ¬ãƒ¼ãƒŒ', d:'BCãƒ‡ã‚£ã‚¹ã‚¿ãƒ•å„ªå‹ã€‚\næ—¥æœ¬é¦¬åˆã®ç±³å›½ãƒ€ãƒ¼ãƒˆG1åˆ¶è¦‡ã¨ã„ã†å¿«æŒ™ã€‚(2018-2021)'},
                    {n:'ã‚·ãƒ£ãƒ•ãƒªãƒ¤ãƒ¼ãƒ«', d:'æ—¥æœ¬ãƒ€ãƒ¼ãƒ“ãƒ¼ã€ãƒ‰ãƒã‚¤ã‚·ãƒ¼ãƒCå„ªå‹ã€‚\nãƒ‡ã‚£ãƒ¼ãƒ—ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆç”£é§’ã®ãƒ€ãƒ¼ãƒ“ãƒ¼é¦¬ã€‚(2020-)'},
                    {n:'ãƒ‰ã‚¦ãƒ‡ãƒ¥ãƒ¼ã‚¹', d:'æ—¥æœ¬ãƒ€ãƒ¼ãƒ“ãƒ¼ã€æœ‰é¦¬è¨˜å¿µå„ªå‹ã€‚\næ­¦è±Šé¨æ‰‹ã¨å…±ã«ä¸–ç•Œã‚’ç›®æŒ‡ã™ã€‚(2021-)'},
                    {n:'ã‚¹ã‚¿ãƒ¼ã‚ºã‚ªãƒ³ã‚¢ãƒ¼ã‚¹', d:'æ¡œèŠ±è³ã€ã‚ªãƒ¼ã‚¯ã‚¹ã®äºŒå† ç‰é¦¬ã€‚\né©šç•°çš„ãªå®‰å®šæ„Ÿã§é¦¬åˆ¸åœå†…ã‚’å¤–ã•ãªã„ã€‚(2021-)'},
                    {n:'ã‚½ãƒ¼ãƒ«ã‚ªãƒªã‚¨ãƒ³ã‚¹', d:'çšæœˆè³å„ªå‹ã€‚\nå¤§å¤–ä¸€æ°—ã®æœ«è„šã¯è¡æ’ƒçš„ã ã£ãŸã€‚(2022-)'},
                    {n:'ã‚¿ã‚¹ãƒ†ã‚£ã‚¨ãƒ¼ãƒ©', d:'æ—¥æœ¬ãƒ€ãƒ¼ãƒ“ãƒ¼å„ªå‹ã€‚\nã‚µãƒˆãƒã‚¯ãƒ©ã‚¦ãƒ³ç”£é§’ã®åˆG1é¦¬ã€‚(2022-)'},
                    {n:'ãƒ‰ã‚¥ãƒ¬ãƒƒãƒ„ã‚¡', d:'èŠèŠ±è³å„ªå‹ã€‚\næ¡ä»¶æˆ¦ã‹ã‚‰5é€£å‹ã§ã‚¯ãƒ©ã‚·ãƒƒã‚¯ã‚’åˆ¶ã—ãŸã€‚(2022-)'},
                    {n:'ã‚¸ãƒ£ã‚¹ãƒ†ã‚£ãƒ³ãƒ‘ãƒ¬ã‚¹', d:'å¤©çš‡è³(æ˜¥)å„ªå‹ã€‚\nãƒ‡ã‚£ãƒ¼ãƒ—ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆç”£é§’ã®é•·è·é›¢ç ²ã€‚(2021-)'},
                    {n:'ãƒãƒã‚³ãƒãƒ£', d:'ã‚¹ãƒ—ãƒªãƒ³ã‚¿ãƒ¼ã‚ºSå„ªå‹ã€‚\nã‚½ãƒ€ã‚·ã®å…¨å¦¹ã€‚(2021-)'},
                    {n:'ãƒŠãƒŸãƒ¥ãƒ¼ãƒ«', d:'ãƒã‚¤ãƒ«CSå„ªå‹ã€‚\nè—¤å²¡åº·å¤ªé¨æ‰‹ã®ä»£æ‰“é¨ä¹—ã§æ‚²é¡˜ã®G1ã¸ã€‚(2021-)'},
                    {n:'ãƒ–ãƒ¬ã‚¤ãƒ‡ã‚£ãƒ´ã‚§ãƒ¼ã‚°', d:'ã‚¨ãƒªã‚¶ãƒ™ã‚¹å¥³ç‹æ¯å„ªå‹ã€‚\nãƒ­ãƒ¼ãƒ‰ã‚«ãƒŠãƒ­ã‚¢ç”£é§’ãªãŒã‚‰ä¸­è·é›¢ã‚’ã“ãªã™ã€‚(2022-)'},
                    {n:'ã‚¢ã‚¹ã‚³ãƒªãƒ”ãƒã‚§ãƒ¼ãƒ', d:'é˜ªç¥JFå„ªå‹ã€‚\nãƒ€ã‚¤ãƒ¯ãƒ¡ã‚¸ãƒ£ãƒ¼ç”£é§’ã®å®Œæˆåº¦ã®é«˜ã„ãƒã‚¤ãƒ©ãƒ¼ã€‚(2023-)'},
                    {n:'ã‚¸ãƒ£ãƒ³ã‚¿ãƒ«ãƒãƒ³ã‚¿ãƒ«', d:'æœæ—¥æ¯FSã€NHKãƒã‚¤ãƒ«Cå„ªå‹ã€‚\nãƒ‘ãƒ¬ã‚¹ãƒãƒªã‚¹ç”£é§’ã®ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¹ã‚¿ãƒ¼ã€‚(2023-)'},
                    {n:'ãƒ¬ã‚¬ãƒ¬ã‚¤ãƒ©', d:'ãƒ›ãƒ¼ãƒ—ãƒ•ãƒ«Så„ªå‹ã€‚\nç‰é¦¬ã¨ã—ã¦åˆã®ãƒ›ãƒ¼ãƒ—ãƒ•ãƒ«Såˆ¶è¦‡ã€‚(2023-)'},
                    {n:'ã‚·ãƒ³ã‚¨ãƒ³ãƒšãƒ©ãƒ¼', d:'å‡±æ—‹é–€è³é¦¬ã‚½ãƒƒãƒˆã‚µã‚¹ã®å…¨å¼Ÿã€‚\næ—¥æœ¬ã§ãƒ‡ãƒ“ãƒ¥ãƒ¼ã—ã€ä¸–ç•Œã‚’ç›®æŒ‡ã™ã€‚(2023-)'},
                    {n:'ãƒ•ã‚©ãƒ¼ã‚¨ãƒãƒ¼ãƒ¤ãƒ³ã‚°', d:'ã‚µã‚¦ã‚¸ãƒ€ãƒ¼ãƒ“ãƒ¼ã€UAEãƒ€ãƒ¼ãƒ“ãƒ¼å„ªå‹ã€‚\nã‚±ãƒ³ã‚¿ãƒƒã‚­ãƒ¼ãƒ€ãƒ¼ãƒ“ãƒ¼3ç€ã®æ€ªç‰©ã€‚(2023-)'},
                    {n:'ãƒ‡ãƒ«ãƒã‚½ãƒˆã‚¬ã‚±', d:'å…¨æ—¥æœ¬2æ­³å„ªé§¿ã€UAEãƒ€ãƒ¼ãƒ“ãƒ¼3ç€ã€BCã‚¯ãƒ©ã‚·ãƒƒã‚¯2ç€ã€‚\næ—¥æœ¬ãƒ€ãƒ¼ãƒˆé¦¬ã®å®ŸåŠ›ã‚’ä¸–ç•Œã«ç¤ºã—ãŸã€‚(2022-)'},
                    {n:'ãƒ¡ã‚¤ã‚·ãƒ§ã‚¦ãƒãƒªã‚ª', d:'å¸ç‹è³é€£è¦‡ã€‚\nãƒ†ãƒ¼ã‚ªãƒ¼ã‚±ã‚¤ãƒ³ã‚ºã‚’ç ´ã£ãŸå®ŸåŠ›é¦¬ã€‚(2019-)'},
                    {n:'ãƒ¬ãƒ¢ãƒ³ãƒãƒƒãƒ—', d:'ãƒ•ã‚§ãƒ–ãƒ©ãƒªãƒ¼Sã€ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã‚ºCå„ªå‹ã€‚\nå›½å†…ãƒ€ãƒ¼ãƒˆç•Œã®ç¾å½¹æœ€å¼·æ ¼ã€‚(2020-)'},
                    {n:'ã‚¸ãƒ£ãƒƒã‚¯ãƒ‰ãƒ¼ãƒ«', d:'å¤§é˜ªæ¯å„ªå‹ã€‚\nã€Œé‡‘è‰²ã®é€ƒäº¡è€…ã€ã€‚2000mã®ã‚¹ãƒšã‚·ãƒ£ãƒªã‚¹ãƒˆã€‚(2020-2023)'},
                    {n:'ãƒ´ã‚§ãƒ©ã‚¢ã‚ºãƒ¼ãƒ«', d:'ã‚¸ãƒ£ãƒ‘ãƒ³Cå„ªå‹ã€‚\nèŠè»¢å‘ã‹ã‚‰ã‚ãšã‹æ•°æˆ¦ã§é ‚ç‚¹ã¸ã€‚(2019-2023)'},
                    {n:'ã‚¸ãƒ¥ãƒ³ãƒ©ã‚¤ãƒˆãƒœãƒ«ãƒˆ', d:'ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã‚ºCå„ªå‹ã€‚\nãƒ€ãƒ¼ãƒˆè»¢å‘å¾Œã«è¦šé†’ã—ãŸã€‚(2019-2023)'},
                    {n:'ã‚«ãƒ•ã‚§ãƒ•ã‚¡ãƒ©ã‚ª', d:'ãƒ•ã‚§ãƒ–ãƒ©ãƒªãƒ¼Sé€£è¦‡ã€‚\næ±äº¬ãƒ€ãƒ¼ãƒˆ1600mã®é¬¼ã€‚(2019-2023)'},
                    {n:'ã‚ªãƒ¡ã‚¬ãƒ‘ãƒ•ãƒ¥ãƒ¼ãƒ ', d:'æ±äº¬å¤§è³å…¸4é€£è¦‡ã€‚\nå¤§äº•ã®2000mã¯ã“ã®é¦¬ã®ãŸã‚ã«ã‚ã£ãŸã€‚(2017-2021)'},
                    {n:'ãƒãƒ¥ã‚¦ãƒ¯ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰', d:'ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã‚ºCã€JBCã‚¯ãƒ©ã‚·ãƒƒã‚¯å„ªå‹ã€‚\nãƒ‰ãƒã‚¤WCã§ã‚‚2ç€ã¨å¥é—˜ã€‚(2017-2022)'},
                    {n:'ã‚µã‚¦ãƒ³ãƒ‰ãƒˆã‚¥ãƒ«ãƒ¼', d:'ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã‚ºCã€æ±äº¬å¤§è³å…¸å„ªå‹ã€‚\nç›´ç·šã®é‹­ã„æœ«è„šãŒæ­¦å™¨ã€‚(2012-2020)'},
                    {n:'ãƒãƒ³ã‚³ãƒãƒ¦ãƒ¡', d:'ãƒ•ã‚§ãƒ–ãƒ©ãƒªãƒ¼Sã€ã‚¸ãƒ£ãƒ‘ãƒ³ãƒ€ãƒ¼ãƒˆãƒ€ãƒ¼ãƒ“ãƒ¼å„ªå‹ã€‚\nã‚»ãƒ³é¦¬ã¨ãªã£ã¦ã‹ã‚‰ã‚‚é•·ãæ´»èºã€‚(2014-2021)'},
                    {n:'ã‚¤ãƒ³ãƒ†ã‚£', d:'ãƒ•ã‚§ãƒ–ãƒ©ãƒªãƒ¼Så„ªå‹ã€‚\næ­¦è±Šé¨æ‰‹ã¨ã®ã‚³ãƒ³ãƒ“ã§é€ƒã’ãŸã€‚(2016-2022)'},
                    {n:'ã‚´ãƒ¼ãƒ«ãƒ‰ãƒ‰ãƒªãƒ¼ãƒ ', d:'ãƒ•ã‚§ãƒ–ãƒ©ãƒªãƒ¼Sã€ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã‚ºCå„ªå‹ã€‚\nãƒ€ãƒ¼ãƒˆç•Œã®å®‰å®šç‹è€…ã€‚(2015-2020)'},
                    {n:'ã‚¯ãƒªã‚½ãƒ™ãƒªãƒ«', d:'ã‚¸ãƒ£ãƒ‘ãƒ³ãƒ€ãƒ¼ãƒˆãƒ€ãƒ¼ãƒ“ãƒ¼ã€ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã‚ºCå„ªå‹ã€‚\nå›½å†…ç„¡æ•—ã§ãƒ€ãƒ¼ãƒˆç•Œã‚’å¸­å·»ã—ãŸã€‚(2018-2021)'},
                    {n:'ãƒ«ãƒ´ã‚¡ãƒ³ã‚¹ãƒ¬ãƒ¼ãƒ´', d:'ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã‚ºCã€ã‚¸ãƒ£ãƒ‘ãƒ³ãƒ€ãƒ¼ãƒˆãƒ€ãƒ¼ãƒ“ãƒ¼å„ªå‹ã€‚\n3æ­³ã§å¤é¦¬ã‚’åœ§å€’ã—ãŸå¤©æ‰ã€‚(2017-2020)'},
                    {n:'ã‚µãƒ³ãƒ‡ãƒ¼ã‚µã‚¤ãƒ¬ãƒ³ã‚¹', d:'ç±³å›½äºŒå† é¦¬ã€‚å¼•é€€å¾Œæ—¥æœ¬ã§ç¨®ç‰¡é¦¬ã¨ãªã‚Šã€ç«¶é¦¬ç•Œã‚’å¤‰ãˆãŸã€‚\nã€Œæ—¥æœ¬ç«¶é¦¬ã®çˆ¶ã€ã€‚(1988-1990)'},
                    {n:'ãƒãƒ¼ã‚¶ãƒ³ãƒ€ãƒ³ã‚µãƒ¼', d:'20ä¸–ç´€æœ€é«˜ã®ç¨®ç‰¡é¦¬ã€‚\nãã®è¡€ã‚’æŒãŸãªã„é¦¬ã‚’æ¢ã™ã®ãŒé›£ã—ã„ã»ã©ã€‚(1963-1964)'},
                    {n:'ã‚»ã‚¯ãƒ¬ã‚¿ãƒªã‚¢ãƒˆ', d:'ã€Œãƒ“ãƒƒã‚°ãƒ»ãƒ¬ãƒƒãƒ‰ã€ã€‚ãƒ™ãƒ«ãƒ¢ãƒ³ãƒˆSã‚’31é¦¬èº«å·®ã§åœ§å‹ã€‚\nã‚¢ãƒ¡ãƒªã‚«å²ä¸Šæœ€å¼·ã®ä¸‰å† é¦¬ã€‚(1972-1973)'},
                    {n:'ãƒ•ãƒ©ãƒ³ã‚±ãƒ«', d:'14æˆ¦14å‹ã€‚G1ãƒ»10å‹ã€‚\næ¬§å·ç«¶é¦¬å²ä¸Šæœ€å¼·ã®æ€ªç‰©ã€‚(2010-2012)'},
                    {n:'ã‚¨ãƒã‚¤ãƒ–ãƒ«', d:'å‡±æ—‹é–€è³é€£è¦‡ã€ã‚­ãƒ³ã‚°ã‚¸ãƒ§ãƒ¼ã‚¸3å‹ã€‚\næ¬§å·èŠä¸­é•·è·é›¢ã®å¥³ç‹ã€‚(2016-2020)'},
                    {n:'ãƒˆãƒ¬ãƒ´', d:'å‡±æ—‹é–€è³é€£è¦‡ã€‚ã‚ªãƒ«ãƒ•ã‚§ãƒ¼ãƒ´ãƒ«ã®å¤¢ã‚’æ‰“ã¡ç •ã„ãŸã€‚\né©šç•°çš„ãªæœ«è„šã€‚(2012-2015)'},
                    {n:'ãƒ€ãƒ³ã‚·ãƒ³ã‚°ãƒ–ãƒ¬ãƒ¼ãƒ´', d:'1986å¹´å‡±æ—‹é–€è³ã€ä¼èª¬ã®è¿½ã„è¾¼ã¿ã€‚\nç¨®ç‰¡é¦¬ã¨ã—ã¦ã‚‚æ—¥æœ¬ã§æ´»èºã€‚(1985-1986)'},
                    {n:'ã‚·ãƒ¼ã‚¶ã‚¹ã‚¿ãƒ¼ã‚º', d:'å‡±æ—‹é–€è³ã€è‹±ãƒ€ãƒ¼ãƒ“ãƒ¼ãªã©G1ãƒ»6é€£å‹ã€‚\nåŠå¹´é–“ã§æ¬§å·ã‚’ç·ãªã‚ã«ã—ãŸã€‚(2008-2009)'},
                    {n:'ã‚¢ãƒ¡ãƒªã‚«ãƒ³ãƒ•ã‚¡ãƒ©ã‚ª', d:'37å¹´ã¶ã‚Šã®ç±³å›½ä¸‰å† é¦¬ã€‚\nBCã‚¯ãƒ©ã‚·ãƒƒã‚¯ã‚‚åˆ¶ã—ã‚°ãƒ©ãƒ³ãƒ‰ã‚¹ãƒ©ãƒ é”æˆã€‚(2014-2015)'},
                    {n:'ãƒ•ãƒ©ã‚¤ãƒˆãƒ©ã‚¤ãƒ³', d:'6æˆ¦6å‹ã€‚ãƒ‘ã‚·ãƒ•ã‚£ãƒƒã‚¯ã‚¯ãƒ©ã‚·ãƒƒã‚¯ã‚’19é¦¬èº«å·®ã§åœ§å‹ã€‚\nç¾ä»£ã®ã‚»ã‚¯ãƒ¬ã‚¿ãƒªã‚¢ãƒˆã€‚(2021-2022)'},
                    {n:'ã‚¦ã‚£ãƒ³ã‚¯ã‚¹', d:'ã‚ªãƒ¼ã‚¹ãƒˆãƒ©ãƒªã‚¢ã®å¥³å¸ã€‚G1ãƒ»25å‹ã€33é€£å‹ã®ä¸–ç•Œè¨˜éŒ²ã€‚\nã‚³ãƒƒã‚¯ã‚¹ãƒ—ãƒ¬ãƒ¼ãƒˆ4é€£è¦‡ã€‚(2013-2019)'},
                    {n:'ãƒ–ãƒ©ãƒƒã‚¯ã‚­ãƒ£ãƒ“ã‚¢', d:'ã‚ªãƒ¼ã‚¹ãƒˆãƒ©ãƒªã‚¢ã®ã‚¹ãƒ—ãƒªãƒ³ãƒˆå¥³ç‹ã€‚25æˆ¦25å‹ã€‚\nçŸ­è·é›¢ã§åœ§å€’çš„ãªå¼·ã•ã€‚(2008-2013)'},
                    {n:'ã‚¢ãƒ­ã‚²ãƒ¼ãƒˆ', d:'ãƒ‰ãƒã‚¤WCã§å‡ºé…ã‚Œã‹ã‚‰ã®ä¼èª¬çš„ãªå·®ã—åˆ‡ã‚Šã€‚\nä¸–ç•Œè³é‡‘ç‹ã«ã‚‚ãªã£ãŸã€‚(2016-2017)'},
                    {n:'ã‚·ã‚¬ãƒ¼', d:'ãƒ€ãƒ¼ãƒˆ16é€£å‹ã®è¨˜éŒ²ã‚’æŒã¤ã‚¢ãƒ¡ãƒªã‚«ã®è‹±é›„ã€‚\nç¬¬1å›ãƒ‰ãƒã‚¤WCè¦‡è€…ã€‚(1992-1996)'},
                    {n:'ãƒ‰ãƒã‚¤ãƒŸãƒ¬ãƒ‹ã‚¢ãƒ ', d:'ã‚´ãƒ‰ãƒ«ãƒ•ã‚£ãƒ³ã®æœ€é«˜å‚‘ä½œã€‚ãƒ‰ãƒã‚¤WCã‚’åœ§å‹ã€‚\nç¨®ç‰¡é¦¬ã¨ã—ã¦ãƒ‰ãƒã‚¦ã‚£ã‚’æ®‹ã—æ—©é€ã€‚(1998-2000)'},
                    {n:'ã‚¬ãƒªãƒ¬ã‚ª', d:'è‹±ãƒ€ãƒ¼ãƒ“ãƒ¼é¦¬ã€‚ç¨®ç‰¡é¦¬ã¨ã—ã¦æ¬§å·ã‚’å¸­å·»ã€‚\nã‚µãƒ‰ãƒ©ãƒ¼ã‚ºã‚¦ã‚§ãƒ«ã‚ºã®å¾Œç¶™ã€‚(2000-2001)'},
                    {n:'ãƒªãƒœãƒ¼', d:'16æˆ¦16å‹ã€‚å‡±æ—‹é–€è³é€£è¦‡ã€‚\nã‚¤ã‚¿ãƒªã‚¢ãŒç”Ÿã‚“ã 20ä¸–ç´€ã‚’ä»£è¡¨ã™ã‚‹åé¦¬ã€‚(1954-1956)'},
                    {n:'ãƒŸãƒ«ãƒªãƒ¼ãƒ•', d:'è‹±ãƒ€ãƒ¼ãƒ“ãƒ¼ã€å‡±æ—‹é–€è³ã€ã‚­ãƒ³ã‚°ã‚¸ãƒ§ãƒ¼ã‚¸ã‚’åˆ¶è¦‡ã€‚\nã€ŒãƒŸãƒ«ãƒªãƒ¼ãƒ•ç³»ã€ã®å§‹ç¥–ã€‚(1970-1972)'},
                    {n:'ãƒ‹ã‚¸ãƒ³ã‚¹ã‚­ãƒ¼', d:'æœ€å¾Œã®è‹±ä¸‰å† é¦¬ã€‚\nãƒãƒ«ã‚¼ãƒ³ã‚¹ã‚­ãƒ¼ã®çˆ¶ã€‚(1969-1970)'},
                    {n:'ã‚·ãƒ£ãƒ¼ã‚¬ãƒ¼', d:'è‹±ãƒ€ãƒ¼ãƒ“ãƒ¼ã‚’10é¦¬èº«å·®ã§åœ§å‹ã€‚\nå¼•é€€å¾Œã«è¡Œæ–¹ä¸æ˜ã¨ãªã£ãŸæ‚²åŠ‡ã®åé¦¬ã€‚(1980-1981)'},
                    {n:'ã‚¼ãƒ‹ãƒ¤ãƒƒã‚¿', d:'ãƒ‡ãƒ“ãƒ¥ãƒ¼ã‹ã‚‰19é€£å‹ã—ãŸã‚¢ãƒ¡ãƒªã‚«ã®å¥³å‚‘ã€‚\nè¿½ã„è¾¼ã¿ã®ã‚¹ã‚¿ã‚¤ãƒ«ã§äººæ°—ã‚’åšã—ãŸã€‚(2007-2010)'},
                    {n:'ã‚´ãƒ¼ãƒ«ãƒ‡ãƒ³ã‚·ãƒƒã‚¯ã‚¹ãƒ†ã‚£', d:'é¦™æ¸¯ã®ãƒã‚¤ãƒ«ç‹ã€‚G1ãƒ»10å‹ã€‚\nåœ°å…ƒã‚·ãƒ£ãƒ†ã‚£ãƒ³ç«¶é¦¬å ´ã§ã®å¼·ã•ã¯åœ§å€’çš„ã€‚(2018-)'},
                    {n:'ãƒ­ãƒãƒ³ãƒãƒƒã‚¯ã‚¦ã‚©ãƒªã‚¢ãƒ¼', d:'é¦™æ¸¯ã®ä¸­è·é›¢ç‹ã€‚ã‚³ãƒƒã‚¯ã‚¹ãƒ—ãƒ¬ãƒ¼ãƒˆã€å®‰ç”°è¨˜å¿µã‚’åˆ¶è¦‡ã€‚\næ—¥æœ¬é¦¬ã«ã¨ã£ã¦ã‚‚å¤§ããªå£ã€‚(2021-)'},
                    {n:'ã‚¢ãƒ«ãƒ”ãƒ‹ã‚¹ã‚¿', d:'8é€£å‹ã§å‡±æ—‹é–€è³ã‚’åˆ¶è¦‡ã€‚\nãƒ‡ã‚£ãƒ¼ãƒ—ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆã®è¡€ã‚’å¼•ãç™½ã„å¥³ç‹ã€‚(2019-2022)'},
                    {n:'ã‚ªãƒ¼ã‚®ãƒ¥ã‚¹ãƒˆãƒ­ãƒ€ãƒ³', d:'ãƒ‡ã‚£ãƒ¼ãƒ—ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆã®ãƒ©ã‚¹ãƒˆã‚¯ãƒ­ãƒƒãƒ—ã€‚\nè‹±æ„›ãƒ€ãƒ¼ãƒ“ãƒ¼ã€BCã‚¿ãƒ¼ãƒ•ãªã©ã‚’åˆ¶è¦‡ã€‚(2022-)'},
                    {n:'ã‚¨ã‚¯ãƒªãƒ—ã‚¹', d:'ã€Œã‚¨ã‚¯ãƒªãƒ—ã‚¹ã€1ç€ã€‚2ç€ãªã—ã€ã€‚\n18ä¸–ç´€ã®ä¼èª¬çš„åé¦¬ã€‚(1769-1770)'},
                    {n:'ã‚­ãƒ³ãƒã‚§ãƒ ', d:'ãƒãƒ³ã‚¬ãƒªãƒ¼ã®å¥‡è·¡ã€‚54æˆ¦54å‹ã€‚\nç«¶é¦¬å²ä¸Šæœ€å¤šã®ç„¡æ•—é€£å‹è¨˜éŒ²ã€‚(1876-1879)'},
                    {n:'ãƒ•ã‚¡ãƒ¼ãƒ©ãƒƒãƒ—', d:'ã‚ªãƒ¼ã‚¹ãƒˆãƒ©ãƒªã‚¢ã®å›½æ°‘çš„è‹±é›„ã€‚\nãƒ¡ãƒ«ãƒœãƒ«ãƒ³ã‚«ãƒƒãƒ—å„ªå‹ã€‚(1929-1932)'},
                    {n:'ã‚·ãƒ¼ãƒãƒ¼ãƒ‰', d:'1965å¹´å‡±æ—‹é–€è³ã‚’é¦¬ãªã‚Šã§åœ§å‹ã€‚\n20ä¸–ç´€æœ€å¼·é¦¬è«–äº‰ã®å¸¸é€£ã€‚(1964-1965)'},
                    {n:'ãƒ–ãƒªã‚¬ãƒ‡ã‚£ã‚¢ã‚¸ã‚§ãƒ©ãƒ¼ãƒ‰', d:'18æˆ¦17å‹ã€‚ãƒŸãƒ«ãƒªãƒ¼ãƒ•ã¨åŒä¸–ä»£ã®æœ€å¼·ãƒã‚¤ãƒ©ãƒ¼ã€‚\nå”¯ä¸€ã®æ•—æˆ¦ã‚‚ä¼èª¬ã€‚(1970-1972)'},
                    {n:'ã‚»ãƒ³ãƒˆãƒ©ã‚¤ãƒˆ', d:'æ—¥æœ¬ç«¶é¦¬å²ä¸Šåˆã®ä¸‰å† é¦¬ã€‚\næˆ¦äº‰ã®å½±ãŒå¿ã³å¯„ã‚‹æ™‚ä»£ã«è¼ã„ãŸã€‚(1940-1941)'},
                    {n:'ã‚·ãƒ³ã‚¶ãƒ³', d:'æˆ¦å¾Œåˆã®ä¸‰å† é¦¬ã€‚ã€Œäº”å† é¦¬ã€ã¨å‘¼ã°ã‚ŒãŸã€‚\næ—¥æœ¬ç«¶é¦¬ã®åŸºç¤ã‚’ç¯‰ã„ãŸä¼èª¬ã®é•·å¯¿é¦¬ã€‚(1963-1965)'},
                    {n:'ãƒˆã‚­ãƒãƒŸãƒãƒ«', d:'10æˆ¦10å‹ã§ãƒ€ãƒ¼ãƒ“ãƒ¼ã‚’åˆ¶è¦‡ã€‚\nãƒ€ãƒ¼ãƒ“ãƒ¼ã®17æ—¥å¾Œã«ç ´å‚·é¢¨ã§æ€¥æ­»ã—ãŸã€Œå¹»ã®é¦¬ã€ã€‚(1950-1951)'},
                    {n:'ã‚¯ãƒªãƒ•ã‚¸', d:'å¤‰å‰‡ä¸‰å† ï¼ˆãƒ€ãƒ¼ãƒ“ãƒ¼ã€ã‚ªãƒ¼ã‚¯ã‚¹ã€èŠèŠ±è³ï¼‰ã‚’é”æˆã€‚\n11æˆ¦11å‹ã®æœ€å¼·ç‰é¦¬ã€‚(1943-1944)'},
                    {n:'ãƒ†ãƒ³ãƒã‚¤ãƒ³ãƒˆ', d:'ã€Œæµæ˜Ÿã®è²´å…¬å­ã€ã€‚ãƒˆã‚¦ã‚·ãƒ§ã‚¦ãƒœãƒ¼ã‚¤ã¨ã®æ¿€é—˜ã€‚\næ‚²é‹ã®æœ€æœŸã‚’é‚ã’ãŸç¾ã—ãæ —æ¯›ã€‚(1975-1977)'},
                    {n:'ãƒˆã‚¦ã‚·ãƒ§ã‚¦ãƒœãƒ¼ã‚¤', d:'ã€Œå¤©é¦¬ã€ã€‚åœ§å€’çš„ãªã‚¹ãƒ”ãƒ¼ãƒ‰ã§é€ƒã’ãŸã€‚\nTTGæ™‚ä»£ã‚’ç¯‰ã„ãŸã€‚(1975-1977)'},
                    {n:'ã‚°ãƒªãƒ¼ãƒ³ã‚°ãƒ©ã‚¹', d:'ã€Œç¬¬ä¸‰ã®ç”·ã€ã€‚TTGã®ä¸€è§’ã€‚\né•·è·é›¢æˆ¦ã§ç„¡é¡ã®å¼·ã•ã‚’ç™ºæ®ã€‚(1975-1979)'},
                    {n:'ã‚«ãƒ–ãƒ©ãƒ¤ã‚ªãƒ¼', d:'ã€Œç‹‚æ°—ã®é€ƒã’é¦¬ã€ã€‚\nãƒ€ãƒ¼ãƒ“ãƒ¼ã‚’é©šç•°çš„ãªãƒšãƒ¼ã‚¹ã§é€ƒã’åˆ‡ã£ãŸäºŒå† é¦¬ã€‚(1974-1976)'},
                    {n:'ãƒ†ã‚¹ã‚³ã‚¬ãƒ“ãƒ¼', d:'ã€Œå¾Œã‚ã‹ã‚‰ã¯ä½•ã«ã‚‚æ¥ãªã„ã€ã€‚\næ¡œèŠ±è³ã‚’å¤§å·®å‹ã¡ã—ãŸå¿«é€Ÿç‰é¦¬ã€‚(1974-1976)'},
                    {n:'ãƒã‚¤ã‚»ã‚¤ã‚³ãƒ¼', d:'åœ°æ–¹ãƒ»å¤§äº•ã‹ã‚‰ä¸­å¤®ã¸ã€‚\nç¬¬ä¸€æ¬¡ç«¶é¦¬ãƒ–ãƒ¼ãƒ ã‚’å·»ãèµ·ã“ã—ãŸã‚¢ã‚¤ãƒ‰ãƒ«ã€‚(1972-1974)'},
                    {n:'ã‚¿ã‚±ãƒ›ãƒ¼ãƒ—', d:'ãƒã‚¤ã‚»ã‚¤ã‚³ãƒ¼ã®ãƒ©ã‚¤ãƒãƒ«ã€‚\nãƒ€ãƒ¼ãƒ“ãƒ¼ã¨èŠèŠ±è³ã§ãƒã‚¤ã‚»ã‚¤ã‚³ãƒ¼ã‚’ç ´ã£ãŸã€‚(1972-1975)'},
                    {n:'ã‚­ãƒ¼ã‚¹ãƒˆãƒ³', d:'ãƒ€ãƒ¼ãƒ“ãƒ¼é¦¬ã€‚\nãƒ¬ãƒ¼ã‚¹ä¸­ã®æ•…éšœã§é¨æ‰‹ã‚’æ°—é£ã†å§¿ãŒæ¶™ã‚’èª˜ã£ãŸã€‚(1964-1967)'},
                    {n:'ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚·ãƒ³ãƒœãƒª', d:'ã‚·ãƒ³ãƒœãƒªãƒ«ãƒ‰ãƒ«ãƒ•ã®æ¯ã®çˆ¶ã€‚\næµ·å¤–é å¾ã®å…ˆé§†ã‘ã¨ã—ã¦æ¬§å·ã‚’è»¢æˆ¦ã€‚(1965-1970)'}
                ];

                // æŠ½é¸å‡¦ç†
                let totalWeight = results.reduce((a, r) => a + r.w, 0);
                let randomVal = Math.random() * totalWeight;
                let pick = results[0];
                for (let r of results) {
                    if (randomVal < r.w) { pick = r; break; }
                    randomVal -= r.w;
                }

                const job = jobs[Math.floor(Math.random() * jobs.length)];
                const shortcut = shortcuts[Math.floor(Math.random() * shortcuts.length)];
                const action = actions[Math.floor(Math.random() * actions.length)];
                const color = colors[Math.floor(Math.random() * colors.length)];
                const item = items[Math.floor(Math.random() * items.length)];
                const lunch = lunches[Math.floor(Math.random() * lunches.length)];
                const anime = animes[Math.floor(Math.random() * animes.length)]; // ã‚¢ãƒ‹ãƒ¡æŠ½é¸
                const movie = movies[Math.floor(Math.random() * movies.length)]; // æ˜ ç”»æŠ½é¸
                const horse = horses[Math.floor(Math.random() * horses.length)]; // â˜…é¦¬æŠ½é¸
                const number = Math.floor(Math.random() * 99) + 1; // 1-99

                // çµæœã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç”Ÿæˆ
                resultData = { pick, job, shortcut, action, color, item, lunch, anime, movie, horse, number };
                
                // ä¿å­˜
                localStorage.setItem(storageKey, JSON.stringify(resultData));
            }
            
            // HTMLçµ„ã¿ç«‹ã¦
            const r = resultData; // çŸ­ç¸®ç”¨
            const pick = r.pick;

            const resEl = document.getElementById('omikuji-result');
            resEl.innerHTML = `<span style="font-size:60px; display:block; margin-bottom:5px;">${pick.i}</span>${pick.k}`;
            resEl.style.color = pick.c;
            
            // èƒŒæ™¯è‰²ã‚’é‹å‹¢ã‚«ãƒ©ãƒ¼ã«åˆã‚ã›ã¦è–„ãè¨­å®š
            const bgStyle = `background:linear-gradient(135deg, ${pick.c}15, #ffffff);`;
            
            const contentHtml = `
                <div style="font-size:13px; color:#555; margin-bottom:15px; font-weight:bold;">${pick.m}</div>
                
                <div style="${bgStyle} padding:15px; border-radius:12px; text-align:left; font-size:12px; line-height:1.8; border:1px solid ${pick.c}30;">
                    <div style="border-bottom:1px dashed #ccc; padding-bottom:5px; margin-bottom:5px;">
                        ğŸ›¡ï¸ <b>æœ¬æ—¥ã®ã‚¸ãƒ§ãƒ–ï¼š</b>${r.job.n} <span style="font-size:10px; color:#161616;">(${r.job.d})</span>
                    </div>
                    
                    <div style="display:flex; flex-wrap:wrap; gap:10px;">
                        <div style="flex:1; min-width:140px;">ğŸ¨ <b>ã‚«ãƒ©ãƒ¼ï¼š</b><span style="color:${r.color.c}; font-weight:bold;">â—</span> ${r.color.n}</div>
                        <div style="flex:1; min-width:140px;">ğŸ”¢ <b>ãƒŠãƒ³ãƒãƒ¼ï¼š</b>${r.number}</div>
                    </div>
                    <div style="display:flex; flex-wrap:wrap; gap:10px;">
                        <div style="flex:1; min-width:140px;">ğŸ‘œ <b>ã‚¢ã‚¤ãƒ†ãƒ ï¼š</b>${r.item}</div>
                        <div style="flex:1; min-width:140px;">ğŸ½ï¸ <b>ãƒ©ãƒ³ãƒï¼š</b>${r.lunch}</div>
                    </div>

                    <div style="margin-top:8px; padding-top:8px; border-top:1px dashed #ccc; display:flex; flex-wrap:wrap; gap:10px;">
                        <div style="flex:1; min-width:140px;">
                            ğŸ“º <b>ã‚¢ãƒ‹ãƒ¡ï¼š</b>${r.anime.t}<br>
                            <span style="font-size:10px; color:#161616;">${r.anime.d}</span>
                        </div>
                        <div style="flex:1; min-width:140px;">
                            ğŸ¬ <b>æ˜ ç”»ï¼š</b>${r.movie.t}<br>
                            <span style="font-size:10px; color:#161616;">${r.movie.d}</span>
                        </div>
                    </div>

                    <div style="margin-top:8px; padding-top:8px; border-top:1px dashed #ccc;">
                        <div style="display:flex; align-items:flex-start; gap:8px;">
                            <span style="font-size:24px;">ğŸ</span>
                            <div>
                                <div style="font-weight:bold;">${r.horse.n}</div>
                                <div style="font-size:10px; color:#161616; white-space: pre-line;">${r.horse.d}</div>
                            </div>
                        </div>
                    </div>

                    <div style="margin-top:5px; padding-top:5px; border-top:1px dashed #ccc;">
                        <div>âŒ¨ï¸ <b>ShortCutï¼š</b>${r.shortcut}</div>
                        <div>âœ¨ <b>Missionï¼š</b>${r.action}</div>
                    </div>
                </div>
            `;

            document.getElementById('omikuji-item').innerHTML = contentHtml;

            // ãƒœãƒ¼ãƒŠã‚¹è¡¨ç¤º
            const bonusEl = document.getElementById('omikuji-bonus');
            if(pick.b > 1) {
                bonusEl.innerHTML = `ğŸ”¥ æœ¬æ—¥ã¯ç²å¾—XP <b>${pick.b}å€</b> ãƒœãƒ¼ãƒŠã‚¹ä¸­ï¼ ğŸ”¥`;
                bonusEl.style.color = '#e67e22';
                sessionStorage.setItem('xp_bonus_rate', pick.b);
            } else if (pick.b < 1) {
                bonusEl.innerHTML = `â˜” æœ¬æ—¥ã¯ç²å¾—XP <b>${pick.b}å€</b> (ä¿®è¡Œãƒ¢ãƒ¼ãƒ‰) â˜”`;
                bonusEl.style.color = '#7f8c8d';
                sessionStorage.setItem('xp_bonus_rate', pick.b);
            } else {
                bonusEl.innerHTML = 'æœ¬æ—¥ã¯XPãƒœãƒ¼ãƒŠã‚¹ãªã—ã€‚å®ŸåŠ›ãŒè©¦ã•ã‚Œã‚‹æ™‚ã§ã™ï¼';
                bonusEl.style.color = '#95a5a6';
                sessionStorage.setItem('xp_bonus_rate', 1);
            }
            
            modal.classList.remove('hidden');
        }

playSe(type) {
            const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain); gain.connect(audioCtx.destination);
            if (type === 'gain') {
                osc.type = 'sine'; osc.frequency.setValueAtTime(880, audioCtx.currentTime); osc.frequency.exponentialRampToValueAtTime(1760, audioCtx.currentTime + 0.1); gain.gain.setValueAtTime(0.1, audioCtx.currentTime); gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.1); osc.start(); osc.stop(audioCtx.currentTime + 0.1);
            } else if (type === 'levelup') {
                osc.type = 'square'; osc.frequency.setValueAtTime(440, audioCtx.currentTime); osc.frequency.setValueAtTime(554, audioCtx.currentTime + 0.1); osc.frequency.setValueAtTime(659, audioCtx.currentTime + 0.2); osc.frequency.setValueAtTime(880, audioCtx.currentTime + 0.3); gain.gain.setValueAtTime(0.1, audioCtx.currentTime); gain.gain.linearRampToValueAtTime(0, audioCtx.currentTime + 0.6); osc.start(); osc.stop(audioCtx.currentTime + 0.6);
            }
        }

        // â–¼ ãƒã‚¹ã‚³ãƒƒãƒˆåˆ¶å¾¡ç”¨ãƒ¡ã‚½ãƒƒãƒ‰
        toggleMascot(enabled) {
            const el = document.getElementById('desktop-mascot');
            if (enabled) {
                el.classList.remove('hidden');
                if (!this.mascotTimer) {
                    this.moveMascot(); // åˆå›ç§»å‹•
                    this.mascotTimer = setInterval(() => this.moveMascot(), 4000);
                }
            } else {
                el.classList.add('hidden');
                if (this.mascotTimer) {
                    clearInterval(this.mascotTimer);
                    this.mascotTimer = null;
                }
            }
        }

        moveMascot() {
            const el = document.getElementById('desktop-mascot');
            const x = Math.random() * (window.innerWidth - 50);
            const y = Math.random() * (window.innerHeight - 50);
            el.style.left = x + 'px'; el.style.top = y + 'px';
            if (Math.random() > 0.5) el.style.transform = 'scaleX(-1)';
            else el.style.transform = 'scaleX(1)';
        }

        pokeMascot() {
            const el = document.getElementById('desktop-mascot');
            el.classList.add('jumping');
            if(this.data.settings.soundSe) this.playSe('gain');
            const msgs = ['ãƒ‹ãƒ£ãƒ¼', 'ä»•äº‹é€²ã‚“ã§ã‚‹ï¼Ÿ', 'ZZZ...', 'ãŠè…¹ã™ã„ãŸ', 'ä¼‘æ†©ã—ã‚ˆã†'];
            this.showToast(msgs[Math.floor(Math.random() * msgs.length)]);
            setTimeout(() => el.classList.remove('jumping'), 500);
        }

// â˜…è¿½åŠ ï¼šæ‰‹å‹•ä¿å­˜æ©Ÿèƒ½
        manualSave() {
            this.save();
            showToast('ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã—ã¾ã—ãŸ');
            if(this.data.settings.soundSe) this.playSe('gain');
        }

        // â˜…ä¿®æ­£ï¼šã‚¯ãƒªãƒƒã‚¯ã§XPç²å¾—ï¼ˆã‚¯ãƒªãƒƒã‚¯å¼·åŒ–è¨ˆç®—ï¼‰
        clickCookie(e) {
            createClickParticle(e.pageX, e.pageY, 'coin');
            
            // ã‚¯ãƒªãƒƒã‚¯ãƒ‘ãƒ¯ãƒ¼è¨ˆç®—: åŸºæœ¬2 + (ãƒã‚¦ã‚¹æ‰€æŒæ•° * 2)
            const mouseCount = this.data.inventory.mouse || 0;
            const clickGain = 2 + (mouseCount * 2);

            const plusEl = document.createElement('div');
            plusEl.textContent = `+${clickGain} XP`;
            plusEl.style.position = 'fixed';
            plusEl.style.left = e.pageX + 'px';
            plusEl.style.top = (e.pageY - 20) + 'px';
            plusEl.style.color = '#ffd700';
            plusEl.style.fontWeight = 'bold';
            plusEl.style.zIndex = 10000;
            plusEl.style.pointerEvents = 'none';
            plusEl.style.textShadow = '0 1px 2px black';
            plusEl.animate([
                { transform: 'translateY(0)', opacity: 1 },
                { transform: 'translateY(-30px)', opacity: 0 }
            ], { duration: 800, fill: 'forwards' });
            document.body.appendChild(plusEl);
            setTimeout(() => plusEl.remove(), 800);

            this.data.xp += clickGain;
            this.checkLevelUp();
            this.renderProfile();
            
            if(this.data.settings.soundSe) this.playSe('gain');
        }

// â˜…ä¿®æ­£ï¼šã‚·ãƒ§ãƒƒãƒ—è³¼å…¥å‡¦ç†ï¼ˆæ¶ˆè²»XPã§ãƒ¬ãƒ™ãƒ«å¤‰å‹•ï¼‰
        buyItem(itemId) {
            const item = SHOP_ITEMS[itemId];
            if (!item) return;

            const currentCount = this.data.inventory[itemId] || 0;
            // ä¾¡æ ¼è¨ˆç®—
            const cost = Math.floor(item.baseCost * Math.pow(1.15, currentCount));

            // XPæ¶ˆè²»ï¼ˆç¾åœ¨ã®XPã‹ã‚‰å¼•ãï¼‰
            if (this.data.xp >= cost) {
                this.data.xp -= cost;
                this.data.inventory[itemId] = currentCount + 1;
                
                // â˜…è¿½åŠ ï¼šXPæ¸›å°‘ã«ä¼´ã„ãƒ¬ãƒ™ãƒ«ã‚’å†è¨ˆç®—
                this.updateLevelFromXp();

                this.save();
                this.renderProfile();
                this.updateShopUI();
                showToast(`${item.name} ã‚’è³¼å…¥ã—ã¾ã—ãŸï¼`);
                
                if(this.data.settings.soundSe) this.playSe('levelup');
            } else {
                showToast('XPãŒè¶³ã‚Šã¾ã›ã‚“ï¼');
            }
        }

// â˜…è¿½åŠ ï¼šç¾åœ¨ã®XPã«åŸºã¥ã„ã¦ãƒ¬ãƒ™ãƒ«ã‚’å†è¨ˆç®—ï¼ˆä¸‹ãŒã‚‹å ´åˆã‚‚å¯¾å¿œï¼‰
        updateLevelFromXp() {
            // ãƒ¬ãƒ™ãƒ«è¨ˆç®—å¼: sqrt(XP / 200) + 1
            const calculatedLevel = Math.floor(Math.sqrt(this.data.xp / XP_BASE)) + 1;
            if (calculatedLevel !== this.data.level) {
                this.data.level = calculatedLevel;
            }
        }

        // â˜…è‡ªå‹•åŒ–ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆ1ç§’ã”ã¨ã«XPåŠ ç®—ï¼‰
startAutoClicker() {
            if (this.autoXpTimer) clearInterval(this.autoXpTimer);
            this.autoXpTimer = setInterval(() => {
                let gain = 0;
                // ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªã«ã‚ã‚‹ã‚¢ã‚¤ãƒ†ãƒ å…¨ã¦ã®è‡ªå‹•å¢—åŠ åˆ†ã‚’è¨ˆç®—
                Object.keys(SHOP_ITEMS).forEach(key => {
                    const item = SHOP_ITEMS[key];
                    if (item.type === 'auto') {
                        const count = this.data.inventory[key] || 0;
                        gain += count * item.xpPerSec;
                    }
                });
                
                if (gain > 0) {
                    this.data.xp += gain;
                    this.checkLevelUp();
                    this.renderProfile();
                }
            }, 1000);
        }

// â˜…ã‚·ãƒ§ãƒƒãƒ—ãƒ¢ãƒ¼ãƒ€ãƒ«ã®è¡¨ç¤ºæ›´æ–°ï¼ˆå…¨ã‚¢ã‚¤ãƒ†ãƒ å¯¾å¿œç‰ˆï¼‰
        updateShopUI() {
            // ã‚·ãƒ§ãƒƒãƒ—ãƒ¢ãƒ¼ãƒ€ãƒ«ã®ä¸­èº«ï¼ˆ.modalã‚¯ãƒ©ã‚¹ã®divï¼‰ã‚’å–å¾—
            const modalBody = document.querySelector('#shop-modal .modal');
            if (!modalBody) return;

            // 1. ãƒ˜ãƒƒãƒ€ãƒ¼éƒ¨åˆ†ã®HTMLã‚’ä½œæˆ
            let itemsHtml = `
                <h3><span class="material-icons">shopping_cart</span> XPã‚·ãƒ§ãƒƒãƒ—</h3>
                <p style="font-size:12px; margin-bottom:15px;">XPã‚’æ¶ˆè²»ã—ã¦ä½œæ¥­ã‚’è‡ªå‹•åŒ–ã—ã‚ˆã†ï¼</p>
            `;

            // 2. SHOP_ITEMS ã®å®šç¾©ã«å¾“ã£ã¦ãƒªã‚¹ãƒˆã‚’ãƒ«ãƒ¼ãƒ—ç”Ÿæˆ
            Object.keys(SHOP_ITEMS).forEach(key => {
                const item = SHOP_ITEMS[key];
                // æ‰€æŒæ•°ã‚’å–å¾—ï¼ˆãªã‘ã‚Œã°0ï¼‰
                const count = this.data.inventory[key] || 0;
                
                // ç¾åœ¨ã®ä¾¡æ ¼ã‚’è¨ˆç®—: åŸºæœ¬ä¾¡æ ¼ * (1.15 ^ æ‰€æŒæ•°)
                const cost = Math.floor(item.baseCost * Math.pow(1.15, count));
                
                // è³¼å…¥å¯èƒ½ã‹åˆ¤å®š
                const canBuy = this.data.xp >= cost;
                
                // ã‚¢ã‚¤ã‚³ãƒ³ã¨èª¬æ˜æ–‡ã®åˆ†å²
                let icon = 'ğŸ¤–';
                let desc = "";
                
                if (item.type === 'click') {
                    icon = 'ğŸ–±ï¸';
                    desc = `ã‚¯ãƒªãƒƒã‚¯ã”ã¨ã®ç²å¾—XPãŒ +${item.clickPower} å¢—åŠ `;
                } else {
                    // ã‚¢ã‚¤ã‚³ãƒ³ã®ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆãŠå¥½ã¿ã§èª¿æ•´å¯èƒ½ï¼‰
                    if (key === 'drone') icon = 'ğŸš';
                    else if (key === 'server') icon = 'ğŸ’»';
                    else if (key === 'matrix') icon = 'ğŸ§¬';
                    else if (key === 'singularity') icon = 'ğŸŒŒ';
                    else if (key === 'godhand') icon = 'ğŸ‘†';
                    
                    desc = `1ç§’ã”ã¨ã« ${item.xpPerSec} XP ã‚’è‡ªå‹•ç²å¾—`;
                }

                // ã‚¢ã‚¤ãƒ†ãƒ ã”ã¨ã®HTMLã‚’è¿½åŠ 
                itemsHtml += `
                <div class="shop-item">
                    <div class="shop-info">
                        <h4>${icon} ${item.name}</h4>
                        <p>${desc}</p>
                        <p style="margin-top:4px;">æ‰€æŒæ•°: <span id="shop-count-${key}">${count}</span></p>
                    </div>
                    <button class="btn-buy" id="btn-buy-${key}" onclick="GM.buyItem('${key}')" ${canBuy ? '' : 'disabled'}>
                        æ¶ˆè²» <span id="cost-${key}">${cost.toLocaleString()}</span> XP
                    </button>
                </div>`;
            });

            // 3. é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
            itemsHtml += `
                <div class="modal-buttons">
                    <button class="btn-save" onclick="document.getElementById('shop-modal').classList.add('hidden')">é–‰ã˜ã‚‹</button>
                </div>
            `;
            
            // 4. ãƒ¢ãƒ¼ãƒ€ãƒ«ã®ä¸­èº«ã‚’ç”Ÿæˆã—ãŸHTMLã§ä¸Šæ›¸ã
            modalBody.innerHTML = itemsHtml;
        }

// updateShopUI() ã®é–‰ã˜ã‚«ãƒƒã‚³ã®ç›´å¾Œã«è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„

/* =========================================
       â˜…ä¿®æ­£ï¼š3ã‚«ãƒ©ãƒ ãƒ»çµæœå›ºå®šãƒ»é…å½“è¡¨ç¤ºå¯¾å¿œã®ç«¶é¦¬ã‚·ã‚¹ãƒ†ãƒ 
       ========================================= */
    
/**
   * â˜…ä¿®æ­£2ï¼šãƒ¬ãƒ¼ã‚¹ã®çŠ¶æ…‹åˆ¤å®šã¨ãƒœã‚¿ãƒ³è¡¨ç¤ºã®æ›´æ–°ãƒ­ã‚¸ãƒƒã‚¯
   */
  updateRaceStatus() {
    const now = new Date();
    const currentHour = now.getHours();
    const currentMin = now.getMinutes();
    const currentTimeVal = currentHour * 60 + currentMin;

    let nextRace = null;
    let raceStatus = 'CLOSED'; // CLOSED, OPEN, RUNNING

    // ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’èµ°æŸ»ã—ã¦ç¾åœ¨ã®çŠ¶æ…‹ã‚’æ±ºå®š
    for (let i = 0; i < RACE_SCHEDULE.length; i++) {
      const race = RACE_SCHEDULE[i];
      const raceTimeVal = race.h * 60 + race.m;

      // è¨­å®šï¼šãƒ¬ãƒ¼ã‚¹é–‹å§‹60åˆ†å‰ã‹ã‚‰æŠ•ç¥¨å¯èƒ½
      const voteStartVal = raceTimeVal - 60;
      // è¨­å®šï¼šãƒ¬ãƒ¼ã‚¹é–‹å§‹å¾Œ5åˆ†é–“ã¯ã€Œç™ºèµ°ä¸­ã€æ‰±ã„
      const raceEndVal = raceTimeVal + 5;

      if (currentTimeVal >= voteStartVal && currentTimeVal < raceTimeVal) {
        // ã€æŠ•ç¥¨æœŸé–“ã€‘: 60åˆ†å‰ ï½ é–‹å§‹æ™‚åˆ»
        nextRace = race;
        raceStatus = 'OPEN';
        break; 
      } else if (currentTimeVal >= raceTimeVal && currentTimeVal < raceEndVal) {
        // ã€ç™ºèµ°ä¸­ã€‘: é–‹å§‹æ™‚åˆ» ï½ 5åˆ†å¾Œ
        nextRace = race;
        raceStatus = 'RUNNING';
        break;
      } else if (currentTimeVal < voteStartVal) {
        // ã¾ã æŠ•ç¥¨æœŸé–“ã«ãªã£ã¦ã„ãªã„ï¼ˆæœªæ¥ã®ãƒ¬ãƒ¼ã‚¹ï¼‰
        // ãƒ«ãƒ¼ãƒ—ãŒæ˜‡é †ãªã‚‰ã€ã“ã‚ŒãŒã€Œæ¬¡ã«æ§ãˆã¦ã„ã‚‹ãƒ¬ãƒ¼ã‚¹ã€
        if (!nextRace) nextRace = race;
        // ã“ã“ã§ã¯breakã›ãšã€çŠ¶æ…‹ã¯CLOSEDã®ã¾ã¾
        break;
      }
      // ãã‚Œä»¥å¤–ï¼ˆraceEndValã‚’éããŸï¼‰ã¯ã€Œçµ‚äº†ã—ãŸãƒ¬ãƒ¼ã‚¹ã€ã¨ã—ã¦æ¬¡ã®ãƒ«ãƒ¼ãƒ—ã¸
    }

    const btn = document.getElementById('btn-open-race');
    if (!btn) return;

    // ãƒœã‚¿ãƒ³ã®çŠ¶æ…‹æ›´æ–°
    if (raceStatus === 'OPEN') {
      // æŠ•ç¥¨å—ä»˜ä¸­
      btn.disabled = false;
      btn.innerText = "æŠ•ç¥¨"; // â˜…ã“ã“ãŒã€Œç™ºèµ°ã€ã‹ã‚‰åˆ‡ã‚Šæ›¿ã‚ã‚‹
      btn.title = `ç¬¬${this.getRaceNumber(nextRace)}ãƒ¬ãƒ¼ã‚¹ æŠ•ç¥¨å—ä»˜ä¸­ (ç™ºèµ° ${nextRace.h}:${String(nextRace.m).padStart(2, '0')})`;
      btn.classList.remove('running');
      btn.style.background = ""; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè‰²ã«æˆ»ã™
      this.raceState.status = 'OPEN';
      this.raceState.nextRace = nextRace;

    } else if (raceStatus === 'RUNNING') {
      // ç™ºèµ°ä¸­ï¼ˆãƒ¬ãƒ¼ã‚¹ç”»é¢ã‚’é–‹ã‘ã‚‹ã‚ˆã†ã«ã™ã‚‹ï¼‰
      btn.disabled = false;
      btn.innerText = "ç™ºèµ°";
      btn.title = "ãƒ¬ãƒ¼ã‚¹é–‹å‚¬ä¸­ï¼çµæœã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†";
      btn.classList.add('running'); // ç‚¹æ»…ã‚¨ãƒ•ã‚§ã‚¯ãƒˆç­‰
      // è‰²ã‚’èµ¤ã£ã½ãå¤‰ãˆã¦ç›®ç«‹ãŸã›ã‚‹
      btn.style.background = "linear-gradient(to bottom, #c0392b, #e74c3c)";
      this.raceState.status = 'RUNNING';
      this.raceState.nextRace = nextRace;

    } else {
      // é–‹å‚¬æ™‚é–“å¤–
      btn.disabled = true;
      btn.innerText = "ç«¶é¦¬";
      btn.title = "ç¾åœ¨ã¯é–‹å‚¬æ™‚é–“å¤–ã§ã™";
      btn.classList.remove('running');
      btn.style.background = ""; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè‰²
      this.raceState.status = 'CLOSED';
      this.raceState.nextRace = nextRace || null;
    }
  }

  // è£œåŠ©é–¢æ•°ï¼šãƒ¬ãƒ¼ã‚¹ç•ªå·ã®å–å¾—ï¼ˆç°¡æ˜“ç‰ˆï¼‰
  getRaceNumber(race) {
    if (!race) return "-";
    return RACE_SCHEDULE.indexOf(race) + 1;
  }

    updateRaceButton(text, disabled, extraClass = '') {
        const btn = document.getElementById('btn-open-race');
        if (btn) {
            btn.textContent = text;
            btn.disabled = disabled;
            btn.className = 'btn-race ' + extraClass;
        }
    }

    generateNewspaperData(raceId) {
        const conditions = [
            { label: 'çµ¶å¥½', val: 1.1, icon: 'â¬†ï¸', class: 'cond-excellent' },
            { label: 'å¥½èª¿', val: 1.05, icon: 'â†—ï¸', class: 'cond-good' },
            { label: 'æ™®é€š', val: 1.0, icon: 'â¡ï¸', class: 'cond-normal' },
            { label: 'ä¸èª¿', val: 0.95, icon: 'â†˜ï¸', class: 'cond-bad' }
        ];
        const horsesData = horsesgatya.map(h => {
            const cond = conditions[Math.floor(Math.random() * conditions.length)];
            const adjustedSpeed = h.speed * cond.val;
            // å‹ç‡ãƒ»AIäºˆæƒ³ï¼ˆç°¡æ˜“è¨ˆç®—ï¼‰
            const baseWinRate = Math.min(90, Math.floor((1 / h.odds) * 80 + (Math.random() * 10 - 5))); 
            const aiProb = Math.min(99, Math.floor((1 / h.odds) * 100 * cond.val)); 
            return {
                id: h.id, name: h.name, baseOdds: h.odds, condition: cond, adjustedSpeed: adjustedSpeed, 
                winRate: baseWinRate, aiProb: aiProb,
                comment: ['æ°—é…æŠœç¾¤', 'å¥½èª¿ç¶­æŒ', 'é€£å‹ç‹™ã†', 'å±•é–‹å‘ã‘ã°', 'ä¸€ç™ºã‚ã‚‹', 'å°‘ã—é‡ã„ã‹ã‚‚', 'ä»•ä¸ŠãŒã‚Šè‰¯'][Math.floor(Math.random() * 7)]
            };
        });
        const sorted = [...horsesData].sort((a, b) => b.adjustedSpeed - a.adjustedSpeed);
        horsesData.forEach(h => {
            const rank = sorted.findIndex(s => s.id === h.id);
            if (rank === 0) h.mark = { s: 'â—', c: 'mark-double-circle' };
            else if (rank === 1) h.mark = { s: 'ã€‡', c: 'mark-circle' };
            else if (rank === 2) h.mark = { s: 'â–²', c: 'mark-triangle' };
            else if (rank === 3) h.mark = { s: 'â˜†', c: 'mark-star' };
            else if (rank === 4) h.mark = { s: 'â–³', c: '' };
            else h.mark = { s: 'ï¼', c: 'cond-bad' };
        });
        if (!this.data.raceData) this.data.raceData = {}; 
        this.data.raceData.newspaper = { raceId: raceId, horses: horsesData };
        this.save();
    }

    openRace() {
        const status = this.raceState.status;
        const modal = document.getElementById('race-modal');
        modal.classList.remove('hidden');

        if (this.raceState.nextRace) {
            const currentRaceId = this.raceState.nextRace.id;
            if (!this.data.raceData.newspaper || this.data.raceData.newspaper.raceId !== currentRaceId) {
                this.generateNewspaperData(currentRaceId);
            }
        }
        
        this.renderRaceBetting(); 
        
        const formArea = document.getElementById('center-betting-area');
        const viewArea = document.getElementById('center-view-area');
        const timer = document.getElementById('race-timer');

        if (status === 'READY_TO_RUN') {
            if(formArea) formArea.classList.add('hidden');
            if(viewArea) viewArea.classList.remove('hidden');
            if(timer) timer.textContent = "LIVE";
            this.startRaceAnimation();
        } else {
            if(formArea) formArea.classList.remove('hidden');
            if(viewArea) viewArea.classList.add('hidden');
            if(timer && this.raceState.nextRace) {
                timer.textContent = `ç™ºèµ°: ${this.raceState.nextRace.h}:${('0'+this.raceState.nextRace.m).slice(-2)}`;
            }
        }
        this.fetchAllUserBets();
    }

// â˜…ä¿®æ­£ï¼šKeibaã‚·ãƒ¼ãƒˆã‹ã‚‰ã€Œæ¬¡ã®ãƒ¬ãƒ¼ã‚¹ã€ã®æŠ•ç¥¨ãƒ‡ãƒ¼ã‚¿ã‚’ç›´æ¥å–å¾—
    fetchAllUserBets() {
        const listContainer = document.getElementById('bets-list-content');
        
        // æ¬¡ã®ãƒ¬ãƒ¼ã‚¹ãŒæ±ºã¾ã£ã¦ã„ãªã„å ´åˆã¯ä½•ã‚‚ã—ãªã„
        if (!this.raceState.nextRace) {
            if(listContainer) listContainer.innerHTML = '<div style="padding:10px; color:#999;">ãƒ¬ãƒ¼ã‚¹æƒ…å ±ãŒã‚ã‚Šã¾ã›ã‚“</div>';
            return;
        }

        if(listContainer) listContainer.innerHTML = '<div style="padding:10px; color:#999;">èª­ã¿è¾¼ã¿ä¸­...</div>';
        
        const currentRaceId = this.raceState.nextRace.id;

        // GASå´ã® getBetsForRace ã‚’å‘¼ã³å‡ºã™
        google.script.run.withSuccessHandler((bets) => {
            // bets ã¯æ—¢ã« [{ user: "ID", type: "WIN", ... }, ...] ã®é…åˆ—ã«ãªã£ã¦ã„ã‚‹
            this.renderBetsList(bets);
        }).withFailureHandler((e) => {
            if(listContainer) listContainer.innerHTML = '<div style="padding:10px; color:red;">å–å¾—ã‚¨ãƒ©ãƒ¼</div>';
            console.error(e);
        }).getBetsForRace(currentRaceId);
    }

    renderBetsList(bets) {
        const container = document.getElementById('bets-list-content');
        if (!container) return;
        if (bets.length === 0) { container.innerHTML = '<div style="padding:10px; color:#999;">ã¾ã æŠ•ç¥¨ã¯ã‚ã‚Šã¾ã›ã‚“</div>'; return; }
        bets.sort((a, b) => (a.user === this.userId ? -1 : 1));
        let html = '';
        bets.forEach(b => {
            const isMe = b.user === this.userId;
            const bg = isMe ? 'background:#e6fcff;' : '';
            html += `<div class="bet-log-item" style="${bg}">
                    <div><span class="bet-log-user">${escapeHtml(b.user)}</span>${isMe ? '<span style="font-size:10px; background:#0079bf; color:white; padding:1px 4px; border-radius:4px;">YOU</span>' : ''}</div>
                    <div class="bet-log-detail">[${b.type}] ${b.desc} <span style="font-weight:bold;">Â¥${b.amount}</span></div>
                </div>`;
        });
        container.innerHTML = html;
    }

/* =========================================
       â˜…ä¿®æ­£ï¼šã‚ªãƒƒã‚ºè¡¨ç¤º ï¼† æœ¬æ ¼çš„ãªç‚¹æ•°è¨ˆç®—å¯¾å¿œç‰ˆ
       ========================================= */

// â˜…ä¿®æ­£1ï¼šãƒœã‚¿ãƒ³é…ç½®å¤‰æ›´ï¼ˆæŠ•ç¥¨ç”»é¢ã®ä¸­ã«ç§»å‹•ï¼‰
    renderRaceBetting() {
        const container = document.getElementById('race-betting-area');
        
        // --- å³ã‚«ãƒ©ãƒ ï¼šç«¶é¦¬æ–°èãƒ‡ãƒ¼ã‚¿ ---
        const paper = this.data.raceData.newspaper;
        let newspaperHtml = '<div style="padding:10px;">ãƒ‡ãƒ¼ã‚¿æº–å‚™ä¸­...</div>';
        
        if (paper && paper.horses) {
            newspaperHtml = `
                <div class="newspaper-header">ğŸ ç«¶é¦¬ã‚¨ã‚¤ãƒˆ (å…¬å¼)</div>
                <table class="newspaper-table">
                    <thead>
                        <tr><th style="width:20px;">å°</th><th style="width:20px;">ç•ª</th><th>é¦¬å</th><th style="width:40px;">ã‚ªãƒƒã‚º</th><th style="width:30px;">èª¿å­</th><th style="width:35px;">å‹ç‡</th><th style="width:35px;">AI</th><th>çŸ­è©•</th></tr>
                    </thead>
                    <tbody>
            `;
            paper.horses.forEach(h => {
                const probColor = h.aiProb > 40 ? '#eb5a46' : (h.aiProb > 20 ? '#f1c40f' : '#333');
                const winRateColor = h.winRate > 40 ? '#eb5a46' : '#333';
                newspaperHtml += `<tr><td class="cell-mark ${h.mark.c}">${h.mark.s}</td><td style="font-weight:bold;">${h.id}</td><td class="cell-horse">${h.name}</td><td style="font-weight:bold; color:#d35400;">${h.baseOdds.toFixed(1)}</td><td class="${h.condition.class}">${h.condition.icon}</td><td style="font-weight:bold; color:${winRateColor};">${h.winRate}%</td><td style="font-weight:bold; color:${probColor};">${h.aiProb}%</td><td>${h.comment}</td></tr>`;
            });
            newspaperHtml += `</tbody></table>`;
        }

        // --- å…¨ä½“ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ ---
        const raceTimeStr = this.raceState.nextRace ? `${this.raceState.nextRace.h}:${('0'+this.raceState.nextRace.m).slice(-2)}` : '--:--';
        
        container.innerHTML = `
            <div class="race-layout">
                <div class="race-left">
                    <div class="bets-list-header">
                        <span>ğŸ« ã¿ã‚“ãªã®æŠ•ç¥¨</span>
                        <button onclick="GM.fetchAllUserBets()" style="background:none; border:none; color:#fff; cursor:pointer;" title="æ›´æ–°"><span class="material-icons" style="font-size:14px;">refresh</span></button>
                    </div>
                    <div id="bets-list-content" class="bets-list-content"></div>
                </div>

                <div class="race-center">
                    
                    <div id="center-betting-area">
                        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px; border-bottom:1px solid #eee; padding-bottom:5px;">
                            <h4 style="margin:0;">æŠ•ç¥¨ãƒ•ã‚©ãƒ¼ãƒ  (${raceTimeStr})</h4>
                            <div style="display:flex; gap:5px;">
                                <button class="btn-game-mini" onclick="GM.openPastResults()" title="ä»Šæ—¥ã®çµæœã‚’ç¢ºèª" style="background:#f1f2f6; border:1px solid #ccc; color:#333;">
                                    <span class="material-icons" style="font-size:14px;">history</span> çµæœ
                                </button>
                                <button class="btn-game-mini" onclick="GM.borrowMoney()" title="ãŠé‡‘ã‚’å€Ÿã‚Šã‚‹" style="background:#fff3cd; border:1px solid #ffeeba; color:#856404;">
                                    <span class="material-icons" style="font-size:14px;">credit_card</span> å€Ÿå…¥
                                </button>
                            </div>
                        </div>

                        <div class="betting-container">
                            <div class="betting-row">
                                <div class="betting-label">å¼åˆ¥</div>
                                <div class="betting-options">
                                    <select id="bet-type-select" onchange="GM.updateBetUI()">
                                        <option value="WIN">å˜å‹</option><option value="PLACE">è¤‡å‹</option><option value="QUINELLA">é¦¬é€£</option><option value="WIDE">ãƒ¯ã‚¤ãƒ‰</option><option value="EXACTA">é¦¬å˜</option><option value="TRIO">3é€£è¤‡</option><option value="TRIFECTA">3é€£å˜</option>
                                    </select>
                                </div>
                            </div>
                            <div class="betting-row">
                                <div class="betting-label">æ–¹å¼</div>
                                <div class="betting-options">
                                    <select id="bet-mode-select" onchange="GM.updateBetUI()">
                                        <option value="NORMAL">é€šå¸¸ / ãƒœãƒƒã‚¯ã‚¹</option><option value="AXIS_1">1é ­è»¸æµã—</option><option value="AXIS_2">2é ­è»¸æµã—</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div id="mark-sheet-area"></div>

                            <div class="betting-row" style="border:none; margin-top:10px; background:#fafafa; padding:10px; flex-direction:column; align-items:stretch;">
                                <div style="display:flex; align-items:center; margin-bottom:5px;">
                                    <div class="betting-label">1ç‚¹ã‚ãŸã‚Š</div>
                                    <input type="number" id="bet-unit-price" value="100" min="100" step="100" style="width:80px; text-align:right;" oninput="GM.updateBetCount()"> å††
                                </div>
                                <div style="display:flex; justify-content:space-between; align-items:center; border-top:1px solid #ddd; padding-top:5px;">
                                    <div style="font-size:12px; font-weight:bold;">
                                        <span id="bet-count-disp">0</span>ç‚¹ Ã— <span id="bet-price-disp">100</span>å†† = <span id="bet-total-disp" style="color:#e74c3c; font-size:14px;">0</span> å††
                                    </div>
                                    <button class="btn-save" onclick="GM.placeBet()" style="font-size:14px; padding:6px 20px;">æŠ•ç¥¨ã™ã‚‹</button>
                                </div>
                            </div>
                        </div>
                        <div style="text-align:right; font-size:12px; margin-top:5px;">
                            æ‰€æŒé‡‘: <span style="font-weight:bold; color:#f1c40f; font-size:14px;">Â¥${this.data.money.toLocaleString()}</span>
                        </div>
                    </div>

                    <div id="center-view-area" class="hidden" style="flex:1; display:flex; flex-direction:column;">
                        <div class="race-track" id="race-track-inner">
                            <div class="race-goal-line"></div>
                        </div>
                        <div id="race-status-text" style="text-align:center; font-weight:bold; font-size:24px; margin-top:20px; color:#333;"></div>
                    </div>
                </div>

                <div class="race-right" id="race-right-content">
                    ${newspaperHtml}
                </div>
            </div>
        `;
        
        this.updateBetUI();
        setTimeout(() => this.fetchAllUserBets(), 100);
    }

/* =========================================
       â˜…ä¿®æ­£ï¼šè¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ãƒ»æŠ•ç¥¨æ©Ÿèƒ½ã®å®Œå…¨ç‰ˆ
       ========================================= */

    // 1. æŠ•ç¥¨UIã®åˆ‡ã‚Šæ›¿ãˆï¼ˆãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ç”Ÿæˆï¼‰
    updateBetUI() {
        const type = document.getElementById('bet-type-select').value;
        const modeSelect = document.getElementById('bet-mode-select');
        const axis1Opt = modeSelect.querySelector('option[value="AXIS_1"]');
        const axis2Opt = modeSelect.querySelector('option[value="AXIS_2"]');
        const area = document.getElementById('mark-sheet-area');
        
        // å˜å‹ãƒ»è¤‡å‹ã¯æµã—ä¸å¯
        if (type === 'WIN' || type === 'PLACE') {
            modeSelect.value = 'NORMAL';
            axis1Opt.disabled = true;
            axis2Opt.disabled = true;
        } else {
            axis1Opt.disabled = false;
            // 2é ­è»¸ã¯3é€£ç³»ã®ã¿æœ‰åŠ¹
            if (type === 'TRIO' || type === 'TRIFECTA') {
                axis2Opt.disabled = false;
            } else {
                if (modeSelect.value === 'AXIS_2') modeSelect.value = 'NORMAL';
                axis2Opt.disabled = true;
            }
        }

        const mode = modeSelect.value;
        const horses = horsesgatya;

        // ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ç”Ÿæˆãƒ˜ãƒ«ãƒ‘ãƒ¼
        // â˜…é‡è¦ï¼šonchange="GM.updateBetCount()" ã‚’ä»˜ã‘ã¦ã€ãƒã‚§ãƒƒã‚¯ã™ã‚‹ãŸã³ã«å†è¨ˆç®—ã•ã›ã‚‹
        const createCheckboxes = (groupId, label) => {
            let h = `<div class="betting-row"><div class="betting-label">${label}</div><div class="betting-options">`;
            horses.forEach(horse => {
                h += `<label class="horse-check-label">
                        <input type="checkbox" name="${groupId}" value="${horse.id}" onchange="GM.updateBetCount()">
                        <span>${horse.id}. ${horse.icon}</span>
                      </label>`;
            });
            h += `</div></div>`;
            return h;
        };

        let html = '';
        if (mode === 'NORMAL') {
            if (type === 'EXACTA' || type === 'TRIFECTA') {
                html += createCheckboxes('row_1', '1ç€');
                html += createCheckboxes('row_2', '2ç€');
                if (type === 'TRIFECTA') html += createCheckboxes('row_3', '3ç€');
            } else {
                html += createCheckboxes('row_box', 'é¸æŠé¦¬');
            }
        } else if (mode === 'AXIS_1') {
            html += createCheckboxes('row_axis', 'è»¸é¦¬ (1é ­)');
            html += createCheckboxes('row_opp', 'ç›¸æ‰‹');
        } else if (mode === 'AXIS_2') {
            html += createCheckboxes('row_axis', 'è»¸é¦¬ (2é ­)');
            html += createCheckboxes('row_opp', 'ç›¸æ‰‹');
        }

        area.innerHTML = html;
        this.updateBetCount(); // UIåˆ‡ã‚Šæ›¿ãˆæ™‚ã«ã‚‚è¨ˆç®—ãƒªã‚»ãƒƒãƒˆ
    }

    // 2. â˜…æ–°è¦è¿½åŠ ï¼šè²·ã„ç›®ç‚¹æ•°ã¨åˆè¨ˆé‡‘é¡ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¨ˆç®—
    updateBetCount() {
        // è¦ç´ ãŒãªã‘ã‚Œã°ä½•ã‚‚ã—ãªã„ï¼ˆã‚¨ãƒ©ãƒ¼å›é¿ï¼‰
        if(!document.getElementById('bet-type-select')) return { count:0, total:0, combinations:[] };

        const type = document.getElementById('bet-type-select').value;
        const mode = document.getElementById('bet-mode-select').value;
        const unitPrice = parseInt(document.getElementById('bet-unit-price').value, 10) || 0;

        const getChecked = (name) => Array.from(document.querySelectorAll(`input[name="${name}"]:checked`)).map(el => parseInt(el.value));

        let betData = { type, mode, selected: {} };

        // é¸æŠçŠ¶æ…‹ã‚’å–å¾—
        if (mode === 'NORMAL') {
            if (type === 'WIN' || type === 'PLACE') {
                betData.selected = { horses: getChecked('row_box') };
            } else if (type === 'EXACTA' || type === 'TRIFECTA') {
                betData.selected = { r1: getChecked('row_1'), r2: getChecked('row_2'), r3: getChecked('row_3') };
            } else {
                betData.selected = { horses: getChecked('row_box') };
            }
        } else {
            betData.selected = { axis: getChecked('row_axis'), opp: getChecked('row_opp') };
        }

        // çµ„ã¿åˆã‚ã›ã‚’å±•é–‹ã—ã¦ç‚¹æ•°ã‚’è¨ˆç®—
        const combinations = this.expandSelections(betData);
        const count = combinations.length;
        const total = count * unitPrice;

        // ç”»é¢è¡¨ç¤ºã‚’æ›´æ–°
        document.getElementById('bet-count-disp').textContent = count;
        document.getElementById('bet-price-disp').textContent = unitPrice;
        document.getElementById('bet-total-disp').textContent = total.toLocaleString();

        // PlaceBetã§ä½¿ã†ãŸã‚ã«è¿”ã™
        return { count, total, combinations };
    }

    // 3. â˜…æ–°è¦è¿½åŠ ï¼šçµ„ã¿åˆã‚ã›è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆã“ã‚ŒãŒç„¡ã„ã¨0ç‚¹ã®ã¾ã¾ã«ãªã‚‹ï¼‰
    expandSelections(bet) {
        const res = [];
        const type = bet.type;

        // å˜å‹ãƒ»è¤‡å‹ (1é ­é¸ã¶ã ã‘)
        if (type === 'WIN' || type === 'PLACE') {
            const h = bet.selected.horses || [];
            h.forEach(id => res.push([id]));
            return res;
        }

        // --- ãƒœãƒƒã‚¯ã‚¹ / ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ ---
        if (bet.mode === 'NORMAL') {
            if (type === 'QUINELLA' || type === 'WIDE') { // é¦¬é€£ãƒ»ãƒ¯ã‚¤ãƒ‰ (BOX)
                const h = bet.selected.horses || [];
                for(let i=0; i<h.length; i++) 
                    for(let j=i+1; j<h.length; j++) res.push([h[i], h[j]]);
            }
            else if (type === 'TRIO') { // 3é€£è¤‡ (BOX)
                const h = bet.selected.horses || [];
                for(let i=0; i<h.length; i++) 
                    for(let j=i+1; j<h.length; j++) 
                        for(let k=j+1; k<h.length; k++) res.push([h[i], h[j], h[k]]);
            }
            else if (type === 'EXACTA') { // é¦¬å˜ (ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³)
                const r1 = bet.selected.r1 || [];
                const r2 = bet.selected.r2 || [];
                r1.forEach(a => {
                    r2.forEach(b => {
                        if (a !== b) res.push([a, b]);
                    });
                });
            }
            else if (type === 'TRIFECTA') { // 3é€£å˜ (ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³)
                const r1 = bet.selected.r1 || [];
                const r2 = bet.selected.r2 || [];
                const r3 = bet.selected.r3 || [];
                r1.forEach(a => {
                    r2.forEach(b => {
                        if (a === b) return;
                        r3.forEach(c => {
                            if (a !== c && b !== c) res.push([a, b, c]);
                        });
                    });
                });
            }
        } 
        // --- æµã— ---
        else {
            const axis = bet.selected.axis || [];
            const opp = bet.selected.opp || [];
            
            // è»¸ãŒè¶³ã‚Šã¦ãªã‘ã‚Œã°è¨ˆç®—ã—ãªã„
            const reqAxis = (bet.mode === 'AXIS_2') ? 2 : 1;
            if (axis.length !== reqAxis) return [];

            if (type === 'QUINELLA' || type === 'WIDE') { // é¦¬é€£ãƒ»ãƒ¯ã‚¤ãƒ‰æµã—
                opp.forEach(o => {
                    if (!axis.includes(o)) res.push([axis[0], o]);
                });
            }
            else if (type === 'EXACTA') { // é¦¬å˜æµã— (è»¸=1ç€å›ºå®š)
                opp.forEach(o => {
                    if (!axis.includes(o)) res.push([axis[0], o]);
                });
            }
            else if (type === 'TRIO') { // 3é€£è¤‡æµã—
                if (bet.mode === 'AXIS_1') { // è»¸1é ­ -> ç›¸æ‰‹ã‹ã‚‰2é ­
                    for(let i=0; i<opp.length; i++)
                        for(let j=i+1; j<opp.length; j++)
                            if (!axis.includes(opp[i]) && !axis.includes(opp[j])) 
                                res.push([axis[0], opp[i], opp[j]]);
                } else { // è»¸2é ­ -> ç›¸æ‰‹ã‹ã‚‰1é ­
                    opp.forEach(o => {
                        if (!axis.includes(o)) res.push([axis[0], axis[1], o]);
                    });
                }
            }
            else if (type === 'TRIFECTA') { // 3é€£å˜æµã— (è»¸å›ºå®š: 1ç€ / 1,2ç€)
                if (bet.mode === 'AXIS_1') { // 1ç€å›ºå®šãƒãƒ«ãƒãªã—
                    for(let i=0; i<opp.length; i++) {
                        for(let j=0; j<opp.length; j++) {
                            if (i === j) continue;
                            if (!axis.includes(opp[i]) && !axis.includes(opp[j]))
                                res.push([axis[0], opp[i], opp[j]]);
                        }
                    }
                } else { // 1,2ç€å›ºå®š
                    opp.forEach(o => {
                        if (!axis.includes(o)) res.push([axis[0], axis[1], o]);
                    });
                }
            }
        }
        return res;
    }

    // 4. æŠ•ç¥¨å®Ÿè¡Œ
    placeBet() {
        const { count, total, combinations } = this.updateBetCount(); 
        const type = document.getElementById('bet-type-select').value;
        const mode = document.getElementById('bet-mode-select').value;
        const unitPrice = parseInt(document.getElementById('bet-unit-price').value, 10);

        if (count === 0) { alert('è²·ã„ç›®ãŒé¸æŠã•ã‚Œã¦ã„ã¾ã›ã‚“ï¼ˆã¾ãŸã¯çµ„ã¿åˆã‚ã›ãŒç„¡åŠ¹ã§ã™ï¼‰'); return; }
        if (this.data.money < total) { alert('ãŠé‡‘ãŒè¶³ã‚Šã¾ã›ã‚“ï¼'); return; }
        if (unitPrice < 100) { alert('1ç‚¹ã‚ãŸã‚Š100å††ä»¥ä¸Šã§å…¥åŠ›ã—ã¦ãã ã•ã„'); return; }

        if (!confirm(`ã€${type}ã€‘\n${count}ç‚¹ Ã— Â¥${unitPrice} = åˆè¨ˆ Â¥${total.toLocaleString()}\næŠ•ç¥¨ã—ã¾ã™ã‹ï¼Ÿ`)) return;

        this.addMoney(-total, 'é¦¬åˆ¸è³¼å…¥');
        
        let desc = `${count}ç‚¹è³¼å…¥`;
        // ç°¡å˜ãªãƒ­ã‚°ç”¨è¨˜è¿°ï¼ˆå˜å‹ãªã©ã¯ç•ªå·ã‚’è¡¨ç¤ºï¼‰
        if(mode === 'NORMAL' && (type === 'WIN' || type === 'PLACE')) {
             // combinationsã¯ [[1], [3]] ã®ã‚ˆã†ãªå½¢ãªã®ã§ flat ã—ã¦ join
             desc = combinations.flat().join(',') + 'ç•ª';
        }

        const betData = {
            raceId: this.raceState.nextRace.id,
            type: type,
            mode: mode,
            amount: total,
            unitPrice: unitPrice,
            count: count,
            desc: desc,
            combinations: combinations, // å®Ÿéš›ã®çµ„ã¿åˆã‚ã›é…åˆ—ã‚‚ä¿å­˜
            snapshotHorses: [...horsesgatya]
        };

        // ãƒ­ãƒ¼ã‚«ãƒ«ä¿å­˜
        if (!this.data.raceData.activeBets) this.data.raceData.activeBets = [];
        this.data.raceData.activeBets.push(betData);
        this.save();
        
        // ã‚µãƒ¼ãƒãƒ¼ä¿å­˜
        google.script.run.recordKeibaBet(betData.raceId, this.userId, betData);

        this.fetchAllUserBets();
        showToast('æŠ•ç¥¨ã—ã¾ã—ãŸï¼');
    }

// â˜…ä¿®æ­£2ï¼šãƒ¬ãƒ¼ã‚¹é–‹å§‹ï¼ˆã‚µãƒ¼ãƒãƒ¼ã§ç€é †ã‚’ç¢ºå®šã•ã›ã¦ã‹ã‚‰èµ°ã‚‹ï¼‰
    startRaceAnimation() {
        const track = document.getElementById('race-track-inner'); // IDå¤‰æ›´ã«æ³¨æ„
        const statusText = document.getElementById('race-status-text');
        
        if(!track || !statusText) return;

        track.innerHTML = '<div class="race-goal-line"></div>'; 
        statusText.textContent = 'ãƒ•ã‚¡ãƒ³ãƒ•ã‚¡ãƒ¼ãƒ¬... ğŸº';

        // 1. ã¾ãšã‚µãƒ¼ãƒãƒ¼ã«çµæœã‚’å•ã„åˆã‚ã›ã‚‹ï¼ˆãªã‘ã‚Œã°ç”Ÿæˆã•ã‚Œã‚‹ï¼‰
        const raceId = this.raceState.nextRace.id;
        const allHorseIds = horsesgatya.map(h => h.id);

        google.script.run.withSuccessHandler((response) => {
            // response = { resultOrder: [...], allBets: [...] }
            const resultOrder = response.resultOrder;
            const allBets = response.allBets; // ã‚µãƒ¼ãƒãƒ¼ã«ä¿å­˜ã•ã‚ŒãŸå…¨å“¡ã®æŠ•ç¥¨
            console.log("Race Result Fixed:", resultOrder);

            // 2. ç¢ºå®šã—ãŸé †ä½ã«åŸºã¥ã„ã¦ã€é¦¬ã®ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚’è¨­å®šã™ã‚‹ï¼ˆ1ç€ã‚’æœ€é€Ÿã«ã™ã‚‹ï¼‰
            const paper = this.data.raceData.newspaper;
            const horsesInfo = (paper && paper.horses) ? paper.horses : horsesgatya.map(h=>({...h, adjustedSpeed: h.speed}));

            const racers = horsesgatya.map((h) => {
                const info = horsesInfo.find(x => x.id === h.id);
                const el = document.createElement('div');
                el.className = 'race-horse';
                el.textContent = h.icon;
                const idx = horsesgatya.findIndex(x => x.id === h.id);
                el.style.top = `${10 + idx * 25}px`; 
                el.style.fontSize = '20px';
                track.appendChild(el);

                // çµæœã«åˆã‚ã›ã¦ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚’å›ºå®šï¼ˆ1ç€ã‚’æœ€é€Ÿã«ï¼‰
                const rank = resultOrder.indexOf(h.id);
                // åŸºç¤ã‚¹ãƒ”ãƒ¼ãƒ‰(æ–°èå€¤) + é †ä½è£œæ­£(1ç€ãªã‚‰å¤§ãããƒ—ãƒ©ã‚¹)
                const fixedSpeed = (info ? info.adjustedSpeed : h.speed) + (10 - rank) * 10;

                return { id: h.id, el: el, pos: 0, speed: fixedSpeed, finished: false, name: h.name };
            });

            // 3. ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹
            setTimeout(() => {
                statusText.textContent = 'ã‚¹ã‚¿ãƒ¼ãƒˆã—ã¾ã—ãŸï¼';
                let currentRank = 1;
                const actualResultOrder = []; 

                const interval = setInterval(() => {
                    let allFinished = true;
                    racers.forEach(r => {
                        if (!r.finished) {
                            // ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚’åŠ ç®—
                            r.pos += (r.speed / 20); 
                            r.el.style.left = `${Math.min(90, r.pos)}%`;
                            
                            if (r.pos >= 90) {
                                r.finished = true;
                                r.actualRank = currentRank++;
                                actualResultOrder.push(r.id);
                                
                                if (r.actualRank === 1) {
                                    statusText.textContent = `1ç€: ${r.name}!!`;
                                }
                            } else {
                                allFinished = false;
                            }
                        }
                    });

                    if (allFinished) {
                        clearInterval(interval);
                        // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å®Œäº†å¾Œã€çµæœç”»é¢ã¸
                        // çµæœã¯ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰ã® resultOrder ã‚’æ­£ã¨ã™ã‚‹
                        this.finishRace(resultOrder, allBets);
                    }
                }, 50); // ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¬ãƒ¼ãƒˆ
            }, 1000);

        }).withFailureHandler(e => {
            alert('ãƒ¬ãƒ¼ã‚¹æƒ…å ±ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ: ' + e);
        }).ensureRaceResult(raceId, allHorseIds);
    }

    // 4. ãƒ¬ãƒ¼ã‚¹çµæœåˆ¤å®šã¨ç²¾ç®—
    finishRace(resultOrder, allBets) {
        const r1 = resultOrder[0]; const r2 = resultOrder[1]; const r3 = resultOrder[2];
        let totalWin = 0;
        let hitCount = 0;
        const myBets = this.data.raceData.activeBets.filter(b => b.raceId === this.raceState.nextRace.id);
        
        myBets.forEach(bet => {
            const payout = this.checkWin(bet, r1, r2, r3);
            if (payout > 0) { totalWin += payout; hitCount++; }
        });

        setTimeout(() => {
            if (totalWin > 0) {
                this.addMoney(totalWin, 'ãƒ¬ãƒ¼ã‚¹çš„ä¸­');
                if(this.data.settings.soundSe) this.playSe('gain');
            }
            if (hitCount > 0) alert(`ğŸ¯ ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼\n${hitCount}ä»¶çš„ä¸­ã€åˆè¨ˆ Â¥${totalWin.toLocaleString()} ç²å¾—ã—ã¾ã—ãŸï¼`);
            else showToast('ãƒ¬ãƒ¼ã‚¹çµ‚äº†ã€‚çµæœã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚');

            this.renderRaceResult(r1, r2, r3);
            this.data.raceData.lastRaceId = this.raceState.nextRace.id;
            this.data.raceData.activeBets = []; 
            this.save();
            this.updateRaceStatus();
        }, 1000);
    }

    // â˜…æ–°è¦ï¼šå‰å›ã®çµæœä¸€è¦§ã‚’é–‹ã
    openPastResults() {
        document.getElementById('race-modal').classList.remove('hidden');
        document.getElementById('race-betting-area').innerHTML = '<div style="padding:20px; text-align:center;">ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ä¸­...</div>';
        document.getElementById('race-betting-area').classList.remove('hidden');
        document.getElementById('race-view-area').classList.add('hidden');
        document.getElementById('race-timer').textContent = "HISTORY";

        // å³å´ã®æ–°èã‚¨ãƒªã‚¢ã‚’éš ã—ã¦ã€å…¨ç”»é¢ã§çµæœã‚’è¡¨ç¤ºã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒ«ã«ã™ã‚‹ãŸã‚
        // ç°¡æ˜“çš„ã« innerHTML ã‚’æ›¸ãæ›ãˆã¦è¡¨ç¤ºã—ã¾ã™
        google.script.run.withSuccessHandler(this.renderPastResults.bind(this)).getTodayPastResults();
    }

renderPastResults(results) {
    const container = document.getElementById('race-betting-area');
    if (!results || results.length === 0) {
      container.innerHTML = '<div style="padding:20px; text-align:center;">æœ¬æ—¥ã®ãƒ¬ãƒ¼ã‚¹çµæœã¯ã¾ã ã‚ã‚Šã¾ã›ã‚“</div>';
      return;
    }
    // æ–°ã—ã„é †ã«
    results.reverse();
    let html = '<div style="padding:20px; height:100%; overflow-y:auto;"><h3>ğŸ“… æœ¬æ—¥ã®ãƒ¬ãƒ¼ã‚¹çµæœ</h3>';
    
    results.forEach(data => {
      const rId = data.raceId.split('_')[1]; // æ™‚åˆ»éƒ¨åˆ†
      const order = data.result; // [1ç€ID, 2ç€ID...]
      const bets = data.bets; // å…¨å“¡ã®æŠ•ç¥¨
      
      const h1 = horsesgatya.find(h => h.id === order[0]);
      const h2 = horsesgatya.find(h => h.id === order[1]);
      const h3 = horsesgatya.find(h => h.id === order[2]);

      // --- â˜…è¿½åŠ ï¼šè‡ªåˆ†ã®æŠ•ç¥¨çµæœã‚’è©³ç´°è¡¨ç¤º ---
      const myBets = bets.filter(b => b.user === this.userId);
      let myBetHtml = '';
      if (myBets.length > 0) {
        myBetHtml = '<div style="margin-top:10px; padding-top:5px; border-top:1px dashed #eee; font-size:12px;"><strong>ã‚ãªãŸã®æŠ•ç¥¨:</strong>';
        myBets.forEach(bet => {
          // çš„ä¸­åˆ¤å®š
          const payout = this.checkWin(bet, order[0], order[1], order[2]);
          const isHit = payout > 0;
          const style = isHit ? 'color:#d35400; font-weight:bold; background:#fff3e0;' : 'color:#999;';
          const icon = isHit ? 'ğŸ¯' : 'ğŸ’€';
          const resultStr = isHit ? `(+Â¥${payout.toLocaleString()})` : '';
          
          myBetHtml += `<div style="padding:4px; border-radius:4px; margin-top:2px; ${style}">
            ${icon} [${bet.type}] ${bet.desc} <span style="font-size:10px;">(Â¥${bet.amount})</span> ${resultStr}
          </div>`;
        });
        myBetHtml += '</div>';
      } else {
        myBetHtml = '<div style="margin-top:10px; font-size:11px; color:#ccc;">(æŠ•ç¥¨ãªã—)</div>';
      }
      // ---------------------------------------

      // å…¨ä½“ã®å½“é¸è€…
      let winnersHtml = '';
      const winners = [];
      bets.forEach(bet => {
        const payout = this.checkWin(bet, order[0], order[1], order[2]);
        if (payout > 0) {
          winners.push(`${bet.user} (+Â¥${payout.toLocaleString()})`);
        }
      });
      if (winners.length > 0) {
        winnersHtml = `<div style="margin-top:5px; font-size:11px; color:#0079bf;">ğŸ† çš„ä¸­è€…: ${winners.join(', ')}</div>`;
      }

      html += `
        <div style="background:white; padding:10px; margin-bottom:15px; border-radius:8px; border:1px solid #ddd; box-shadow:0 2px 4px rgba(0,0,0,0.05);">
          <div style="font-weight:bold; border-bottom:1px solid #eee; margin-bottom:5px;">${rId} ç™ºèµ°</div>
          <div style="display:flex; align-items:center; gap:10px;">
            <span style="font-size:20px;">ğŸ¥‡${h1.icon} ${h1.name}</span>
            <span style="font-size:14px; color:#666;">ğŸ¥ˆ${h2.name}</span>
            <span style="font-size:14px; color:#666;">ğŸ¥‰${h3.name}</span>
          </div>
          ${myBetHtml}
          ${winnersHtml}
        </div>
      `;
    });

    html += '<button class="btn-close-result" onclick="GM.closeRaceResult()">é–‰ã˜ã‚‹</button></div>';
    container.innerHTML = html;
    
    const right = document.getElementById('race-right-content');
    if(right) right.innerHTML = '';
  }

    renderRaceResult(r1, r2, r3) {
        const rightCol = document.getElementById('race-right-content');
        if (!rightCol) return;

        const getHorse = (id) => horsesgatya.find(h => h.id === id);
        const h1 = getHorse(r1); const h2 = getHorse(r2); const h3 = getHorse(r3);
        const payWin = Math.floor(h1.odds * 100);
        const payQuinella = Math.floor(h1.odds * h2.odds * 20);
        const payTrio = Math.floor(h1.odds * h2.odds * h3.odds * 10);

        rightCol.innerHTML = `
            <div style="padding:10px; height:100%; display:flex; flex-direction:column;">
                <div class="result-header" style="background:#2c3e50; color:white; padding:5px; text-align:center;">ğŸ ãƒ¬ãƒ¼ã‚¹çµæœ</div>
                <table class="result-table" style="width:100%; border-collapse:collapse; font-size:11px; margin-bottom:10px;">
                    <tr style="background:#eee;"><th style="border:1px solid #ccc;">ç€</th><th style="border:1px solid #ccc;">ç•ª</th><th style="border:1px solid #ccc;">é¦¬å</th></tr>
                    <tr class="rank-1" style="background:#fff9c4;"><td style="border:1px solid #ccc; text-align:center;">1</td><td style="border:1px solid #ccc; text-align:center;">${h1.id}</td><td style="border:1px solid #ccc;">${h1.name}</td></tr>
                    <tr class="rank-2" style="background:#f5f5f5;"><td style="border:1px solid #ccc; text-align:center;">2</td><td style="border:1px solid #ccc; text-align:center;">${h2.id}</td><td style="border:1px solid #ccc;">${h2.name}</td></tr>
                    <tr class="rank-3" style="background:#fff0e0;"><td style="border:1px solid #ccc; text-align:center;">3</td><td style="border:1px solid #ccc; text-align:center;">${h3.id}</td><td style="border:1px solid #ccc;">${h3.name}</td></tr>
                </table>
                <div class="result-header" style="background:#d35400; color:white; padding:5px; text-align:center;">ğŸ’° æ‰•æˆ»é‡‘ (ç›®å®‰)</div>
                <div style="flex:1; overflow-y:auto;">
                    <table class="result-table" style="width:100%; border-collapse:collapse; font-size:11px;">
                        <tr style="background:#eee;"><th>å¼åˆ¥</th><th>ç•ª</th><th style="text-align:right;">é…å½“</th></tr>
                        <tr><td style="border:1px solid #ccc;">å˜å‹</td><td style="border:1px solid #ccc; text-align:center;">${h1.id}</td><td style="border:1px solid #ccc; text-align:right; color:#d35400; font-weight:bold;">${payWin}å††</td></tr>
                        <tr><td style="border:1px solid #ccc;">é¦¬é€£</td><td style="border:1px solid #ccc; text-align:center;">${Math.min(r1,r2)}-${Math.max(r1,r2)}</td><td style="border:1px solid #ccc; text-align:right; color:#d35400; font-weight:bold;">${payQuinella}å††</td></tr>
                        <tr><td style="border:1px solid #ccc;">3é€£è¤‡</td><td style="border:1px solid #ccc; text-align:center;">${[r1,r2,r3].sort((a,b)=>a-b).join('-')}</td><td style="border:1px solid #ccc; text-align:right; color:#d35400; font-weight:bold;">${payTrio}å††</td></tr>
                    </table>
                </div>
                <button class="btn-close-result" onclick="GM.closeRaceResult()" style="margin-top:10px; padding:10px; background:#333; color:white; border:none; border-radius:4px; cursor:pointer; width:100%;">é–‰ã˜ã‚‹ / æ¬¡ã®ãƒ¬ãƒ¼ã‚¹ã¸</button>
            </div>
        `;
    }

    closeRaceResult() {
        document.getElementById('race-modal').classList.add('hidden');
        this.updateRaceStatus();
    }

    /* =========================================
       â˜…è¿½åŠ ï¼šã‚¬ãƒãƒ£æ©Ÿèƒ½
       ========================================= */
    openGacha() {
        document.getElementById('gacha-modal').classList.remove('hidden');
    }

    pullGacha() {
        const COST = 500;
        if (this.data.money < COST) {
            alert('ãŠé‡‘ãŒè¶³ã‚Šã¾ã›ã‚“ï¼(å¿…è¦: Â¥500)');
            return;
        }
        this.addMoney(-COST, 'ã‚¬ãƒãƒ£');

        const area = document.getElementById('gacha-animation-area');
        area.innerHTML = '<span style="font-size:40px; animation:spin 1s infinite;">ğŸ²</span>';

        setTimeout(() => {
            const result = horsesgatya[Math.floor(Math.random() * horsesgatya.length)];
            
            if (!this.data.collection) this.data.collection = [];
            if (!this.data.collection.includes(result.id)) {
                this.data.collection.push(result.id);
                this.save();
            }

            area.innerHTML = `
                <div class="gacha-result-card">
                    <div style="font-size:50px;">${result.icon}</div>
                    <div style="font-weight:bold; font-size:18px;">${result.name}</div>
                    <div style="color:#f39c12;">â˜…â˜…â˜…â˜…</div>
                </div>
            `;
        }, 1500);
    }

/* =========================================
       â˜…è¿½åŠ ï¼šæ‰€æŒé‡‘ãƒ©ãƒ³ã‚­ãƒ³ã‚°æ©Ÿèƒ½
       ========================================= */
    openMoneyRanking() {
        document.getElementById('money-ranking-modal').classList.remove('hidden');
        const listEl = document.getElementById('money-ranking-list');
        listEl.innerHTML = '<li style="text-align:center; padding:20px;"><span class="material-icons" style="animation:spin 1s infinite linear;">refresh</span> ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ä¸­...</li>';

        google.script.run.withSuccessHandler((data) => {
            this.renderMoneyRanking(data);
        }).getMoneyRanking();
    }

    renderMoneyRanking(data) {
        const listEl = document.getElementById('money-ranking-list');
        listEl.innerHTML = '';

        if (!data || data.length === 0) {
            listEl.innerHTML = '<li style="text-align:center; padding:15px;">ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“<br>(ãƒ¬ãƒ¼ã‚¹é–‹å‚¬å¾Œã«æ›´æ–°ã•ã‚Œã¾ã™)</li>';
            return;
        }

        data.forEach((item, index) => {
            const li = document.createElement('li');
            li.className = 'ranking-item'; // æ—¢å­˜ã®ranking-itemã‚¯ãƒ©ã‚¹ã‚’æµç”¨
            
            // è‡ªåˆ†ã®è¡Œã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆ
            if (item.user === this.userId) li.classList.add('is-me');

            // 1~3ä½ã®è£…é£¾
            let rankBadge = `<span class="rank-num">${index + 1}</span>`;
            if (index === 0) { li.style.borderColor = '#ffd700'; rankBadge = `<span class="rank-num" style="color:#ffd700;">ğŸ¥‡</span>`; }
            else if (index === 1) { li.style.borderColor = '#c0c0c0'; rankBadge = `<span class="rank-num" style="color:#c0c0c0;">ğŸ¥ˆ</span>`; }
            else if (index === 2) { li.style.borderColor = '#b87333'; rankBadge = `<span class="rank-num" style="color:#b87333;">ğŸ¥‰</span>`; }

            li.innerHTML = `
                <div class="ranking-user">
                    ${rankBadge}
                    <div>
                        <span class="ranking-name">${escapeHtml(item.user)}</span>
                    </div>
                </div>
                <div class="ranking-stats">
                    <span class="ranking-score" style="color:#f1c40f;">Â¥${Number(item.money).toLocaleString()}</span>
                </div>
            `;
            listEl.appendChild(li);
        });
    }

} // â† â˜…GameSystemã‚¯ãƒ©ã‚¹ã®é–‰ã˜ã‚«ãƒƒã‚³

const GM = new GameSystem();

// â˜…ä¿®æ­£ï¼šã‚·ãƒ§ãƒƒãƒ—ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤ºé–¢æ•°
function openShopModal() {
    const container = document.getElementById('shop-items-container');
    if (!container) return;
    
    container.innerHTML = ''; // ã‚¯ãƒªã‚¢

    Object.keys(SHOP_ITEMS).forEach(key => {
        const item = SHOP_ITEMS[key];
        const currentCount = (GM && GM.data && GM.data.inventory[key]) || 0;
        
        // ã‚³ã‚¹ãƒˆè¨ˆç®—
        const currentCost = Math.floor(item.baseCost * Math.pow(1.15, currentCount));
        const canBuy = (GM && GM.data.xp >= currentCost);

        const div = document.createElement('div');
        div.className = 'shop-item';
        div.style.cssText = 'display:flex; justify-content:space-between; align-items:center; padding:10px; border:1px solid #ddd; border-radius:8px; margin-bottom:8px; background:#fff;';
        
        // ãƒ¦ãƒ‹ãƒ¼ã‚¯ã‚¢ã‚¤ãƒ†ãƒ ã®è£…é£¾
        if (item.isUnique) {
            div.style.border = "2px solid #9b59b6";
            div.style.background = "linear-gradient(to right, #f3e5f5, #fff)";
        }

        let effectText = "";
        if (item.type === 'click') effectText = `ã‚¯ãƒªãƒƒã‚¯åŠ› +${item.clickPower}`;
        else effectText = `${item.xpPerSec.toLocaleString()} XP/ç§’`;

        div.innerHTML = `
            <div class="shop-info">
                <h4 style="margin:0 0 4px 0; font-size:14px; color:${item.isUnique ? '#8e44ad' : '#333'}">
                    ${item.name}
                </h4>
                <div style="font-size:10px; color:#666;">${item.desc || ''}</div>
                <div style="font-size:11px; font-weight:bold; color:#0079bf; margin-top:2px;">${effectText}</div>
                <div style="font-size:10px; margin-top:2px;">æ‰€æŒæ•°: <b>${currentCount}</b></div>
            </div>
            <button class="btn-buy" onclick="buyShopItem('${key}')" ${canBuy ? '' : 'disabled'} 
                style="${canBuy ? '' : 'background:#ccc; cursor:not-allowed;'}">
                æ¶ˆè²» ${currentCost.toLocaleString()} XP
            </button>
        `;
        container.appendChild(div);
    });

    document.getElementById('shop-modal').classList.remove('hidden');
}

/* ---------------------------------------------------------
   ä¿®æ­£ç‰ˆ: ãƒ©ãƒ³ã‚­ãƒ³ã‚°è¡¨ç¤ºé–¢æ•° (æ–°æ©Ÿèƒ½å¯¾å¿œ)
   --------------------------------------------------------- */
function openRankingModal() {
    document.getElementById('ranking-modal').classList.remove('hidden');
    const listEl = document.getElementById('ranking-list');
    listEl.innerHTML = '<li style="text-align:center; padding:20px; color:#00d4ff;"><span class="material-icons" style="animation:spin 1s infinite linear; vertical-align:middle;">refresh</span> LOADING DATA...</li>';

    google.script.run.withSuccessHandler((data) => {
        listEl.innerHTML = '';
        if (!data || data.length === 0) {
            listEl.innerHTML = '<li style="padding:15px; text-align:center;">NO DATA</li>';
            return;
        }

        data.forEach((user, index) => {
            const li = document.createElement('li');
            li.className = 'ranking-item';
            
            const s = user.settings || {}; // è¨­å®šçŸ­ç¸®ç”¨

            // 1. èƒŒæ™¯ãƒ—ãƒ¬ãƒ¼ãƒˆ & ãƒ•ãƒ¬ãƒ¼ãƒ è£…é£¾
            if (s.profileDeco) li.classList.add(s.profileDeco);
            if (s.rankingPlate) li.classList.add(s.rankingPlate);
            
            // 2. ãƒ›ãƒãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
            if (s.hoverAction) li.classList.add(s.hoverAction);
            
            // è‡ªåˆ†åˆ¤å®š
            if (user.userId === currentUserId) {
                li.classList.add('is-me');
            }

            // 3. ç§°å· & ãƒ•ãƒ¬ãƒ¼ãƒãƒ¼ãƒ†ã‚­ã‚¹ãƒˆ
            const titleHtml = (s.title) ? `<span class="ranking-title">[${escapeHtml(s.title)}]</span>` : '';
            const flavorHtml = (s.flavorText) ? `<span class="flavor-text">${escapeHtml(s.flavorText)}</span>` : '';

            // 4. ãƒ©ãƒ³ã‚¯ã‚¨ãƒ³ãƒ–ãƒ¬ãƒ 
            const emblemHtml = (s.rankEmblem) ? `<span class="rank-emblem">${s.rankEmblem}</span>` : '';

            // 5. ãƒãƒ¼ãƒ ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
            const nameClass = (s.nameEffect) ? `class="ranking-name ${s.nameEffect}"` : `class="ranking-name"`;

            // HTMLç”Ÿæˆ
            li.innerHTML = `
                <div class="ranking-user">
                    <span class="rank-num">${index + 1}</span>
                    ${emblemHtml}
                    <div style="display:flex; flex-direction:column; justify-content:center;">
                        <span ${nameClass}>${escapeHtml(user.userId)} ${titleHtml}</span>
                        ${flavorHtml}
                    </div>
                </div>
                <div class="ranking-stats">
                    <span class="ranking-score">${Number(user.xp).toLocaleString()} XP</span>
                    <span class="ranking-level">Lv.${user.level}</span>
                </div>
            `;
            listEl.appendChild(li);
        });
    }).withFailureHandler((e) => {
        listEl.innerHTML = '<li style="padding:15px; color:#ff4444;">ERROR: ' + escapeHtml(e.message) + '</li>';
    }).getAllGameData();
}

    window.addEventListener('DOMContentLoaded', () => {
      document.getElementById('assignment-modal').classList.add('hidden');
      document.getElementById('settings-modal').classList.add('hidden');
      document.getElementById('move-modal').classList.add('hidden');
      document.getElementById('sidebar-overlay').classList.add('hidden');
      document.getElementById('dashboard-modal').classList.add('hidden');
      document.getElementById('bulk-assign-modal').classList.add('hidden');
      document.getElementById('memo-modal').classList.add('hidden');
      
      const isCollapsed = localStorage.getItem('trello_header_collapsed') === 'true';
      if (isCollapsed) toggleHeader(false);
      
      const oldDarkMode = localStorage.getItem('trello_dark_mode') === 'true';
      let savedTheme = localStorage.getItem('trello_theme');

      if (!savedTheme && oldDarkMode) {
          savedTheme = 'dark';
      } else if (!savedTheme) {
          savedTheme = 'default';
      }

      applyThemeClass(savedTheme);
      const themeSelect = document.getElementById('select-theme');
      if(themeSelect) themeSelect.value = savedTheme;
      
      loadBgSettings();

      checkLoginStatus();

// â˜…ä¿®æ­£: 120ç§’ã”ã¨ã«è‡ªå‹•æ›´æ–°ï¼ˆã‚¿ãƒ–ãŒã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªæ™‚ã®ã¿å®Ÿè¡Œã—ã¦APIã‚’ç¯€ç´„ï¼‰
setInterval(() => {
    // ãƒ­ã‚°ã‚¤ãƒ³ä¸­ ã‹ã¤ ä¸€æ‹¬ãƒ¢ãƒ¼ãƒ‰ã§ãªã„ ã‹ã¤ ã€Œã‚¿ãƒ–ãŒç¾åœ¨è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹å ´åˆã€ã®ã¿å®Ÿè¡Œ
    if (currentUserId && !isBulkMode && document.visibilityState === 'visible') { 
        console.log("Auto-refreshing data...");
        loadData(true); // ç”»é¢ã‚’æ›´æ–°ï¼ˆã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ç¶­æŒï¼‰
        
        // â˜…ä¿®æ­£ï¼šç¾åœ¨é–‹ã„ã¦ã„ã‚‹ãƒ¢ãƒ¼ãƒ‰ã«åˆã‚ã›ã¦æ›´æ–°ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’å¤‰ãˆã‚‹
        if (currentMemoCardId) {
            // ã‚«ãƒ¼ãƒ‰ãƒ¡ãƒ¢ã‚’é–‹ã„ã¦ã„ã‚‹æ™‚ã¯ã€ãã®ã‚«ãƒ¼ãƒ‰ã®ãƒ¡ãƒ¢ã‚’å†èª­ã¿è¾¼ã¿
            loadCardMemos(currentMemoCardId);
        } else {
            // ãã‚Œä»¥å¤–ï¼ˆé€šå¸¸æ™‚ï¼‰ã¯å€‹äººãƒ¡ãƒ¢ã‚’å†èª­ã¿è¾¼ã¿
            loadMemos();
        }
    }
}, 2900000);

// ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ç”¨ï¼‰
      window.addEventListener('click', (e) => {
          document.getElementById('context-menu').classList.add('hidden');
          // ä¿®æ­£: particleType ãŒã‚ã‚‹ã‹ãƒã‚§ãƒƒã‚¯ã—ã€å¼•æ•°ã¨ã—ã¦æ¸¡ã™
          if (GM.data.level >= 3 && GM.data.settings.particleType) {
              createClickParticle(e.pageX, e.pageY, GM.data.settings.particleType);
          }
      });
      document.getElementById('context-menu').addEventListener('click', (e) => e.stopPropagation());

// â–¼â–¼â–¼â–¼â–¼ ã“ã“ã«è¿½åŠ ï¼šå…¥åŠ›ã‚¨ãƒ•ã‚§ã‚¯ãƒˆï¼ˆLv.12~ï¼‰ â–¼â–¼â–¼â–¼â–¼
      document.addEventListener('input', (e) => {
          // ãƒ¬ãƒ™ãƒ«12ä»¥ä¸Š ã‹ã¤ å…¥åŠ›ã‚¨ãƒ•ã‚§ã‚¯ãƒˆè¨­å®šON ã®å ´åˆ
          if (GM.data.level >= 12 && GM.data.settings.inputEffect) {
              // å…¥åŠ›æ¬„(INPUT) ã¾ãŸã¯ ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢(TEXTAREA) ã®å ´åˆã®ã¿ç™ºå‹•
              if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') {
                  const rect = e.target.getBoundingClientRect();
                  
                  // å…¥åŠ›æ¬„ã®å³ç«¯ã‚ãŸã‚Šã‹ã‚‰ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ã‚’å‡ºã™
                  const x = rect.right - 20; 
                  const y = rect.top + (rect.height / 2);
                  
                  // è¨­å®šã•ã‚Œã¦ã„ã‚‹ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ç¨®é¡ã‚’å–å¾—ï¼ˆãªã‘ã‚Œã°æ¨™æº–ï¼‰
                  const pType = GM.data.settings.particleType || 'std';
                  
                  createClickParticle(x, y, pType);
              }
          }
      });

      // ã‚­ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆ
      window.addEventListener('keydown', (e) => {
          if ((e.ctrlKey || e.metaKey) && e.key === 'z') { e.preventDefault(); undoCommand(); }
          else if ((e.ctrlKey || e.metaKey) && e.key === 'y') { e.preventDefault(); redoCommand(); }
          
          if (e.key === konamiCode[konamiIndex] || e.key.toLowerCase() === konamiCode[konamiIndex]) {
              konamiIndex++;
              if (konamiIndex === konamiCode.length) {
                  activateGodMode();
                  konamiIndex = 0;
              }
          } else {
              konamiIndex = 0;
          }
      });

      // ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ç”¨ï¼‰
      window.addEventListener('click', (e) => {
          document.getElementById('context-menu').classList.add('hidden');
          if (GM.data.level >= 3 && GM.data.settings.particle) {
              createClickParticle(e.pageX, e.pageY);
          }
      });
document.getElementById('context-menu').addEventListener('click', (e) => e.stopPropagation());

      setInterval(checkMemoNotifications, 60000);

      // â–¼â–¼â–¼ ã“ã“ã«æŒ¿å…¥ã—ã¾ã™ â–¼â–¼â–¼
      // â˜…è¿½åŠ ï¼š30åˆ†ã”ã¨ã«æœŸé™åˆ‡ã‚ŒçŠ¶æ…‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã‚¢ã‚¤ã‚³ãƒ³ã‚’æ›´æ–°
      setInterval(() => {
          // ã‚¿ãƒ–ãŒé–‹ã„ã¦ã„ã‚‹æ™‚ã ã‘å®Ÿè¡Œ
          if (document.visibilityState === 'visible') {
              refreshOverdueStatus();
          }
      }, 30 * 60 * 1000); // 30åˆ†
      // â–²â–²â–² ã“ã“ã¾ã§ â–²â–²â–²

    }); // â† window.addEventListener('DOMContentLoaded', ... ã®çµ‚ã‚ã‚Šã®ã‚«ãƒƒã‚³

// â–¼â–¼â–¼ createClickParticle é–¢æ•°ã‚’ã“ã‚Œã«å·®ã—æ›¿ãˆ â–¼â–¼â–¼
function createClickParticle(x, y, type) {
    // ã€é¦¬ãƒ¢ãƒ¼ãƒ‰åˆ¤å®šã€‘bodyã« 'horse-mode' ã‚¯ãƒ©ã‚¹ãŒã‚ã‚‹ã‹ãƒã‚§ãƒƒã‚¯
    if (document.body.classList.contains('horse-mode')) {
        // é¦¬ãƒ¢ãƒ¼ãƒ‰å°‚ç”¨ï¼šãƒ‹ãƒ³ã‚¸ãƒ³ã‚„è¹„é‰„ãªã©ã‚’æ•£ã‚‰ã™
        const emojis = ['ğŸ¥•', 'ğŸ'];
        
        for (let i = 0; i < 8; i++) {
            const p = document.createElement('div');
            // ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«å…±é€šã‚¯ãƒ©ã‚¹ï¼ˆã‚¹ã‚¿ã‚¤ãƒ«ã¯æ—¢å­˜CSSã‚’åˆ©ç”¨ï¼‰
            p.className = 'click-particle';
            // çµµæ–‡å­—ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã‚»ãƒƒãƒˆ
            p.textContent = emojis[Math.floor(Math.random() * emojis.length)];
            
            // ä½ç½®åˆã‚ã›ï¼ˆå°‘ã—å¤§ãã‚ã«ï¼‰
            p.style.left = x + 'px';
            p.style.top = y + 'px';
            p.style.fontSize = '24px';
            p.style.position = 'fixed';
            p.style.pointerEvents = 'none';
            p.style.zIndex = '9999';
            
            // ãƒ©ãƒ³ãƒ€ãƒ ãªæ–¹å‘ã«é£›ã³æ•£ã‚‹è¨ˆç®—
            const angle = Math.random() * Math.PI * 2;
            const velocity = 60 + Math.random() * 60; // é£›ã³æ•£ã‚‹è·é›¢
            const tx = Math.cos(angle) * velocity + 'px';
            const ty = Math.sin(angle) * velocity + 'px';
            const rot = (Math.random() * 360) - 180; // å›è»¢

            // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ (Web Animations API)
            p.animate([
                { transform: 'translate(0,0) scale(0.5) rotate(0deg)', opacity: 1 },
                { transform: `translate(${tx}, ${ty}) scale(1.2) rotate(${rot}deg)`, opacity: 0 }
            ], {
                duration: 800,
                easing: 'cubic-bezier(0, .9, .57, 1)', // ã½ã‚ˆã‚“ã¨ã—ãŸå‹•ã
                fill: 'forwards'
            });
            
            document.body.appendChild(p);
            // çµ‚ã‚ã£ãŸã‚‰è¦ç´ ã‚’å‰Šé™¤
            setTimeout(() => p.remove(), 800);
        }
        return; // é¦¬ãƒ¢ãƒ¼ãƒ‰å‡¦ç†ãŒçµ‚ã‚ã£ãŸã‚‰ã“ã“ã§çµ‚äº†
    }

    // â–¼â–¼â–¼ ä»¥ä¸‹ã€é€šå¸¸ãƒ¢ãƒ¼ãƒ‰ã®å‡¦ç†ï¼ˆæ—¢å­˜ã‚³ãƒ¼ãƒ‰ã®ã¾ã¾ï¼‰ â–¼â–¼â–¼
    for (let i = 0; i < 8; i++) {
        const p = document.createElement('div');
        
        // ã‚¿ã‚¤ãƒ—ã”ã¨ã®ã‚¯ãƒ©ã‚¹ã‚’ä»˜ä¸
        p.className = `click-particle p-${type}`;
        if (type === 'std' || !type) p.className = 'click-particle';

        p.style.left = x + 'px';
        p.style.top = y + 'px';
        
        const angle = Math.random() * Math.PI * 2;
        const dist = 30 + Math.random() * 30;
        const tx = Math.cos(angle) * dist + 'px';
        const ty = Math.sin(angle) * dist + 'px';
        
        p.style.setProperty('--tx', tx);
        p.style.setProperty('--ty', ty);
        
        document.body.appendChild(p);
        setTimeout(() => p.remove(), 800);
    }
}

    // è¨­å®šã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ
    function switchSettingsTab(tabName) {
        document.querySelectorAll('.settings-tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.settings-content').forEach(c => c.classList.remove('active'));
        
        // ç°¡æ˜“å®Ÿè£…ï¼šã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã§ã¯ãªãåå‰ã§
        const tabs = document.querySelectorAll('.settings-tab');
        if (tabName === 'general') { tabs[0].classList.add('active'); document.getElementById('settings-general').classList.add('active'); }
        else { tabs[1].classList.add('active'); document.getElementById('settings-game').classList.add('active'); }
    }

// â†“â†“â†“ ã“ã®é–¢æ•°ã‚’ã¾ã‚‹ã”ã¨ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã«ç½®ãæ›ãˆã¦ãã ã•ã„ â†“â†“â†“

function saveBgSettings() {
    // èƒŒæ™¯è¨­å®šã®å–å¾—
    const settings = {
        type: document.getElementById('bg-type').value,
        url: document.getElementById('bg-url').value,
        opacity: document.getElementById('bg-opacity').value,
        scale: document.getElementById('bg-scale').value,
        posX: document.getElementById('bg-pos-x').value,
        posY: document.getElementById('bg-pos-y').value
    };

    // ç”»é¢ã«å³æ™‚åæ˜ 
    applyBgSettings(settings);
    updateBgTransform();

    // ãƒ‡ãƒ¼ã‚¿ä¿å­˜å‡¦ç†
    if (GM && GM.userId) {
        GM.data.bgSettings = settings;
        
        // â˜…ä¿®æ­£ãƒã‚¤ãƒ³ãƒˆï¼šå„è¨­å®šå€¤ã‚’DOMã‹ã‚‰å–å¾—ã—ã¦ä¿å­˜ï¼ˆè¦ç´ ãŒã‚ã‚‹å ´åˆã®ã¿ï¼‰
        if(document.getElementById('game-skin-select')) GM.data.settings.skin = document.getElementById('game-skin-select').value;
        if(document.getElementById('game-cursor-select')) GM.data.settings.cursor = document.getElementById('game-cursor-select').value;
        if(document.getElementById('game-scrollbar-select')) GM.data.settings.scrollbar = document.getElementById('game-scrollbar-select').value;
        if(document.getElementById('game-font-select')) GM.data.settings.font = document.getElementById('game-font-select').value;
        
        if(document.getElementById('game-particle-select')) GM.data.settings.particleType = document.getElementById('game-particle-select').value;
        if(document.getElementById('game-aura-select')) GM.data.settings.auraType = document.getElementById('game-aura-select').value;
        if(document.getElementById('game-title-input')) GM.data.settings.title = document.getElementById('game-title-input').value;
        
        // ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è£…é£¾ã®ä¿å­˜
        if(document.getElementById('game-profile-deco')) GM.data.settings.profileDeco = document.getElementById('game-profile-deco').value;

        if(document.getElementById('game-sound-se')) GM.data.settings.soundSe = document.getElementById('game-sound-se').checked;
        if(document.getElementById('game-input-effect')) GM.data.settings.inputEffect = document.getElementById('game-input-effect').checked;
        if(document.getElementById('game-mascot')) GM.data.settings.mascot = document.getElementById('game-mascot').checked;
        
        // â˜…ä¿®æ­£: ã“ã“ã§ `this.data` ã§ã¯ãªã `GM.data` ã‚’ä½¿ã†å¿…è¦ãŒã‚ã‚Šã¾ã™
        if(document.getElementById('game-ranking-plate')) GM.data.settings.rankingPlate = document.getElementById('game-ranking-plate').value;
        if(document.getElementById('game-name-effect')) GM.data.settings.nameEffect = document.getElementById('game-name-effect').value;
        if(document.getElementById('game-rank-emblem')) GM.data.settings.rankEmblem = document.getElementById('game-rank-emblem').value;
        if(document.getElementById('game-hover-action')) GM.data.settings.hoverAction = document.getElementById('game-hover-action').value;
        if(document.getElementById('game-flavor-text')) GM.data.settings.flavorText = document.getElementById('game-flavor-text').value;
        
        GM.save(); 
        GM.applySettings();
        GM.renderProfile();
        applyFilters();
    } else {
        localStorage.setItem('trello_bg_settings', JSON.stringify(settings));
    }
    
    closeSettingsModal();
    showToast('è¨­å®šã‚’ä¿å­˜ã—ã¾ã—ãŸ');
}

    function closeLevelUp() {
        document.getElementById('levelup-modal').classList.add('hidden');
    }

    // â˜… è¿½åŠ æ©Ÿèƒ½é–¢æ•° â˜…
    function activateGodMode() {
        document.body.classList.add('god-mode-active');
        showToast('ğŸŒˆ GOD MODE ACTIVATED ğŸŒˆ');
        playNotificationSound(); // ã¤ã„ã§ã«éŸ³ã‚‚é³´ã‚‰ã™
        setTimeout(() => {
            document.body.classList.remove('god-mode-active');
        }, 5000);
    }
    
function stopBgm() {
        if (isBgmCoolingDown) return; // â˜…è¿½åŠ ï¼šãƒ­ãƒƒã‚¯ä¸­ãªã‚‰ç„¡è¦–
        
        if (currentAudio) {
            currentAudio.pause();
            currentAudio = null;
        }
        currentBgmType = null;
        updateBgmButtons();
    }

    function toggleBgm(type) {
        if (isBgmCoolingDown) return; // â˜…è¿½åŠ ï¼šãƒ­ãƒƒã‚¯ä¸­ãªã‚‰ç„¡è¦–

        if (currentAudio && currentBgmType === type) {
            // åŒã˜ã‚‚ã®ã‚’æŠ¼ã—ãŸã‚‰åœæ­¢
            stopBgm();
            return;
        }

        if (currentAudio) {
            currentAudio.pause();
        }

        const url = bgmFiles[type];
        if (url) {
            currentAudio = new Audio(url);
            currentAudio.loop = true;
            currentAudio.volume = document.querySelector('.bgm-volume').value;
            currentAudio.play().catch(e => console.log('Audio play error:', e));
            currentBgmType = type;
        }
        updateBgmButtons();
    }
    
    function changeBgmVolume(val) {
        if (currentAudio) {
            currentAudio.volume = val;
        }
    }
    
    function updateBgmButtons() {
        document.querySelectorAll('.bgm-btn').forEach(btn => btn.classList.remove('active'));
        
        if (currentBgmType) {
            // ãƒ†ã‚­ã‚¹ãƒˆåˆ¤å®šã§ç°¡æ˜“çš„ã«activeã‚¯ãƒ©ã‚¹ä»˜ä¸
            const iconMap = { 'fire': 'local_fire_department', 'rain': 'umbrella', 'cafe': 'storefront', 'deepsea': 'waves', 'cyber': 'memory' };
            const iconName = iconMap[currentBgmType];
            const activeBtn = Array.from(document.querySelectorAll('.bgm-btn')).find(b => b.innerHTML.includes(iconName));
            if(activeBtn) activeBtn.classList.add('active');
        } else {
            // ã‚ªãƒ•ãƒœã‚¿ãƒ³ã‚’ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã«
            const offBtn = document.getElementById('btn-bgm-off');
            if(offBtn) offBtn.classList.add('active');
        }
    }

    function checkLoginStatus() {
        const storedSession = localStorage.getItem(LOGIN_KEY);
        const storedUser = localStorage.getItem(USER_KEY);
        const now = new Date();
        const currentMonthKey = `${now.getFullYear()}-${now.getMonth() + 1}`; 

        if (storedSession === currentMonthKey && storedUser && ALLOWED_USERS[storedUser]) {
            currentUserId = storedUser;
            document.getElementById('login-overlay').classList.add('hidden');
            
            // ã‚²ãƒ¼ãƒŸãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³åˆæœŸåŒ–
            GM.init(currentUserId);
            
            loadData();
            loadMemos(); 
        } else {
            document.getElementById('login-overlay').classList.remove('hidden');
        }
    }

    function performLogin() {
        const idVal = document.getElementById('login-id').value.trim();
        const passVal = document.getElementById('login-pass').value.trim();
        const errEl = document.getElementById('login-error');

        // IDãŒè¨±å¯ãƒªã‚¹ãƒˆã«ã‚ã‚Šã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒä¸€è‡´ã™ã‚‹ã‹
        if (ALLOWED_USERS[idVal] && ALLOWED_USERS[idVal] === passVal) {
            const now = new Date();
            const currentMonthKey = `${now.getFullYear()}-${now.getMonth() + 1}`;
            
            localStorage.setItem(LOGIN_KEY, currentMonthKey);
            localStorage.setItem(USER_KEY, idVal); // ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã‚’ä¿å­˜
            currentUserId = idVal;

            document.getElementById('login-overlay').classList.add('hidden');
            errEl.textContent = '';
            
            // ã‚²ãƒ¼ãƒŸãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³åˆæœŸåŒ–
            GM.init(currentUserId);

            loadData(); 
            loadMemos(); 
        } else {
            errEl.textContent = 'IDã¾ãŸã¯ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒé–“é•ã£ã¦ã„ã¾ã™';
        }
    }
    
    function performLogout() {
        if(!confirm('ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¾ã™ã‹ï¼Ÿ')) return;
        localStorage.removeItem(LOGIN_KEY);
        localStorage.removeItem(USER_KEY);
        location.reload();
    }

function changeTheme() {
        const theme = document.getElementById('select-theme').value;
        applyThemeClass(theme);
        
        // â–¼â–¼â–¼ã€å¤‰æ›´ã€‘GMãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦ä¿å­˜ã—ã€ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã¸åŒæœŸ â–¼â–¼â–¼
        if (GM && GM.userId) {
            GM.data.theme = theme;
            GM.save(); // ã“ã‚Œã§ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«æ›¸ãè¾¼ã¾ã‚Œã¾ã™
        } else {
            // ãƒ­ã‚°ã‚¤ãƒ³å‰ãªã©ã®äºˆå‚™ã¨ã—ã¦ãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚‚æ®‹ã—ã¦ãŠã
            localStorage.setItem('trello_theme', theme);
        }
        // â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²
    }

/* index.html ã® scriptå†…ã€applyThemeClass é–¢æ•°ã‚’ä¿®æ­£ */
function applyThemeClass(theme) {
    // æ—¢å­˜ã®ãƒ¢ãƒ¼ãƒ‰ã‚¯ãƒ©ã‚¹ã‚’ã™ã¹ã¦å‰Šé™¤ï¼ˆhorse-modeã‚’è¿½åŠ ï¼‰
    document.body.classList.remove('dark-mode', 'cat-mode', 'dog-mode', 'dragon-mode', 'neon-mode', 'gaming-mode', 'retro-mode', 'blueprint-mode', 'japan-mode', 'horse-mode');

    if (theme === 'dark') document.body.classList.add('dark-mode');
    else if (theme === 'cat') document.body.classList.add('cat-mode');
    else if (theme === 'dog') document.body.classList.add('dog-mode');
    // â–¼â–¼â–¼ ã“ã“ã«è¿½åŠ  â–¼â–¼â–¼
    else if (theme === 'horse') document.body.classList.add('horse-mode');
    // â–²â–²â–² ã“ã“ã¾ã§è¿½åŠ  â–²â–²â–²
    else if (theme === 'dragon') document.body.classList.add('dragon-mode');
    else if (theme === 'neon') document.body.classList.add('neon-mode');
    else if (theme === 'gaming') document.body.classList.add('gaming-mode');
    else if (theme === 'retro') document.body.classList.add('retro-mode');
    else if (theme === 'blueprint') document.body.classList.add('blueprint-mode');
    else if (theme === 'japan') document.body.classList.add('japan-mode');
}

function loadData(isSilent = false) {
      if (!isSilent) document.getElementById('loading').classList.remove('hidden');
      document.getElementById('error-msg').classList.add('hidden');
      
      google.script.run.withSuccessHandler((response) => {
          // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä½ç½®ã‚’ä¿å­˜
          const dashboard = document.getElementById('dashboard');
          const savedScrollLeft = dashboard ? dashboard.scrollLeft : 0;

          initDashboard(response);

          // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä½ç½®ã‚’å¾©å…ƒ (ã‚µã‚¤ãƒ¬ãƒ³ãƒˆæ›´æ–°æ™‚ã®ã¿)
          if(isSilent && dashboard) {
              setTimeout(() => {
                  dashboard.scrollLeft = savedScrollLeft;
              }, 0);
          }
      }).withFailureHandler(showError).getTrelloData();
    }

function initDashboard(response) {
      document.getElementById('loading').classList.add('hidden');
      if (response.error) { showError(response.error); return; }

      globalData.lists = response.data.lists;
      globalData.cards = response.data.cards;
      globalData.members = response.data.members;
      
      // â˜…è¿½åŠ ï¼šæœŸé™åˆ‡ã‚Œãƒ¡ãƒ¢ãŒã‚ã‚‹ã‚«ãƒ¼ãƒ‰IDã®ãƒªã‚¹ãƒˆã‚’ä¿å­˜
      globalData.overdueMemoCardIds = response.data.overdueMemoCardIds || [];
      
      // (ä»¥ä¸‹å¤‰æ›´ãªã—)
      populateSelect('filter-industry', response.data.filterOptions.industries);
      populateSelect('filter-prefecture', response.data.filterOptions.prefectures);
      populateSelect('filter-trelloLabel', response.data.filterOptions.trelloLabels);

      ROLE_KEYS.forEach(key => {
        const items = response.data.filterOptions.roles[key];
        populateSelect(`filter-${key}`, items);
      });

      initMemberSelects();
      initConstructionNumberSelect();
      initColumnMenu();
      applyFilters();
    }
    
    function initMemberSelects() {
      const mapping = {
        'input-construction': globalData.members.construction,
        'input-system': globalData.members.system,
        'input-sales': globalData.members.sales,
        'input-mtg': globalData.members.mtg,
        'bulk-construction': globalData.members.construction,
        'bulk-system': globalData.members.system,
        'bulk-sales': globalData.members.sales,
        'bulk-mtg': globalData.members.mtg
      };
      for (const [elementId, memberList] of Object.entries(mapping)) {
        const select = document.getElementById(elementId);
        if (elementId.startsWith('bulk-')) {
            select.innerHTML = '<option value="">(å¤‰æ›´ã—ãªã„)</option>';
        } else {
            select.innerHTML = '<option value="">(æœªè¨­å®š)</option>';
        }
        if (memberList) {
          memberList.forEach(member => {
            const option = document.createElement('option');
            option.value = member;
            option.textContent = member;
            select.appendChild(option);
          });
        }
      }
    }
    function initConstructionNumberSelect() {
      const select = document.getElementById('input-constructionNumber');
      for(let i = 1; i <= 100; i++) {
        const option = document.createElement('option');
        option.value = String(i);
        option.textContent = String(i);
        select.appendChild(option);
      }
    }
    function populateSelect(elementId, items) {
      const select = document.getElementById(elementId);
      const currentVal = select.value;
      while (select.options.length > 1) select.remove(1);
      items.forEach(item => {
        const option = document.createElement('option');
        option.value = item; option.textContent = item;
        select.appendChild(option);
      });
      if (items.includes(currentVal)) select.value = currentVal;
    }
    function setQuickFilter(type) {
      if (currentQuickFilter === type) { currentQuickFilter = null; } else { currentQuickFilter = type; }
      document.querySelectorAll('.btn-quick-filter').forEach(btn => btn.classList.remove('active'));
      if (currentQuickFilter === 'overdue') document.querySelector('.btn-overdue').classList.add('active');
      if (currentQuickFilter === 'due24h') document.querySelector('.btn-due24h').classList.add('active');
      if (currentQuickFilter === 'due3d') document.querySelector('.btn-due3d').classList.add('active');
      if(currentSidebarType === 'today') document.querySelector('.btn-today').classList.add('active');
      if(currentSidebarType === 'tomorrow') document.querySelector('.btn-tomorrow').classList.add('active');
      if(currentSidebarType === 'nextMonday') document.querySelector('.btn-nextMonday').classList.add('active');
      applyFilters();
    }

    function applyFilters() {
      const filters = {
        search: document.getElementById('search-input').value.toLowerCase().trim(),
        industry: document.getElementById('filter-industry').value,
        prefecture: document.getElementById('filter-prefecture').value,
        trelloLabel: document.getElementById('filter-trelloLabel').value,
        construction: document.getElementById('filter-construction').value,
        system: document.getElementById('filter-system').value,
        sales: document.getElementById('filter-sales').value,
        mtg: document.getElementById('filter-mtg').value,
        systemType: document.getElementById('filter-systemType').value,
        sort: document.getElementById('sort-mode').value
      };
      const now = new Date(); 
      let filtered = globalData.cards.filter(card => {
        if (currentQuickFilter === 'overdue') {
          if (!card.due || card.dueComplete) return false;
          if (new Date(card.due) >= now) return false;
        } else if (currentQuickFilter === 'due24h') {
          if (!card.due || card.dueComplete) return false;
          const diffMs = new Date(card.due) - now;
          if (diffMs < 0 || diffMs > 24 * 60 * 60 * 1000) return false;
        } else if (currentQuickFilter === 'due3d') {
          if (!card.due || card.dueComplete) return false;
          const diffMs = new Date(card.due) - now;
          if (diffMs < 0 || diffMs > 3 * 24 * 60 * 60 * 1000) return false;
        }
        if (filters.search) {
          if (!(card.name || '').toLowerCase().includes(filters.search)) return false;
        }
        if (filters.industry && !card.industries.includes(filters.industry)) return false;
        if (filters.prefecture && !card.prefectures.includes(filters.prefecture)) return false;
        if (filters.trelloLabel && !card.trelloLabels.some(l => l.name === filters.trelloLabel)) return false;
        if (filters.construction && card.roles.construction !== filters.construction) return false;
        if (filters.system && card.roles.system !== filters.system) return false;
        if (filters.sales && card.roles.sales !== filters.sales) return false;
        if (filters.mtg && card.roles.mtg !== filters.mtg) return false;
        if (filters.systemType) {
          if (card.roles.systemType !== filters.systemType && card.roles.systemType2 !== filters.systemType) return false;
        }
        return true;
      });

      document.getElementById('total-count').textContent = filtered.length;
      renderColumns(filtered, filters.sort);
    }

function renderColumns(cards, sortMode) {
      const container = document.getElementById('dashboard');
      container.innerHTML = '';
      const cardsByList = {};
      cards.forEach(c => {
        if (!cardsByList[c.idList]) cardsByList[c.idList] = [];
        cardsByList[c.idList].push(c);
      });

      // ä¸¦ã³æ›¿ãˆãƒ­ã‚¸ãƒƒã‚¯
      Object.keys(cardsByList).forEach(listId => {
          cardsByList[listId].sort((a, b) => {
              const isPinnedA = a.roles.isPinned === 'TRUE';
              const isPinnedB = b.roles.isPinned === 'TRUE';
              if (isPinnedA && !isPinnedB) return -1;
              if (!isPinnedA && isPinnedB) return 1;

              if (sortMode && sortMode !== 'none') {
                  if (sortMode === 'due-asc') {
                      const da = a.due ? new Date(a.due).getTime() : 9999999999999;
                      const db = b.due ? new Date(b.due).getTime() : 9999999999999;
                      return da - db;
                  } else if (sortMode === 'updated-desc') {
                      const ua = a.roles.updatedAt ? new Date(a.roles.updatedAt).getTime() : 0;
                      const ub = b.roles.updatedAt ? new Date(b.roles.updatedAt).getTime() : 0;
                      return ub - ua;
                  } else if (sortMode === 'name-asc') {
                      return a.name.localeCompare(b.name, 'ja');
                  }
              }
              return 0;
          });
      });

      // â˜…è¿½åŠ ï¼šãƒªã‚¹ãƒˆè¨­å®šã®èª­ã¿è¾¼ã¿
      const listSettings = JSON.parse(localStorage.getItem('trello_list_settings') || '{}');

      globalData.lists.forEach(list => {
        if (hiddenListIds.has(list.id)) return;
        const listCards = cardsByList[list.id] || [];
        const wrapper = document.createElement('div');
        wrapper.className = 'list-wrapper';

        const isLocked = !unlockedListIds.has(list.id);
        const lockIcon = isLocked ? 'lock' : 'lock_open';
        const lockClass = isLocked ? 'locked' : '';

        // â˜…è¿½åŠ ï¼šè¨­å®šã®é©ç”¨
        const setting = listSettings[list.id] || {};
        const customColor = setting.color || '';
        const isCollapsed = setting.collapsed || false;

        const column = document.createElement('div');
        column.className = 'industry-column ' + lockClass + (isCollapsed ? ' collapsed' : '');
        
        // è‰²è¨­å®šãŒã‚ã‚‹å ´åˆé©ç”¨
        if (customColor) {
            column.style.backgroundColor = customColor;
            column.style.borderColor = adjustColor(customColor, -20); // æ ç·šã‚’å°‘ã—æ¿ƒã
        }

        // æŠ˜ã‚ŠãŸãŸã¿æ™‚ã®ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ
        if (isCollapsed) {
            column.title = "ã‚¯ãƒªãƒƒã‚¯ã—ã¦å±•é–‹";
            column.onclick = (e) => {
                // è¨­å®šãƒœã‚¿ãƒ³ãªã©ã‚’è¸ã‚“ã§ãªã„å ´åˆã®ã¿å±•é–‹
                if (!e.target.closest('.btn-list-settings')) {
                    toggleListCollapse(list.id);
                }
            };
        }
        
        column.innerHTML = `
          <div class="column-header">
            <span>${escapeHtml(list.name)}</span>
            <div class="column-header-actions">
              <span class="card-count" style="background:rgba(9,30,66,0.08); padding:2px 8px; border-radius:12px; font-size:12px;">${listCards.length}</span>
              <button class="btn-lock ${lockClass}" onclick="toggleLock('${list.id}', this)" title="${isLocked ? 'ãƒ­ãƒƒã‚¯è§£é™¤' : 'ç§»å‹•ã‚’ãƒ­ãƒƒã‚¯'}">
                <span class="material-icons" style="font-size:16px;">${lockIcon}</span>
              </button>
              <div style="position:relative;">
                  <button class="btn-list-settings" onclick="toggleListSettings('${list.id}', this)" title="ãƒªã‚¹ãƒˆè¨­å®š">
                    <span class="material-icons" style="font-size:16px;">tune</span>
                  </button>
                  <div id="settings-popup-${list.id}" class="list-settings-popup hidden" onclick="event.stopPropagation()">
                      <div style="font-size:11px; font-weight:bold; margin-bottom:5px; display:flex; justify-content:space-between;">
                          <span>ãƒªã‚¹ãƒˆã®è‰²</span>
                          <span class="color-reset-btn" onclick="setListColor('${list.id}', '')">ãƒªã‚»ãƒƒãƒˆ</span>
                      </div>
                      <div class="color-grid" id="color-grid-${list.id}"></div>
                      <hr style="border:0; border-top:1px solid #eee; margin:8px 0;">
                      <label style="font-size:12px; cursor:pointer; display:flex; align-items:center;">
                          <input type="checkbox" ${isCollapsed ? 'checked' : ''} onchange="toggleListCollapse('${list.id}')"> ãƒªã‚¹ãƒˆã‚’æŠ˜ã‚ŠãŸãŸã‚€
                      </label>
                  </div>
              </div>
            </div>
          </div>
        `;

        const cardListDiv = document.createElement('div');
        cardListDiv.className = 'card-list';
        cardListDiv.dataset.listId = list.id;

        if (!isLocked) {
          cardListDiv.addEventListener('dragover', handleDragOver);
          cardListDiv.addEventListener('dragleave', handleDragLeave);
          cardListDiv.addEventListener('drop', handleDrop);
        }

        listCards.forEach(card => {
          cardListDiv.appendChild(createCardElement(card, isLocked));
        });

        column.appendChild(cardListDiv);
        wrapper.appendChild(column);
        container.appendChild(wrapper);
      });
    }

function createCardElement(card, isLocked = false) {
      const hasRole = Object.values(card.roles).some(v => v !== '' && v !== undefined && v !== 'updatedAt' && v !== 'systemType' && v !== 'systemType2' && v !== 'customLink' && v !== 'isPinned');
      const cardEl = document.createElement('div');
      
      let classNames = 'trello-card';
      if(hasRole) classNames += ' assigned';
      if(card.roles.isPinned === 'TRUE') classNames += ' pinned';
      
      // --- â˜…è¿½åŠ ï¼šã‚·ã‚¹ãƒ†ãƒ ç¨®åˆ¥ã«ã‚ˆã‚‹å·¦ç«¯ãƒ©ã‚¤ãƒ³ã®è‰²ä»˜ã‘åˆ¤å®š ---
      const st1 = card.roles.systemType;
      const st2 = card.roles.systemType2;
      const isNakae = (st1 === 'ä¸­æ±Ÿå¼äºˆç´„ã‚·ã‚¹ãƒ†ãƒ /ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆ' || st2 === 'ä¸­æ±Ÿå¼äºˆç´„ã‚·ã‚¹ãƒ†ãƒ /ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆ');
      const isMokare = (st1 === 'Mokare' || st2 === 'Mokare');

      if (isNakae) classNames += ' border-nakae';
      if (isMokare) classNames += ' border-mokare';
      // ----------------------------------------------------

      // â˜… ã‚²ãƒ¼ãƒŸãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³: ã‚¹ã‚­ãƒ³ãƒ»ã‚ªãƒ¼ãƒ©ã®é©ç”¨
      if (GM.data.settings.skin) {
         classNames += ` ${GM.data.settings.skin}`;
      }
      if (GM.data.level >= 25 && GM.data.settings.auraType && isMyCard(card)) {
         classNames += ` card-aura-${GM.data.settings.auraType}`;
      }

      cardEl.className = classNames;
      
      if (selectedBulkCardIds.has(String(card.id))) {
          cardEl.classList.add('selected');
      }

      cardEl.addEventListener('contextmenu', (e) => {
          e.preventDefault();
          showContextMenu(e, card.id);
      });

      cardEl.onclick = (e) => {
         if (e.target.closest('.action-btn') || e.target.closest('.btn-custom-link') || e.target.closest('.copy-btn')) return;
         if (isBulkMode || e.shiftKey) {
             toggleCardSelection(String(card.id), cardEl);
         } else {
             window.open(card.url, '_blank');
         }
      };

      if (!isLocked) {
        cardEl.draggable = true;
        cardEl.dataset.id = card.id;
        cardEl.addEventListener('dragstart', handleDragStart);
        cardEl.addEventListener('dragend', handleDragEnd);
      } else {
        cardEl.style.cursor = 'default';
      }

// â˜…è¿½åŠ ï¼šCBãƒ©ãƒ™ãƒ«ãŒã‚ã‚‹ã‹ã©ã†ã‹ã®ãƒ•ãƒ©ã‚°
      let hasCBLabel = false; 

let trelloLabelsHtml = '';
      if (card.trelloLabels && card.trelloLabels.length > 0) {
        trelloLabelsHtml = '<div class="trello-label-container">';
        card.trelloLabels.forEach(lbl => {
          let colorClass = lbl.color ? `label-${lbl.color}` : 'label-null';
          
          // MoKAREåˆ¤å®šï¼ˆæ—¢å­˜ï¼‰
          if (lbl.name === 'MoKARE') {
            colorClass = 'label-pink';
          }

          // ã€ŒCBã€ãƒ©ãƒ™ãƒ«åˆ¤å®šï¼ˆæ—¢å­˜ï¼‰
          if (lbl.name === 'CB') {
            colorClass = 'label-pure-black'; 
            hasCBLabel = true;                
          }

          // â–¼â–¼â–¼ è¿½åŠ ï¼šåå‰æŒ‡å®šãƒ©ãƒ™ãƒ«ã®è‰²è¨­å®š â–¼â–¼â–¼
          if (lbl.name === 'å±±å£') {
            colorClass = 'label-orange'; // å±±å£ã•ã‚“ï¼ã‚ªãƒ¬ãƒ³ã‚¸
          }
          if (lbl.name === 'å‰æ‘') {
            colorClass = 'label-purple'; // å‰æ‘ã•ã‚“ï¼ç´«
          }
          if (lbl.name === 'å›å³¶') {
            colorClass = 'label-sky';    // å›å³¶ã•ã‚“ï¼æ°´è‰²
          }

          const text = lbl.name ? escapeHtml(lbl.name) : '&nbsp;&nbsp;';
          trelloLabelsHtml += `<span class="trello-label ${colorClass}">${text}</span>`;
        });
        trelloLabelsHtml += '</div>';
      }

      // â˜…è¿½åŠ ï¼šãƒ•ãƒ©ã‚°ãŒONãªã‚‰ã‚¹ãƒˆãƒ©ã‚¤ãƒ—ç”¨HTMLã‚’ä½œæˆ
      let stripeHtml = '';
      if (hasCBLabel) {
          stripeHtml = '<div class="card-cb-stripe"></div>';
      }

// â˜…ä¿®æ­£ï¼šæœŸé™æ—¥æ™‚ã‚’ãƒœã‚¿ãƒ³é¢¨ã«è¡¨ç¤º
      let dueBadgeHtml = '';
      const dueStatus = getDueStatus(card.due, card.dueComplete);
      
      if (dueStatus) {
        // æ—¥æ™‚ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå–å¾—
        const dateText = formatDateSimple(card.due);
        
        // ãƒœã‚¿ãƒ³é¢¨HTMLã®ç”Ÿæˆ
dueBadgeHtml = `
            <div class="due-btn ${dueStatus.class}" 
                 data-id="${card.id}" 
                 onclick="openAssignmentModalFromButton(this)" 
                 title="ã‚¯ãƒªãƒƒã‚¯ã—ã¦æœŸé™ã‚’å¤‰æ›´ (æœŸé™: ${dateText})">
                <span class="material-icons" style="font-size:16px;">${dueStatus.icon}</span>
                <span>${dueStatus.text}</span>
                <span class="due-date-text">${dateText}</span>
            </div>
        `;
      }

      const industryTags = card.industries.map(t => `<span class="tag tag-industry">${escapeHtml(t)}</span>`).join('');
      const prefTags = card.prefectures.map(t => `<span class="tag tag-prefecture">${escapeHtml(t)}</span>`).join('');
      
      let roleTags = '';
      if(card.roles.construction) roleTags += createRoleTag('construction', 'build', card.roles.construction);
      if(card.roles.system) roleTags += createRoleTag('system', 'dns', card.roles.system);
      if(card.roles.sales) roleTags += createRoleTag('sales', 'handshake', card.roles.sales);
      if(card.roles.mtg) roleTags += createRoleTag('mtg', 'groups', card.roles.mtg);
      if(card.roles.systemType) {
         const sysClass = card.roles.systemType === 'Mokare' ? 'tag-mokare' : 'tag-systemType';
         roleTags += `<span class="tag tag-role ${sysClass}"><span class="material-icons" style="font-size:10px;">settings_applications</span>${escapeHtml(card.roles.systemType)}</span>`;
      }
      if(card.roles.systemType2) {
         const sysClass = card.roles.systemType2 === 'Mokare' ? 'tag-mokare' : 'tag-systemType';
         roleTags += `<span class="tag tag-role ${sysClass}"><span class="material-icons" style="font-size:10px;">settings_applications</span>${escapeHtml(card.roles.systemType2)}</span>`;
      }

      const safeName = escapeHtml(card.name || '');
      const safeId = String(card.id); 
      
      let actionsHtml = '';
      if (safeId && safeId !== "undefined" && safeId !== "null") {
actionsHtml = `
          <div class="card-actions-top-right">
            <div class="action-btn btn-desc" onclick="openDescriptionSidebar(event, '${safeId}')" title="èª¬æ˜ã‚’è¡¨ç¤º">
              <span class="material-icons" style="font-size:18px;">description</span>
            </div>
            <div class="action-btn btn-move" onclick="openMoveModal('${safeId}', '${card.idList}')" title="ã‚«ãƒ¼ãƒ‰ã‚’ç§»å‹•">
              <span class="material-icons" style="font-size:18px;">drive_file_move</span>
            </div>
            <div class="action-btn btn-log" onclick="openCardLogModal('${safeId}')" title="æ“ä½œãƒ­ã‚°ã‚’ç¢ºèª">
              <span class="material-icons" style="font-size:18px;">history</span>
            </div>
            <div class="action-btn btn-edit" data-id="${safeId}" onclick="openAssignmentModalFromButton(this)" title="è¨­å®šã‚’ç·¨é›†">
              <span class="material-icons" style="font-size:18px;">edit</span>
            </div>
          </div>`;
      }

      let linkBtnHtml = '';
      if (card.roles.customLink && card.roles.customLink.startsWith('http')) {
         linkBtnHtml = `<a href="${escapeHtml(card.roles.customLink)}" target="_blank" class="btn-custom-link"><span class="material-icons" style="font-size:14px;">link</span> ãƒªãƒ³ã‚¯ã‚’é–‹ã</a>`;
      }

      let updatedHtml = '';
      if (card.roles.updatedAt) updatedHtml = `<div class="last-updated">æœ€çµ‚æ›´æ–°: ${card.roles.updatedAt}</div>`;

      let memosHtml = '';
      if(card.roles.memo1 || card.roles.memo2 || card.roles.memo3) {
        memosHtml = '<div class="card-memo-container">';
        if(card.roles.memo1) memosHtml += `<div class="card-memo">${escapeHtml(card.roles.memo1)}</div>`;
        if(card.roles.memo2) memosHtml += `<div class="card-memo">${escapeHtml(card.roles.memo2)}</div>`;
        if(card.roles.memo3) memosHtml += `<div class="card-memo">${escapeHtml(card.roles.memo3)}</div>`;
        memosHtml += '</div>';
      }

// â˜…è¿½åŠ ï¼šã‚«ãƒ¼ãƒ‰ç”¨ãƒ¡ãƒ¢ãƒœã‚¿ãƒ³ã®HTMLç”Ÿæˆ
      
      // 1. æœŸé™åˆ‡ã‚Œãƒ¡ãƒ¢ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹ãƒã‚§ãƒƒã‚¯
      // (getTrelloDataã‹ã‚‰è¿”ã£ã¦ããŸãƒªã‚¹ãƒˆã«ã“ã®ã‚«ãƒ¼ãƒ‰IDãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹)
      const hasOverdueMemo = globalData.overdueMemoCardIds && globalData.overdueMemoCardIds.includes(safeId);
      
      // 2. ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®è¦‹ãŸç›®è¨­å®š
      let memoBtnClass = 'btn-card-memo-trigger';
      let memoBtnIcon = 'edit_note';
      let memoBtnText = 'ãƒ¡ãƒ¢';
      let memoTitleAttr = 'ã“ã®ã‚«ãƒ¼ãƒ‰ã®ãƒ¡ãƒ¢å¸³ã‚’é–‹ã';

      // 3. æœŸé™åˆ‡ã‚Œã®å ´åˆã€è¦‹ãŸç›®ã‚’è­¦å‘Šãƒ¢ãƒ¼ãƒ‰ã«å¤‰æ›´
      if (hasOverdueMemo) {
          memoBtnClass += ' overdue'; // CSSã§å®šç¾©ã—ãŸèµ¤è‰²ç‚¹æ»…ã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ 
          memoBtnIcon = 'notification_important'; // ã‚¢ã‚¤ã‚³ãƒ³ã‚’ãƒ“ãƒƒã‚¯ãƒªãƒãƒ¼ã‚¯ã«å¤‰æ›´
          memoBtnText = 'æœŸé™åˆ‡'; // ãƒ†ã‚­ã‚¹ãƒˆã‚’å¤‰æ›´
          memoTitleAttr = 'ã€æ³¨æ„ã€‘æœŸé™åˆ‡ã‚Œã®æœªå®Œäº†ã‚¿ã‚¹ã‚¯ãŒã‚ã‚Šã¾ã™ï¼';
      }

// 4. ãƒœã‚¿ãƒ³HTMLã®ç”Ÿæˆ
      const cardMemoBtnHtml = `
        <div class="${memoBtnClass}" 
             onclick="openCardMemoModal(event, '${safeId}', '${escapeHtml(card.name || "")}')" 
             title="${memoTitleAttr}">
          ${memoBtnText}
        </div>
      `;

      // â˜…å¤‰æ›´ç‚¹ï¼š safeName(ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—æ¸ˆã¿)ã§ã¯ãªãã€å…ƒã® card.name ã‚’ä½¿ç”¨ã—ã¦ä¸€åº¦ã ã‘ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã—ã¾ã™
      const copyBtnHtml = `<span class="material-icons copy-btn" onclick="copyStoreName(event)" data-text="${escapeHtml(card.name || "")}" title="åº—èˆ—åã‚’ã‚³ãƒ”ãƒ¼">content_copy</span>`;
      let constNumHtml = '';
      if(card.roles.constructionNumber) constNumHtml = `<span class="construction-number">${escapeHtml(card.roles.constructionNumber)}</span>`;

// â˜…ä¿®æ­£ï¼šinnerHTMLã®å…ˆé ­ã« ${stripeHtml} ã‚’è¿½åŠ ã—ã¦è¡¨ç¤ºã•ã›ã‚‹
      // â€» ãƒ¡ãƒ¢ãƒœã‚¿ãƒ³ã‚’CSSã§å³ä¸Šã«é…ç½®ã—ã¦ã„ã‚‹ãŸã‚ã€æ§‹é€ ãŒå¤‰ã‚ã‚‰ãªã„ã‚ˆã†æ³¨æ„ã—ã¦æŒ¿å…¥ã—ã¾ã™
cardEl.innerHTML = `
        ${stripeHtml}
        ${trelloLabelsHtml}
        
        <div style="display:flex; align-items:center; flex-wrap:wrap; gap:8px; margin-bottom:4px;">
           ${dueBadgeHtml}
        </div>
        
        <div class="trello-card-name">
           <span style="flex:1;">${constNumHtml}${safeName}</span>
           ${copyBtnHtml}
        </div>
        
        ${actionsHtml}      ${cardMemoBtnHtml} <div class="tags-container">${roleTags}${industryTags}${prefTags}</div>
        ${linkBtnHtml}
        ${memosHtml}
        ${updatedHtml}
      `;
      return cardEl;
}

    function showContextMenu(e, cardId) {
        currentContextCardId = cardId;
        const menu = document.getElementById('context-menu');
        menu.classList.remove('hidden');
        
        let x = e.pageX;
        let y = e.pageY;
        if(x + 180 > window.innerWidth) x -= 180;
        if(y + 200 > window.innerHeight) y -= 200;

        menu.style.left = x + 'px';
        menu.style.top = y + 'px';

        const card = globalData.cards.find(c => String(c.id) === String(cardId));
        
        document.getElementById('ctx-open').onclick = () => { window.open(card.url, '_blank'); menu.classList.add('hidden'); };
        document.getElementById('ctx-copy').onclick = () => { navigator.clipboard.writeText(card.url); showToast('ãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ'); menu.classList.add('hidden'); };
        document.getElementById('ctx-move').onclick = () => { openMoveModal(String(card.id), card.idList); menu.classList.add('hidden'); };
        document.getElementById('ctx-assign').onclick = () => { openAssignmentModalFromButton({getAttribute:()=>String(card.id)}); menu.classList.add('hidden'); };
        document.getElementById('ctx-pin').onclick = () => { togglePin(String(card.id)); menu.classList.add('hidden'); };
    }

    function togglePin(cardId) {
        const card = globalData.cards.find(c => String(c.id) === String(cardId));
        if(!card) return;
        const newPinState = card.roles.isPinned === 'TRUE' ? 'FALSE' : 'TRUE';
        card.roles.isPinned = newPinState;
        applyFilters();
        google.script.run.saveAssignments(String(cardId), card.roles);
        
        // â˜… XPç²å¾—
        if (newPinState === 'TRUE') GM.gainXp(XP_TABLE.pin, 'ãƒ”ãƒ³ç•™ã‚');
    }
    
    function togglePinFromModal() {
        if(!currentEditCardId) return;
        togglePin(currentEditCardId);
        const card = globalData.cards.find(c => String(c.id) === String(currentEditCardId));
        const icon = document.getElementById('modal-pin-icon');
        icon.style.color = card.roles.isPinned === 'TRUE' ? '#eb5a46' : '#ccc';
    }

    function createRoleTag(type, icon, name) {
      return `<span class="tag tag-role tag-${type}"><span class="material-icons" style="font-size:10px;">${icon}</span>${escapeHtml(name)}</span>`;
    }

    function toggleBulkMode(forceState) {
        if (typeof forceState !== 'undefined') isBulkMode = forceState;
        else isBulkMode = !isBulkMode;

        const btn = document.getElementById('btn-bulk-mode');
        const bar = document.getElementById('bulk-action-bar');
        
        if (isBulkMode) {
            btn.classList.add('active');
            bar.classList.add('visible');
        } else {
            btn.classList.remove('active');
            bar.classList.remove('visible');
            selectedBulkCardIds.clear();
            applyFilters();
        }
        updateBulkCount();
    }
    
    function toggleCardSelection(id, el) {
        if (selectedBulkCardIds.has(id)) {
            selectedBulkCardIds.delete(id);
            el.classList.remove('selected');
        } else {
            selectedBulkCardIds.add(id);
            el.classList.add('selected');
        }
        updateBulkCount();
        
        if (!isBulkMode) {
            isBulkMode = true;
            document.getElementById('btn-bulk-mode').classList.add('active');
            document.getElementById('bulk-action-bar').classList.add('visible');
        }
    }
    
    function updateBulkCount() {
        document.getElementById('bulk-count').textContent = selectedBulkCardIds.size;
    }

    function openBulkAssignModal() {
        if (selectedBulkCardIds.size === 0) { showToast('ã‚«ãƒ¼ãƒ‰ãŒé¸æŠã•ã‚Œã¦ã„ã¾ã›ã‚“'); return; }
        document.getElementById('bulk-assign-modal').classList.remove('hidden');
    }
    
    function submitBulkAssign() {
        const updates = {};
        const cons = document.getElementById('bulk-construction').value;
        const sys = document.getElementById('bulk-system').value;
        const sal = document.getElementById('bulk-sales').value;
        const mtg = document.getElementById('bulk-mtg').value;
        const sysType = document.getElementById('bulk-systemType').value;
        const sysType2 = document.getElementById('bulk-systemType2').value;
        
        if(cons) updates.construction = cons;
        if(sys) updates.system = sys;
        if(sal) updates.sales = sal;
        if(mtg) updates.mtg = mtg;
        if(sysType) updates.systemType = sysType;
        if(sysType2) updates.systemType2 = sysType2;
        
        if (Object.keys(updates).length === 0) {
            showToast('å¤‰æ›´å†…å®¹ãŒã‚ã‚Šã¾ã›ã‚“');
            return;
        }

        const targets = [];
        selectedBulkCardIds.forEach(id => {
            const idx = globalData.cards.findIndex(c => String(c.id) === String(id));
            if (idx !== -1) {
                const card = globalData.cards[idx];
                globalData.cards[idx].roles = { ...card.roles, ...updates, updatedAt: 'ä¸€æ‹¬æ›´æ–°ä¸­...' };
                targets.push({ id: String(id), roles: globalData.cards[idx].roles });
            }
        });
        
        applyFilters();
        document.getElementById('bulk-assign-modal').classList.add('hidden');
        toggleBulkMode(false);
        showToast('ä¿å­˜ä¸­...');
        
        google.script.run.withSuccessHandler(() => {
            showToast('ä¸€æ‹¬ä¿å­˜ã—ã¾ã—ãŸ');
            GM.gainXp(XP_TABLE.assign * targets.length, 'ä¸€æ‹¬æ‹…å½“è¨­å®š'); // â˜… XPç²å¾—
            // loadData(); // å‰Šé™¤: æ“ä½œæ€§å‘ä¸Šã®ãŸã‚ãƒªãƒ­ãƒ¼ãƒ‰ã—ãªã„
        }).withFailureHandler((e) => {
            showError('ä¿å­˜å¤±æ•—: ' + e);
        }).saveBulkAssignments(targets);
    }
    
    function openBulkMoveModal() {
        if (selectedBulkCardIds.size === 0) { showToast('ã‚«ãƒ¼ãƒ‰ãŒé¸æŠã•ã‚Œã¦ã„ã¾ã›ã‚“'); return; }
        moveTargetCardId = 'BULK'; 
        moveTargetCurrentListId = null; 
        selectedMoveListId = null;
        document.getElementById('move-card-name').textContent = `${selectedBulkCardIds.size}ä»¶ã®ã‚«ãƒ¼ãƒ‰`;
        renderMoveList();
        document.getElementById('move-modal').classList.remove('hidden');
    }

    function openDashboard() {
        document.getElementById('dashboard-modal').classList.remove('hidden');
        renderCharts();
    }
    
    function renderCharts() {
        const workload = {}; 
        const listCounts = {}; 
        
        globalData.cards.forEach(card => {
             const list = globalData.lists.find(l => l.id === card.idList);
             if (list) {
                 listCounts[list.name] = (listCounts[list.name] || 0) + 1;
             }
             const p = card.roles.construction;
             if (p) workload[p] = (workload[p] || 0) + 1;
             else workload['æœªè¨­å®š'] = (workload['æœªè¨­å®š'] || 0) + 1;
        });

        const ctx1 = document.getElementById('chart-workload').getContext('2d');
        const ctx2 = document.getElementById('chart-list').getContext('2d');
        
        if (chartInstances.workload) chartInstances.workload.destroy();
        if (chartInstances.list) chartInstances.list.destroy();
        
        const isDark = document.body.classList.contains('dark-mode');
        const labelColor = isDark ? '#b6c2cf' : '#172b4d';
        
        chartInstances.workload = new Chart(ctx1, {
            type: 'pie',
            data: {
                labels: Object.keys(workload),
                datasets: [{
                    data: Object.values(workload),
                    backgroundColor: ['#0079bf', '#eb5a46', '#61bd4f', '#f2d600', '#c377e0', '#344563', '#ff9f1a', '#00c2e0']
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    title: { display: true, text: 'æ§‹ç¯‰æ‹…å½“åˆ¥ ä»¶æ•°', color: labelColor },
                    legend: { labels: { color: labelColor } }
                }
            }
        });
        
        chartInstances.list = new Chart(ctx2, {
            type: 'bar',
            data: {
                labels: Object.keys(listCounts),
                datasets: [{
                    label: 'æšæ•°',
                    data: Object.values(listCounts),
                    backgroundColor: '#0079bf'
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    title: { display: true, text: 'ãƒªã‚¹ãƒˆåˆ¥ ã‚«ãƒ¼ãƒ‰æšæ•°', color: labelColor },
                    legend: { display: false }
                },
                scales: {
                    x: { ticks: { color: labelColor } },
                    y: { ticks: { color: labelColor } }
                }
            }
        });
    }

    function getDueStatus(dueStr, isComplete) {
      if (!dueStr) return null;
      const now = new Date();
      const dueDate = new Date(dueStr);
      const diffMs = dueDate - now;
      if (isComplete) return { text: 'å®Œäº†', class: 'due-complete', icon: 'check_circle' };
      
      const absMs = Math.abs(diffMs);
      const days = Math.floor(absMs / (1000 * 60 * 60 * 24));
      const hours = Math.floor(absMs / (1000 * 60 * 60)); 
      
      if (diffMs < 0) {
        if (hours < 24) return { text: `${Math.max(1, hours)}æ™‚é–“è¶…é`, class: 'due-overdue', icon: 'error' };
        else return { text: `${days}æ—¥è¶…é`, class: 'due-overdue', icon: 'error' };
      } else {
        if (days >= 3) return { text: `ã‚ã¨${days}æ—¥`, class: 'due-ok', icon: 'schedule' };
        else if (hours >= 24) return { text: `ã‚ã¨${days}æ—¥`, class: 'due-soon', icon: 'warning' };
        else return { text: `ã‚ã¨${Math.max(1, hours)}æ™‚é–“`, class: 'due-soon', icon: 'hourglass_bottom' };
      }
    }

    function formatDateSimple(dateStr) {
      if (!dateStr) return "";
      const d = new Date(dateStr);
      const month = d.getMonth() + 1;
      const day = d.getDate();
      const hours = d.getHours().toString().padStart(2, '0');
      const mins = d.getMinutes().toString().padStart(2, '0');
      return `${month}/${day} ${hours}:${mins}`;
    }

    function escapeHtml(str) {
      if(!str) return '';
      return str.replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','\"':'&quot;','\'':'&#39;'}[m]));
    }
    
function executeMove(cardId, fromListId, toListId, isUndoRedo = false) {
      if (!isUndoRedo) {
        commandHistory.push({ cardId, fromListId, toListId });
        commandFuture = []; 
      }
      const cardIndex = globalData.cards.findIndex(c => String(c.id) === String(cardId));
      if (cardIndex === -1) return;

      // â˜…è¿½åŠ ï¼šãƒ­ã‚°ç”¨ã«ã‚«ãƒ¼ãƒ‰åã¨ãƒªã‚¹ãƒˆåã‚’å–å¾—
      const card = globalData.cards[cardIndex];
      const listName = globalData.lists.find(l => l.id === toListId)?.name || 'ä¸æ˜ãªãƒªã‚¹ãƒˆ';

      globalData.cards[cardIndex].idList = toListId; 
      applyFilters(); 
      
      // â˜…ä¿®æ­£ï¼šå¼•æ•°ã‚’è¿½åŠ ã—ã¦GASã¸é€ä¿¡
      google.script.run
        .withSuccessHandler((res) => {
          if (!res.success) {
            console.error('Move failed', res.error);
            showToast('ç§»å‹•ã«å¤±æ•—ã—ã¾ã—ãŸ');
          } else {
            GM.gainXp(XP_TABLE.move, 'ã‚«ãƒ¼ãƒ‰ç§»å‹•');
          }
        })
        .moveCardTrello(cardId, toListId, currentUserId, card.name, listName);
    }

    function undoCommand() {
      if (commandHistory.length === 0) { showToast('å…ƒã«æˆ»ã™æ“ä½œã¯ã‚ã‚Šã¾ã›ã‚“'); return; }
      const cmd = commandHistory.pop();
      commandFuture.push(cmd);
      executeMove(cmd.cardId, cmd.toListId, cmd.fromListId, true);
      showToast('å…ƒã«æˆ»ã—ã¾ã—ãŸ');
    }
    function redoCommand() {
      if (commandFuture.length === 0) { showToast('ã‚„ã‚Šç›´ã™æ“ä½œã¯ã‚ã‚Šã¾ã›ã‚“'); return; }
      const cmd = commandFuture.pop();
      commandHistory.push(cmd);
      executeMove(cmd.cardId, cmd.fromListId, cmd.toListId, true);
      showToast('ã‚„ã‚Šç›´ã—ã¾ã—ãŸ');
    }

    let moveTargetCardId = null;
    let moveTargetCurrentListId = null;

    function openMoveModal(cardId, currentListId) {
      if(window.event) window.event.stopPropagation();
      moveTargetCardId = cardId;
      moveTargetCurrentListId = currentListId;
      selectedMoveListId = null;

      const card = globalData.cards.find(c => String(c.id) === String(cardId));
      document.getElementById('move-card-name').textContent = card ? card.name : 'ã‚«ãƒ¼ãƒ‰ä¸æ˜';

      renderMoveList();
      document.getElementById('move-modal').classList.remove('hidden');
    }

    function renderMoveList() {
      const container = document.getElementById('move-list-container');
      container.innerHTML = '';
      const allLists = globalData.lists.filter(l => l.id !== moveTargetCurrentListId);
      const favLists = allLists.filter(l => favoriteListIds.has(l.id));
      const otherLists = allLists.filter(l => !favoriteListIds.has(l.id));

      if (favLists.length > 0) {
        const favHeader = document.createElement('div');
        favHeader.className = 'list-section-header';
        favHeader.textContent = 'ãŠæ°—ã«å…¥ã‚Š';
        container.appendChild(favHeader);
        favLists.forEach(list => container.appendChild(createMoveListItem(list, true)));
      }

      const otherHeader = document.createElement('div');
      otherHeader.className = 'list-section-header';
      otherHeader.textContent = 'ã™ã¹ã¦ã®ãƒªã‚¹ãƒˆ';
      container.appendChild(otherHeader);

      if (otherLists.length === 0 && favLists.length === 0) {
        const emptyMsg = document.createElement('div');
        emptyMsg.style.padding='10px'; emptyMsg.style.color='#999'; emptyMsg.style.fontSize='12px';
        emptyMsg.textContent = 'ç§»å‹•å¯èƒ½ãªãƒªã‚¹ãƒˆãŒã‚ã‚Šã¾ã›ã‚“';
        container.appendChild(emptyMsg);
      } else {
        otherLists.forEach(list => container.appendChild(createMoveListItem(list, false)));
      }
    }

    function createMoveListItem(list, isFav) {
      const item = document.createElement('div');
      item.className = 'move-list-item';
      if (selectedMoveListId === list.id) item.classList.add('selected');

      item.onclick = () => {
        selectedMoveListId = list.id;
        document.querySelectorAll('.move-list-item').forEach(el => el.classList.remove('selected'));
        item.classList.add('selected');
      };

      const nameSpan = document.createElement('span');
      nameSpan.textContent = list.name;
      
      const starSpan = document.createElement('span');
      starSpan.className = 'material-icons btn-star-list ' + (isFav ? 'active' : '');
      starSpan.textContent = isFav ? 'star' : 'star_border';
      starSpan.title = isFav ? 'ãŠæ°—ã«å…¥ã‚Šè§£é™¤' : 'ãŠæ°—ã«å…¥ã‚Šç™»éŒ²';
      starSpan.onclick = (e) => {
        e.stopPropagation();
        toggleFavoriteList(list.id);
      };

      item.appendChild(nameSpan);
      item.appendChild(starSpan);
      return item;
    }

    function toggleFavoriteList(listId) {
      if (favoriteListIds.has(listId)) favoriteListIds.delete(listId);
      else favoriteListIds.add(listId);
      localStorage.setItem('trello_favorite_lists', JSON.stringify(Array.from(favoriteListIds)));
      renderMoveList();
      // â˜… XPç²å¾—
      GM.gainXp(XP_TABLE.create, 'ãƒªã‚¹ãƒˆæ•´ç†');
    }

    function submitMove() {
      if (!selectedMoveListId) { alert('ç§»å‹•å…ˆã‚’é¸æŠã—ã¦ãã ã•ã„'); return; }
      
      if (moveTargetCardId === 'BULK') {
          selectedBulkCardIds.forEach(id => {
              const card = globalData.cards.find(c => String(c.id) === String(id));
              if (card && card.idList !== selectedMoveListId) {
                  executeMove(String(id), card.idList, selectedMoveListId);
              }
          });
          toggleBulkMode(false);
          showToast('ä¸€æ‹¬ç§»å‹•ã—ã¾ã—ãŸ');
          GM.gainXp(XP_TABLE.move * selectedBulkCardIds.size, 'ä¸€æ‹¬ã‚«ãƒ¼ãƒ‰ç§»å‹•'); // â˜… XPç²å¾—
      } else {
          executeMove(moveTargetCardId, moveTargetCurrentListId, selectedMoveListId);
          showToast('ç§»å‹•ã—ã¾ã—ãŸ');
      }
      closeMoveModal();
    }

    function closeMoveModal() {
      document.getElementById('move-modal').classList.add('hidden');
      moveTargetCardId = null;
      moveTargetCurrentListId = null;
      selectedMoveListId = null;
    }

    let draggedCard = null;
    function handleDragStart(e) { draggedCard = this; e.dataTransfer.effectAllowed = 'move'; setTimeout(() => this.classList.add('dragging'), 0); }
    function handleDragEnd(e) { this.classList.remove('dragging'); draggedCard = null; document.querySelectorAll('.card-list').forEach(list => list.classList.remove('drag-over')); }
    function handleDragOver(e) { e.preventDefault(); e.dataTransfer.dropEffect = 'move'; this.classList.add('drag-over'); }
    function handleDragLeave(e) { this.classList.remove('drag-over'); }
    function handleDrop(e) {
      e.preventDefault(); this.classList.remove('drag-over');
      if (!draggedCard) return;
      const newListId = this.dataset.listId;
      const cardId = draggedCard.dataset.id;
      const cardData = globalData.cards.find(c => String(c.id) === String(cardId));
      const currentListId = cardData ? cardData.idList : null;
      if (currentListId === newListId) return;
      executeMove(cardId, currentListId, newListId);
    }

    function toggleLock(listId, btnElement) {
      if (window.event) window.event.stopPropagation();
      if (unlockedListIds.has(listId)) unlockedListIds.delete(listId);
      else unlockedListIds.add(listId);
      localStorage.setItem('trello_unlocked_lists', JSON.stringify(Array.from(unlockedListIds)));
      applyFilters();
    }

    function showError(msg) { const el = document.getElementById('error-msg'); el.textContent = msg; el.classList.remove('hidden'); }

/**
 * â˜…ä¿®æ­£ç‰ˆï¼šã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚’é–‰ã˜ã‚‹é–¢æ•°ï¼ˆã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã‚¯ãƒªãƒƒã‚¯ç”¨ï¼‰
 * ãƒ»æ–‡å­—ãŒæ®‹ã£ã¦ã„ã‚Œã°æ¶ˆã—ã¦ã‹ã‚‰é–‰ã˜ã¾ã™
 */
function closeSidebar() {
    const input = document.getElementById('search-input');

    // æ¤œç´¢ãƒ¢ãƒ¼ãƒ‰ã§æ–‡å­—ãŒæ®‹ã£ã¦ã„ã‚‹å ´åˆã€ã¾ãšæ–‡å­—ã‚’æ¶ˆã™
    if (currentSidebarType === 'search' && input && input.value !== '') {
        input.value = '';
        const sideInput = document.getElementById('sidebar-search-input');
        if(sideInput) sideInput.value = '';
        
        handleSearchInput(); // ç”»é¢ä¸Šã®ãƒ•ã‚£ãƒ«ã‚¿ã‚’è§£é™¤
    }

    // é–‰ã˜ã‚‹å‡¦ç†ã‚’å®Ÿè¡Œ
    closeSidebarForcibly();
}

/**
 * â˜…è¿½åŠ ï¼šé–‰ã˜ã‚‹å‡¦ç†å°‚ç”¨ã®é–¢æ•°ï¼ˆå…±é€šåŒ–ï¼‰
 */
function closeSidebarForcibly() {
    document.getElementById('sidebar-right').classList.remove('open');
    document.getElementById('sidebar-overlay').classList.remove('open');
    
    setTimeout(() => {
        document.getElementById('sidebar-overlay').classList.add('hidden');
        currentSidebarType = null;
        document.querySelectorAll('.btn-quick-filter').forEach(btn => btn.classList.remove('active'));
    }, 300);
}
    
    function toggleSidebar(type) { 
        const sidebar = document.getElementById('sidebar-right'); 
        const overlay = document.getElementById('sidebar-overlay'); 
        
        if (sidebar.classList.contains('open') && currentSidebarType === type) { 
            closeSidebar(); 
            document.querySelectorAll('.btn-quick-filter').forEach(btn => btn.classList.remove('active'));
            currentSidebarType = null;
            return; 
        } 
        
        sidebar.classList.add('open'); 
        overlay.classList.remove('hidden'); 
        overlay.classList.add('open'); 
        currentSidebarType = type; 
        
        let titleText = 'äºˆå®šã®ã‚«ãƒ¼ãƒ‰';
        if (type === 'today') titleText = 'æœ¬æ—¥äºˆå®š';
        else if (type === 'tomorrow') titleText = 'æ˜æ—¥äºˆå®š';
        else if (type === 'nextMonday') titleText = 'ç¿Œé€±æœˆæ›œäºˆå®š';
        
        document.getElementById('sidebar-title').innerHTML = `<span class="material-icons" style="color:#0079bf;">today</span> ${titleText}`;
        setQuickFilter(type); 
        loadSidebarCards(type); 
    }
    
    function loadSidebarCards(type) { 
        const container = document.getElementById('sidebar-content'); 
        container.innerHTML = ''; 
        
        const now = new Date(); 
        let targetStart, targetEnd;

        if (type === 'today') {
            targetStart = new Date(now.getFullYear(), now.getMonth(), now.getDate());
            targetEnd = new Date(now.getFullYear(), now.getMonth(), now.getDate() + 1);
        } else if (type === 'tomorrow') {
            targetStart = new Date(now.getFullYear(), now.getMonth(), now.getDate() + 1);
            targetEnd = new Date(now.getFullYear(), now.getMonth(), now.getDate() + 2);
        } else if (type === 'nextMonday') {
            const d = new Date(now);
            const day = d.getDay(); 
            let addDays = (8 - day) % 7;
            if (addDays === 0) addDays = 7;
            d.setDate(d.getDate() + addDays);
            targetStart = new Date(d.getFullYear(), d.getMonth(), d.getDate());
            targetEnd = new Date(d.getFullYear(), d.getMonth(), d.getDate() + 1);
        }

        const targetCards = globalData.cards.filter(card => { 
            if(!card.due || card.dueComplete) return false; 
            const d = new Date(card.due); 
            return d >= targetStart && d < targetEnd; 
        }); 
        
        if(targetCards.length === 0) { 
            container.innerHTML = '<div style="padding:10px; color:#999;">äºˆå®šãªã—</div>'; 
            return; 
        } 

        globalData.lists.forEach(list => {
            const cardsInList = targetCards.filter(c => c.idList === list.id);
            if (cardsInList.length > 0) {
                const header = document.createElement('div');
                header.className = 'sidebar-list-header';
                header.textContent = list.name;
                container.appendChild(header);
                cardsInList.forEach(c => container.appendChild(createCardElement(c, true))); 
            }
        });
    } 

function openAssignmentModalFromButton(btnElement) { 
        if(window.event) window.event.stopPropagation(); 
        const cardId = btnElement.getAttribute('data-id'); 
        const card = globalData.cards.find(c => String(c.id) === cardId); 
        if (!card) return; 
        currentEditCardId = cardId; 
        document.getElementById('modal-card-name').textContent = card.name; 
        
        // (ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹ç­‰ã®ã‚»ãƒƒãƒˆã¯å¤‰æ›´ãªã—)
        setSelectValue('input-construction', card.roles.construction); setSelectValue('input-system', card.roles.system); setSelectValue('input-sales', card.roles.sales); setSelectValue('input-mtg', card.roles.mtg); setSelectValue('input-systemType', card.roles.systemType); setSelectValue('input-systemType2', card.roles.systemType2); document.getElementById('input-customLink').value = card.roles.customLink || ""; setSelectValue('input-constructionNumber', card.roles.constructionNumber); document.getElementById('input-memo1').value = card.roles.memo1 || ""; document.getElementById('input-memo2').value = card.roles.memo2 || ""; document.getElementById('input-memo3').value = card.roles.memo3 || "";
        document.getElementById('modal-pin-icon').style.color = card.roles.isPinned === 'TRUE' ? '#eb5a46' : '#ccc';

        // â˜…è¿½åŠ ï¼šæœŸé™æ—¥æ™‚ã®ã‚»ãƒƒãƒˆ
        const dueInput = document.getElementById('input-trello-due');
        if (card.due) {
            const d = new Date(card.due);
            // æ—¥æœ¬æ™‚é–“èª¿æ•´ã®ãŸã‚ã®ç°¡æ˜“ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ (YYYY-MM-DDThh:mm)
            const yyyy = d.getFullYear();
            const mm = ("0" + (d.getMonth()+1)).slice(-2);
            const dd = ("0" + d.getDate()).slice(-2);
            const hh = ("0" + d.getHours()).slice(-2);
            const min = ("0" + d.getMinutes()).slice(-2);
            dueInput.value = `${yyyy}-${mm}-${dd}T${hh}:${min}`;
        } else {
            dueInput.value = "";
        }

        document.getElementById('assignment-modal').classList.remove('hidden'); 
    }
    
    function setSelectValue(id, val) { const el = document.getElementById(id); if(!val){el.value="";return;} let exists=false; for(let i=0;i<el.options.length;i++) if(el.options[i].value===val) exists=true; if(!exists){ const o=document.createElement('option'); o.value=val; o.textContent=val+"(æœª)"; el.appendChild(o); } el.value=val; }
    
function saveAssignment() { 
        const id=currentEditCardId; if(!id)return; 
        const card = globalData.cards.find(c => String(c.id) === id);
        
        // rolesã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä½œæˆï¼ˆå¤‰æ›´ãªã—ï¼‰
        const newRoles={ construction: document.getElementById('input-construction').value, system: document.getElementById('input-system').value, sales: document.getElementById('input-sales').value, mtg: document.getElementById('input-mtg').value, systemType: document.getElementById('input-systemType').value, systemType2: document.getElementById('input-systemType2').value, customLink: document.getElementById('input-customLink').value, constructionNumber: document.getElementById('input-constructionNumber').value, memo1: document.getElementById('input-memo1').value, memo2: document.getElementById('input-memo2').value, memo3: document.getElementById('input-memo3').value, isPinned: card.roles.isPinned }; 
        
        const idx=globalData.cards.findIndex(c=>String(c.id)===id); 
        if(idx!==-1) globalData.cards[idx].roles={...globalData.cards[idx].roles, ...newRoles, updatedAt:'æ›´æ–°ä¸­...'}; 
        
        // â˜…ä¿®æ­£ï¼šæœŸé™æ—¥æ™‚ã®å–å¾—ã¨ç”»é¢åæ˜ ãƒ­ã‚¸ãƒƒã‚¯ã‚’æ”¹è‰¯
        const dueInput = document.getElementById('input-trello-due').value;
        let dueISO = null;

        if (dueInput) {
            // æ—¥ä»˜ãŒå…¥åŠ›ã•ã‚Œã¦ã„ã‚‹å ´åˆ
            dueISO = new Date(dueInput).toISOString();
            if(idx!==-1) {
                globalData.cards[idx].due = dueISO;
                globalData.cards[idx].dueComplete = false;
            }
        } else {
            // â˜…è¿½åŠ ï¼šæ—¥ä»˜ãŒç©ºï¼ˆå‰Šé™¤ï¼‰ã®å ´åˆã€ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚‚nullã«ã™ã‚‹
            if(idx!==-1) {
                globalData.cards[idx].due = null;
                globalData.cards[idx].dueComplete = false;
            }
        }

        applyFilters(); 
        closeModal(); 
        
        // ã‚·ãƒ¼ãƒˆä¿å­˜
        google.script.run.withSuccessHandler((r) => {
            GM.gainXp(XP_TABLE.assign, 'æ‹…å½“è¨­å®šãƒ»æ›´æ–°');
        }).saveAssignments(String(id), newRoles);

        // â˜…ä¿®æ­£ï¼šTrelloã¸ã®æœŸé™ä¿å­˜
        const realId = card.realId || card.id; 
        google.script.run.withFailureHandler(e => showToast("æœŸé™æ›´æ–°ã‚¨ãƒ©ãƒ¼: " + e))
                         .updateTrelloDue(realId, dueISO);
    }

    function closeModal() { document.getElementById('assignment-modal').classList.add('hidden'); }
    function showToast(msg) { const t=document.getElementById('toast'); t.textContent=msg; t.className='show'; setTimeout(()=>t.className='',3000); }
/**
 * â˜…ä¿®æ­£ç‰ˆï¼šå¼·åŠ›ãªã‚³ãƒ”ãƒ¼é–¢æ•°
 * 1. æœ€æ–°ã®API (navigator.clipboard) ã‚’è©¦ã™
 * 2. å¤±æ•—ã—ãŸã‚‰ã€æ˜”ãªãŒã‚‰ã®æ–¹æ³• (execCommand) ã§å¼·åˆ¶çš„ã«ã‚³ãƒ”ãƒ¼ã™ã‚‹
 */
function copyStoreName(e) {
  if (e) e.stopPropagation();
  
  // ã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸè¦ç´ ã‹ã‚‰ãƒ†ã‚­ã‚¹ãƒˆã‚’å–å¾—
  const text = e.currentTarget.getAttribute('data-text');
  if (!text) return;

  // --- æ‰‹é †1: æœ€æ–°ã®Clipboard APIã‚’è©¦ã™ ---
  if (navigator.clipboard && navigator.clipboard.writeText) {
    navigator.clipboard.writeText(text)
      .then(() => {
        showToast('ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ');
      })
      .catch(err => {
        // å¤±æ•—ã—ãŸã‚‰ãƒ­ã‚°ã‚’å‡ºã—ã¦ã€æ‰‹é †2ã¸
        console.warn('Clipboard API failed, trying fallback...', err);
        fallbackCopyTextToClipboard(text);
      });
  } else {
    // APIãŒãã‚‚ãã‚‚ãªã„å ´åˆã¯æ‰‹é †2ã¸
    fallbackCopyTextToClipboard(text);
  }
}

/**
 * æ˜”ãªãŒã‚‰ã®ã‚³ãƒ”ãƒ¼æ–¹æ³•ï¼ˆexecCommandï¼‰
 * Netlifyã‚„iframeå†…ã§ã‚‚å‹•ä½œã™ã‚‹å¯èƒ½æ€§ãŒé«˜ã„
 */
function fallbackCopyTextToClipboard(text) {
  try {
    const textArea = document.createElement("textarea");
    textArea.value = text;
    
    // ç”»é¢å¤–ã«é…ç½®ï¼ˆè¦‹ãˆãªã„ã‚ˆã†ã«ã™ã‚‹ãŒã€display:noneã ã¨å‹•ã‹ãªã„ãŸã‚ï¼‰
    textArea.style.position = "fixed";
    textArea.style.left = "-9999px";
    textArea.style.top = "0";
    
    document.body.appendChild(textArea);
    textArea.focus();
    textArea.select();

    const successful = document.execCommand('copy');
    document.body.removeChild(textArea);

    if (successful) {
      showToast('ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ');
    } else {
      throw new Error('execCommand returned false');
    }
  } catch (err) {
    console.error('Fallback copy failed:', err);
    showToast('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ');
  }
}

// =========================================
    // â–¼ æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æŒ™å‹•ã®å®Œå…¨ä¿®æ­£ç‰ˆ
    // =========================================
    const slider = document.getElementById('dashboard');
    let isDown = false;
    let startX;
    let scrollLeft;

    slider.addEventListener('mousedown', (e) => {
        // ãƒ‰ãƒ©ãƒƒã‚°ã‚’é–‹å§‹ã•ã›ãªã„è¦ç´ ï¼ˆãƒœã‚¿ãƒ³ã€ã‚«ãƒ¼ãƒ‰ã€å…¥åŠ›æ¬„ãªã©ï¼‰
        if (e.target.closest('.action-btn') || 
            e.target.closest('a') || 
            e.target.closest('.copy-btn') || 
            e.target.closest('.trello-card') || 
            e.target.closest('.bgm-volume') ||
            e.target.closest('input') || 
            e.target.closest('textarea') ||
            e.target.closest('.modal')) return;

        isDown = true;
        slider.classList.add('active');
        
        // â˜…ä¿®æ­£ãƒã‚¤ãƒ³ãƒˆï¼šè¦ªè¦ç´ ã®ã‚ºãƒ¬ï¼ˆoffsetLeftï¼‰ã‚’è¨ˆç®—ã«å…¥ã‚Œãšã€
        // ç”»é¢ä¸Šã®çµ¶å¯¾çš„ãªXåº§æ¨™ï¼ˆpageXï¼‰ã ã‘ã‚’åŸºæº–ã«ã—ã¾ã™ã€‚
        // ã“ã‚Œã«ã‚ˆã‚Šã€Œæ´ã‚“ã å ´æ‰€ã€ã¨ã€Œã‚«ãƒ¼ã‚½ãƒ«ã€ãŒã‚ºãƒ¬ãªããªã‚Šã¾ã™ã€‚
        startX = e.pageX;
        scrollLeft = slider.scrollLeft;
    });

    slider.addEventListener('mouseleave', () => {
        isDown = false;
        slider.classList.remove('active');
    });

    slider.addEventListener('mouseup', () => {
        isDown = false;
        slider.classList.remove('active');
    });

    slider.addEventListener('mousemove', (e) => {
        if (!isDown) return;
        e.preventDefault();
        
        // ç¾åœ¨ã®ãƒã‚¦ã‚¹ä½ç½®
        const x = e.pageX;
        
        // ç§»å‹•ã—ãŸè·é›¢ã‚’è¨ˆç®— (ç¾åœ¨ã®ä½ç½® - é–‹å§‹ä½ç½®)
        // å€ç‡ã‚’æ›ã‘ãšã€1pxã®å‹•ãã«å¯¾ã—ã¦1pxã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã•ã›ã¾ã™
        const walk = x - startX;
        
        // ç¾åœ¨ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä½ç½® = ãƒ‰ãƒ©ãƒƒã‚°é–‹å§‹æ™‚ã®ä½ç½® - ç§»å‹•é‡
        // (ãƒã‚¦ã‚¹ã‚’å³ã«å‹•ã‹ã™ã¨ã€ç”»é¢ã¯å·¦ã¸ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦ä¸­èº«ãŒå³ã«ä»˜ã„ã¦ãã‚‹å‹•ã)
        slider.scrollLeft = scrollLeft - walk;
    });
// =========================================
    // â–² æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä¿®æ­£ã“ã“ã¾ã§
    // =========================================

    function toggleHeader(save=true) { 
        const h=document.querySelector('header'); 
        const i=document.getElementById('toggle-icon'); 
        h.classList.toggle('collapsed'); 
        if(h.classList.contains('collapsed')){ 
            i.textContent='expand_more'; 
            if(save) localStorage.setItem('trello_header_collapsed','true'); 
        }else{ 
            i.textContent='expand_less'; 
            if(save) localStorage.setItem('trello_header_collapsed','false'); 
        } 
    }
    
    function openSettingsModal(){ 
        toggleBgInput(); 
        GM.updateSettingsUI(); // UIæ›´æ–°
        document.getElementById('settings-modal').classList.remove('hidden'); 
    }
    function closeSettingsModal(){ document.getElementById('settings-modal').classList.add('hidden'); }
    function toggleBgInput(){ const t=document.getElementById('bg-type').value; if(t==='none')document.getElementById('bg-input-group').classList.add('hidden'); else document.getElementById('bg-input-group').classList.remove('hidden'); }

// â˜…è¿½åŠ ï¼šèƒŒæ™¯è¨­å®šã®ãƒªã‚»ãƒƒãƒˆæ©Ÿèƒ½
    function resetBgParam(type) {
        if (type === 'scale') {
            document.getElementById('bg-scale').value = 1.0;
        } else if (type === 'x') {
            document.getElementById('bg-pos-x').value = 0;
        } else if (type === 'y') {
            document.getElementById('bg-pos-y').value = 0;
        }
        updateBgTransform(); // å¤‰æ›´ã‚’ç”»é¢ã«åæ˜ 
    }

    // â˜…ä¿®æ­£ï¼šé©ç”¨æ™‚ã«XYä½ç½®ã‚’CSSå¤‰æ•°ã¸ã‚»ãƒƒãƒˆ
    function applyBgSettings(s){ 
        const c=document.getElementById('bg-video-container'); 
        const v=document.getElementById('bg-video'); 
        const o=document.getElementById('bg-overlay'); 
        
        const scale = s.scale || 1.0;
        const x = s.posX || 0;
        const y = s.posY || 0;
        
        // CSSå¤‰æ•°ã«é©ç”¨
        document.documentElement.style.setProperty('--bg-scale', scale);
        document.documentElement.style.setProperty('--bg-x', x + '%');
        document.documentElement.style.setProperty('--bg-y', y + '%');

        c.style.backgroundImage=''; v.style.display='none'; v.src=''; document.body.classList.remove('has-custom-bg'); 
        if(!s.type||s.type==='none')return; if(!s.url)return; 
        
        document.body.classList.add('has-custom-bg'); o.style.opacity=s.opacity||0; 
        if(s.type==='image') c.style.backgroundImage=`url('${s.url}')`; 
        else { 
    v.loop = true; 
    v.setAttribute('loop', ''); // â˜…è¿½åŠ ï¼šå±æ€§ã¨ã—ã¦ã‚‚æ˜ç¤ºçš„ã«è¨­å®š
    v.src=s.url; 
    v.style.display='block'; 
    v.load(); 
    v.play().catch(e=>console.log(e)); 
}
    }
    document.getElementById('bg-opacity').addEventListener('input', function(){ document.getElementById('opacity-val').textContent=Math.round(this.value*100)+'%'; });
    
    function initColumnMenu() { const menu=document.getElementById('column-menu'); menu.innerHTML=''; globalData.lists.forEach(list=>{ const item=document.createElement('div'); item.className='dropdown-item'; const isVisible=!hiddenListIds.has(list.id); item.innerHTML=`<label style="cursor:pointer; width:100%; display:flex; align-items:center; margin:0;"><input type="checkbox" value="${list.id}" ${isVisible?'checked':''} onchange="toggleColumnVisibility('${list.id}',this.checked)">${escapeHtml(list.name)}</label>`; menu.appendChild(item); }); }
    function toggleColumnMenu(e){ if(e)e.stopPropagation(); document.getElementById('column-menu').classList.toggle('hidden'); }
    window.addEventListener('click', ()=>{ const m=document.getElementById('column-menu'); if(!m.classList.contains('hidden')) m.classList.add('hidden'); });
    function toggleColumnVisibility(id, checked){ if(checked) hiddenListIds.delete(id); else hiddenListIds.add(id); localStorage.setItem('trello_hidden_lists',JSON.stringify(Array.from(hiddenListIds))); applyFilters(); }

/**
 * â˜…ä¿®æ­£ï¼šå€‹äººãƒ¡ãƒ¢å¸³ã‚’é–‹ã
 */
function openMemoModal() {
    currentMemoCardId = null;
    globalMemos = [];
    
    // ãƒªã‚¹ãƒˆã‚¯ãƒªã‚¢
    document.getElementById('memo-list-unfinished').innerHTML = '<li style="text-align:center; color:#999; padding:20px;">èª­ã¿è¾¼ã¿ä¸­...</li>';
    document.getElementById('memo-list-finished').innerHTML = '';
    document.getElementById('memo-count-unfinished').textContent = '0';
    document.getElementById('memo-count-finished').textContent = '0';

    const modal = document.getElementById('memo-modal');
    modal.classList.remove('hidden');

    const titleEl = modal.querySelector('h3');
    if (titleEl.getAttribute('data-original-text')) {
        titleEl.innerHTML = titleEl.getAttribute('data-original-text');
    } else {
        titleEl.innerHTML = '<span class="material-icons">edit_note</span> ãƒ¡ãƒ¢å¸³';
    }

    document.querySelector('.memo-tabs').classList.remove('hidden');
    initMemoUserSelector(); 
    loadMemos();
}

/**
 * â˜…ä¿®æ­£å®Œäº†ï¼šé–‰ã˜ã‚‹å‡¦ç†
 */
function closeMemoModal() {
    document.getElementById('memo-modal').classList.add('hidden');
    
    currentMemoCardId = null; // IDãƒªã‚»ãƒƒãƒˆ
    globalMemos = []; // ãƒ‡ãƒ¼ã‚¿ãƒªã‚»ãƒƒãƒˆ
    
    // éš ã—ã¦ã„ãŸã‚¿ãƒ–ã‚’å¾©æ´»ã•ã›ã¦ãŠã
    document.querySelector('.memo-tabs').classList.remove('hidden');
    
    // ã‚¿ã‚¤ãƒˆãƒ«ã‚’å…ƒã«æˆ»ã—ã¦ãŠãï¼ˆæ¬¡å›é–‹ãã¨ãã®ä¸€ç¬ã®è¡¨ç¤ºå´©ã‚Œé˜²æ­¢ï¼‰
    const titleEl = document.querySelector('#memo-modal h3');
    if (titleEl && titleEl.getAttribute('data-original-text')) {
        titleEl.innerHTML = titleEl.getAttribute('data-original-text');
        titleEl.style.color = '';
    }
}
    
    function initMemoUserSelector() {
        const container = document.getElementById('memo-user-selector');
        if (container.children.length > 0) return;

        const allMembers = new Set([
            ...(globalData.members.construction || []),
            ...(globalData.members.system || []),
            ...(globalData.members.sales || []),
            ...(globalData.members.mtg || [])
        ]);

        if (allMembers.size === 0) {
            container.innerHTML = '<span style="font-size:10px; color:#999;">ãƒ¡ãƒ³ãƒãƒ¼è¨­å®šãŒã‚ã‚Šã¾ã›ã‚“</span>';
            return;
        }

        Array.from(allMembers).sort().forEach(member => {
            const chip = document.createElement('div');
            chip.className = 'user-chip';
            chip.textContent = member;
            chip.onclick = function() {
                this.classList.toggle('selected');
            };
            container.appendChild(chip);
        });
    }

    function loadMemos() {
        if (!currentUserId) return; // ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ãªã„å ´åˆã¯å‡¦ç†ã—ãªã„
        google.script.run.withSuccessHandler((memos) => {
            globalMemos = memos;
            renderMemos();
        }).getMemos(currentUserId);
    }
    
    function switchMemoTab(type) {
        currentMemoTab = type;
        document.getElementById('tab-memo-personal').className = type === 'personal' ? 'memo-tab active' : 'memo-tab';
        document.getElementById('tab-memo-shared').className = type === 'shared' ? 'memo-tab active' : 'memo-tab';
        renderMemos();
    }

function toggleBgmMinify() {
        const p = document.getElementById('bgm-player');
        
        // â˜…æœ€å°åŒ–ã•ã‚Œã¦ã„ã‚‹ï¼ˆï¼ã“ã‚Œã‹ã‚‰é–‹ãï¼‰å ´åˆã®å‡¦ç†
        if (p.classList.contains('minimized')) {
            
            stopBgm(); // â˜…è¿½åŠ ï¼šã“ã“ã§å¼·åˆ¶çš„ã«ã€Œã‚ªãƒ•ã€ã«ã—ã¾ã™

            // å‰å›ã®ä¿®æ­£ï¼ˆèª¤ã‚¯ãƒªãƒƒã‚¯é˜²æ­¢ã®ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³ï¼‰
            isBgmCoolingDown = true;
            setTimeout(() => { isBgmCoolingDown = false; }, 500);
        }
        
        p.classList.toggle('minimized');
    }
    
    let notifiedMemoIds = new Set();
    
    function checkMemoNotifications() {
        const now = new Date();
        globalMemos.forEach(m => {
            if (!m.notifyTime) return;
            if (notifiedMemoIds.has(m.id)) return;
            
            const notifyDate = new Date(m.notifyTime);
            const diff = now - notifyDate;
            if (diff >= 0 && diff < 3600000) {
                showToast(`ğŸ”” ãƒ¡ãƒ¢ã®æ™‚é–“ã§ã™: ${m.content.substring(0, 10)}...`);
                playNotificationSound();
                notifiedMemoIds.add(m.id);
            }
        });
    }
    
    function playNotificationSound() {
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        const oscillator = audioCtx.createOscillator();
        const gainNode = audioCtx.createGain();
        
        oscillator.type = 'sine';
        oscillator.frequency.setValueAtTime(440, audioCtx.currentTime); 
        oscillator.connect(gainNode);
        gainNode.connect(audioCtx.destination);
        
        oscillator.start();
        gainNode.gain.exponentialRampToValueAtTime(0.00001, audioCtx.currentTime + 0.5);
        oscillator.stop(audioCtx.currentTime + 0.5);
    }

    const style = document.createElement("style");
    style.innerHTML = `@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }`;
    document.head.appendChild(style);

// â˜…è¿½åŠ ï¼šè‡ªåˆ†ï¼ˆãƒ­ã‚°ã‚¤ãƒ³ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼‰ã®æ‹…å½“ã‚«ãƒ¼ãƒ‰ã‹ã©ã†ã‹ã‚’åˆ¤å®šã™ã‚‹é–¢æ•°
function isMyCard(card) {
    if (!currentUserId) return false;
    
    const uid = String(currentUserId).trim();
    const r = card.roles;
    
    // æ§‹ç¯‰ã€ã‚·ã‚¹ãƒ†ãƒ ã€å–¶æ¥­ã€MTGã®ã„ãšã‚Œã‹ã®æ‹…å½“è€…ãŒè‡ªåˆ†ã§ã‚ã‚Œã° true
    return (String(r.construction).trim() === uid) ||
           (String(r.system).trim() === uid) ||
           (String(r.sales).trim() === uid) ||
           (String(r.mtg).trim() === uid);
}

// â–¼â–¼â–¼â–¼â–¼ è¿½åŠ ï¼šå¼·åˆ¶ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—ã‚³ãƒãƒ³ãƒ‰ (ãƒãƒƒã‚¯ã‚¹ãƒ©ãƒƒã‚·ãƒ¥10å›) â–¼â–¼â–¼â–¼â–¼
let cheatCodeCount = 0;

window.addEventListener('keydown', (e) => {
    // ãƒãƒƒã‚¯ã‚¹ãƒ©ãƒƒã‚·ãƒ¥( \ ) ã¾ãŸã¯ å††ãƒãƒ¼ã‚¯( Â¥ ) ã‚­ãƒ¼ã‚’æ¤œçŸ¥
    if (e.key === '\\' || e.key === 'Â¥' || e.code === 'IntlRo') { 
        cheatCodeCount++;
        
        // 10å›æŠ¼ã•ã‚ŒãŸã‚‰ç™ºå‹•
        if (cheatCodeCount >= 20) {
            // ä¸€æ°—ã«XPã‚’è¿½åŠ  (Lv.50ä»¥ä¸Šã«ãªã‚‹ã‚ˆã†ã«50ä¸‡XPè¿½åŠ )
            GM.data.xp += 500000;
            GM.checkLevelUp(); 
            GM.save(); 
            
            alert('ã€ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ç™ºå‹•ã€‘\nXPã‚’å¤§é‡ã«ç²å¾—ã—ã¾ã—ãŸï¼\nãƒ¬ãƒ™ãƒ«åˆ¶é™ãŒè§£é™¤ã•ã‚Œã¾ã™ã€‚ç”»é¢ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚');
            
            // è¨­å®šã‚’åæ˜ ã•ã›ã‚‹ãŸã‚ãƒªãƒ­ãƒ¼ãƒ‰
            location.reload();
            
            cheatCodeCount = 0; // ã‚«ã‚¦ãƒ³ãƒˆãƒªã‚»ãƒƒãƒˆ
        }
    } else {
        // é•ã†ã‚­ãƒ¼ã‚’æŠ¼ã—ãŸã‚‰ãƒªã‚»ãƒƒãƒˆ
        cheatCodeCount = 0;
    }
});
// â–²â–²â–²â–²â–² è¿½åŠ ã“ã“ã¾ã§ â–²â–²â–²â–²â–²

// â˜…è¿½åŠ ï¼šã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼æ“ä½œæ™‚ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åæ˜ ç”¨é–¢æ•°
    function updateBgScaleLabel(val) {
        document.getElementById('scale-val').textContent = Math.round(val * 100) + '%';
        document.documentElement.style.setProperty('--bg-scale', val);
    }

function loadBgSettings() {
    const s = (GM && GM.data.bgSettings) ? GM.data.bgSettings : JSON.parse(localStorage.getItem('trello_bg_settings') || '{}');
    
    applyBgSettings(s);
    
    // ã‚¿ã‚¤ãƒ—ãƒ»URLãƒ»æš—ã•
    if(document.getElementById('bg-type')) document.getElementById('bg-type').value = s.type || 'none';
    if(document.getElementById('bg-url')) document.getElementById('bg-url').value = s.url || '';
    if(document.getElementById('bg-opacity')) {
        document.getElementById('bg-opacity').value = s.opacity || 0;
        if(document.getElementById('opacity-val')) {
            document.getElementById('opacity-val').textContent = Math.round((s.opacity || 0) * 100) + '%';
        }
    }

    // ã‚µã‚¤ã‚ºã¨ä½ç½®ã®å¾©å…ƒ
    if(document.getElementById('bg-scale')) {
        document.getElementById('bg-scale').value = (s.scale !== undefined) ? s.scale : 1.0;
    }
    if(document.getElementById('bg-pos-x')) {
        document.getElementById('bg-pos-x').value = (s.posX !== undefined) ? s.posX : 0;
    }
    if(document.getElementById('bg-pos-y')) {
        document.getElementById('bg-pos-y').value = (s.posY !== undefined) ? s.posY : 0;
    }

    // CSSå¤‰æ•°ã«é©ç”¨
    updateBgTransform(); 
    toggleBgInput();
}

    // â˜…ä¿®æ­£ï¼šé©ç”¨æ™‚ã«å¤‰æ•°ã‚’ã‚»ãƒƒãƒˆ
    function applyBgSettings(s){ 
        const c=document.getElementById('bg-video-container'); 
        const v=document.getElementById('bg-video'); 
        const o=document.getElementById('bg-overlay'); 
        
        // â˜…è¿½åŠ ï¼šã‚¹ã‚±ãƒ¼ãƒ«é©ç”¨
        const scale = s.scale || 1.0;
        document.documentElement.style.setProperty('--bg-scale', scale);

        c.style.backgroundImage=''; v.style.display='none'; v.src=''; document.body.classList.remove('has-custom-bg'); 
        if(!s.type||s.type==='none')return; if(!s.url)return; 
        document.body.classList.add('has-custom-bg'); o.style.opacity=s.opacity||0; 
        if(s.type==='image') c.style.backgroundImage=`url('${s.url}')`; 
        else { 
    v.loop = true; 
    v.setAttribute('loop', ''); // â˜…è¿½åŠ ï¼šå±æ€§ã¨ã—ã¦ã‚‚æ˜ç¤ºçš„ã«è¨­å®š
    v.src=s.url; 
    v.style.display='block'; 
    v.load(); 
    v.play().catch(e=>console.log(e)); 
}
    }

// --- â˜…è¿½åŠ ï¼šä¸€æ–‰ãƒ­ãƒƒã‚¯ãƒ»è§£é™¤æ©Ÿèƒ½ ---
    function unlockAllLists() {
        if(!confirm('ã™ã¹ã¦ã®ãƒªã‚¹ãƒˆã®ãƒ­ãƒƒã‚¯ã‚’è§£é™¤ã—ã¾ã™ã‹ï¼Ÿ\nï¼ˆã‚«ãƒ¼ãƒ‰ç§»å‹•ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ï¼‰')) return;
        globalData.lists.forEach(l => unlockedListIds.add(l.id));
        localStorage.setItem('trello_unlocked_lists', JSON.stringify(Array.from(unlockedListIds)));
        applyFilters(); 
        showToast('å…¨ãƒªã‚¹ãƒˆã‚’ãƒ­ãƒƒã‚¯è§£é™¤ã—ã¾ã—ãŸ');
    }

    function lockAllLists() {
        if(!confirm('ã™ã¹ã¦ã®ãƒªã‚¹ãƒˆã‚’ãƒ­ãƒƒã‚¯ã—ã¾ã™ã‹ï¼Ÿ\nï¼ˆã‚«ãƒ¼ãƒ‰ç§»å‹•ãŒã§ããªããªã‚Šã¾ã™ï¼‰')) return;
        unlockedListIds.clear();
        localStorage.setItem('trello_unlocked_lists', JSON.stringify(Array.from(unlockedListIds)));
        applyFilters(); 
        showToast('å…¨ãƒªã‚¹ãƒˆã‚’ãƒ­ãƒƒã‚¯ã—ã¾ã—ãŸ');
    }

    // --- â˜…è¿½åŠ ï¼šæœŸé™æ—¥æ™‚ã®ã‚¯ãƒªã‚¢æ©Ÿèƒ½ ---
    function clearDueDate() {
        document.getElementById('input-trello-due').value = '';
    }

    // --- â˜…è¿½åŠ ï¼šèƒŒæ™¯ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åæ˜ ï¼ˆXYå¯¾å¿œç‰ˆï¼‰ ---
    function updateBgTransform() {
        const scale = document.getElementById('bg-scale').value;
        const x = document.getElementById('bg-pos-x').value;
        const y = document.getElementById('bg-pos-y').value;

        document.getElementById('scale-val').textContent = Math.round(scale * 100) + '%';
        document.getElementById('pos-x-val').textContent = x + '%';
        document.getElementById('pos-y-val').textContent = y + '%';

        // CSSå¤‰æ•°ã‚’æ›´æ–°ã—ã¦ style ã‚¿ã‚°ã®è¨­å®šã‚’å‹•ã‹ã™
        document.documentElement.style.setProperty('--bg-scale', scale);
        document.documentElement.style.setProperty('--bg-x', x + '%');
        document.documentElement.style.setProperty('--bg-y', y + '%');
    }
// --- â˜…ä¿®æ­£ï¼šã‚«ãƒ¼ãƒ‰ãƒ­ã‚°æ©Ÿèƒ½ ---
    function openCardLogModal(cardId) {
        if(window.event) window.event.stopPropagation();
        
        const card = globalData.cards.find(c => String(c.id) === String(cardId));
        const name = card ? card.name : 'ä¸æ˜ãªã‚«ãƒ¼ãƒ‰';
        document.getElementById('log-card-name').textContent = name;
        
        const listEl = document.getElementById('card-log-list');
        listEl.innerHTML = '<li style="padding:20px; text-align:center; color:#999;"><span class="material-icons" style="animation:spin 1s infinite linear; vertical-align:middle;">refresh</span> å±¥æ­´ã‚’å–å¾—ä¸­...</li>';
        
        document.getElementById('card-log-modal').classList.remove('hidden');

        // GASã‹ã‚‰ãƒ­ã‚°å–å¾—
        // â˜…ä¿®æ­£ï¼šãƒ­ã‚°ä¿å­˜æ™‚ã¯ safeId (ShortLink) ãŒä½¿ã‚ã‚Œã¦ã„ã‚‹ãŸã‚ã€ã“ã“ã§ã‚‚ safeId (card.id) ã‚’æ¸¡ã™å¿…è¦ãŒã‚ã‚‹
        // ä»¥å‰ã®ã‚³ãƒ¼ãƒ‰ã§ã¯ card.realId ã‚’å„ªå…ˆã—ã¦ã„ã¾ã—ãŸãŒã€ãã‚ŒãŒåŸå› ã§ä¸€è‡´ã—ã¾ã›ã‚“ã§ã—ãŸã€‚
        const logSearchId = card ? card.id : cardId; 
        
        google.script.run.withSuccessHandler(renderCardLogs).getCardLogs(logSearchId);
    }

    function renderCardLogs(logs) {
        const listEl = document.getElementById('card-log-list');
        listEl.innerHTML = '';

        if (!logs || logs.length === 0) {
            listEl.innerHTML = '<li style="padding:20px; text-align:center; color:#999;">å±¥æ­´ã¯ã‚ã‚Šã¾ã›ã‚“</li>';
            return;
        }

        logs.forEach(log => {
            const li = document.createElement('li');
            li.className = 'log-item';
            li.innerHTML = `
                <div class="log-date">${log.date}</div>
                <div>
                    <span class="log-user">${escapeHtml(log.user)}</span>
                    <span class="log-action">${escapeHtml(log.action)}</span>
                </div>
            `;
            listEl.appendChild(li);
        });
    }

    function closeCardLogModal() {
        document.getElementById('card-log-modal').classList.add('hidden');
    }

// â˜…è¿½åŠ ï¼šç¾åœ¨é–‹ã„ã¦ã„ã‚‹ã‚«ãƒ¼ãƒ‰ãƒ¡ãƒ¢ã®IDã‚’ä¿å­˜ã™ã‚‹å¤‰æ•°
let currentMemoCardId = null;

/**
 * â˜…ä¿®æ­£ï¼šã‚«ãƒ¼ãƒ‰å°‚ç”¨ãƒ¡ãƒ¢ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‹ã
 * ãƒ»ã‚¿ã‚°ç”Ÿæˆé–¢æ•°(initMemoUserSelector)ã®å‘¼ã³å‡ºã—ã‚’è¿½åŠ 
 */
function openCardMemoModal(e, cardId, cardName) {
    if(e) e.stopPropagation();
    
    currentMemoCardId = cardId;
    
    // ãƒ‡ãƒ¼ã‚¿åˆæœŸåŒ–
    globalMemos = []; 
    document.getElementById('memo-list-unfinished').innerHTML = '<li style="text-align:center; color:#999; padding:20px;">èª­ã¿è¾¼ã¿ä¸­...</li>';
    document.getElementById('memo-list-finished').innerHTML = '';
    document.getElementById('memo-count-unfinished').textContent = '0';
    document.getElementById('memo-count-finished').textContent = '0';

    const modal = document.getElementById('memo-modal');
    modal.classList.remove('hidden');
    
    // ã‚¿ã‚¤ãƒˆãƒ«æ›¸ãæ›ãˆ
    const titleEl = modal.querySelector('h3');
    if (!titleEl.getAttribute('data-original-text')) {
        titleEl.setAttribute('data-original-text', titleEl.innerHTML);
    }
    titleEl.innerHTML = `<span class="material-icons">description</span> ${escapeHtml(cardName)}`;

    // ã‚¿ãƒ–ã‚’éš ã™
    document.querySelector('.memo-tabs').classList.add('hidden');
    
    // å…¥åŠ›æ¬„ã‚¯ãƒªã‚¢
    document.getElementById('memo-content').value = '';
    document.getElementById('memo-notify-time').value = '';
    
    // â˜…è¿½åŠ ï¼šã“ã“ã§ã‚¿ã‚°ã®é¸æŠè‚¢ã‚’ç”Ÿæˆã™ã‚‹ï¼
    initMemoUserSelector();

    loadCardMemos(cardId);
}

/**
 * â˜…ä¿®æ­£ãƒ»é«˜é€ŸåŒ–ç‰ˆï¼šã‚«ãƒ¼ãƒ‰å°‚ç”¨ãƒ¡ãƒ¢ã‚’å–å¾—
 * ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’åˆ©ç”¨ã—ã¦ä½“æ„Ÿé€Ÿåº¦ã‚’å‘ä¸Š
 */
function loadCardMemos(cardId) {
    const listUnfinished = document.getElementById('memo-list-unfinished');
    const listFinished = document.getElementById('memo-list-finished');

    // â˜…é«˜é€ŸåŒ–ï¼šã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒã‚ã‚Œã°å…ˆã«ãã‚Œã‚’è¡¨ç¤ºã™ã‚‹ï¼ˆå¾…æ©Ÿæ™‚é–“ã‚¼ãƒ­ï¼‰
    if (cardMemoCache[cardId]) {
        console.log("Using cached memos for card:", cardId);
        globalMemos = cardMemoCache[cardId];
        renderMemos(); // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ‡ãƒ¼ã‚¿ã§å³æç”»
    } else {
        // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒãªã„å ´åˆã®ã¿ãƒ­ãƒ¼ãƒ‰è¡¨ç¤º
        listUnfinished.innerHTML = '<li style="padding:20px; text-align:center; color:#999;"><span class="material-icons" style="animation:spin 1s infinite linear; vertical-align:middle;">refresh</span> èª­ã¿è¾¼ã¿ä¸­...</li>';
        listFinished.innerHTML = '';
    }

    // ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰æœ€æ–°ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ï¼ˆãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å®Ÿè¡Œï¼‰
    google.script.run.withSuccessHandler((memos) => {
        // å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æ›´æ–°
        cardMemoCache[cardId] = memos;
        
        // ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã‚‚æ›´æ–°
        globalMemos = memos;
        
        // å†æç”»ï¼ˆæœ€æ–°ãƒ‡ãƒ¼ã‚¿åæ˜ ï¼‰
        renderMemos();
    }).withFailureHandler((e) => {
        showToast("ãƒ¡ãƒ¢ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ");
        console.error(e);
        // ã‚¨ãƒ©ãƒ¼æ™‚ã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒã‚ã‚Œã°ãã®ã¾ã¾ã€ãªã‘ã‚Œã°ã‚¨ãƒ©ãƒ¼è¡¨ç¤º
        if (!cardMemoCache[cardId]) {
             listUnfinished.innerHTML = '<li style="text-align:center; color:#eb5a46;">èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼</li>';
        }
    }).getCardMemos(cardId);
}

/**
 * â˜…ä¿®æ­£ï¼šãƒ¡ãƒ¢è¿½åŠ ï¼ˆé«˜é€ŸåŒ–ãƒ»æ¥½è¦³çš„UIç‰ˆï¼‰
 * ãƒ»ã‚µãƒ¼ãƒãƒ¼ã®å¿œç­”ã‚’å¾…ãŸãšã«ã€ç”»é¢ã«ã¯å³åº§ã«è¿½åŠ ã‚’è¡¨ç¤ºã—ã¾ã™
 */
function execAddMemo() {
    const content = document.getElementById('memo-content').value;
    const notifyTime = document.getElementById('memo-notify-time').value;
    const btn = document.getElementById('btn-add-memo');
    
    const selectedUsers = [];
    document.querySelectorAll('#memo-user-selector .user-chip.selected').forEach(chip => {
        selectedUsers.push(chip.textContent);
    });

    if (!content.trim()) {
        showToast('ãƒ¡ãƒ¢ã®å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
        return;
    }
    
    // é€£æ‰“é˜²æ­¢ã®ãŸã‚ãƒœã‚¿ãƒ³ã‚’ä¸€æ™‚ç„¡åŠ¹åŒ–ï¼ˆã™ãæˆ»ã—ã¾ã™ï¼‰
    btn.disabled = true;

    // â–  1. ä»®ã®ãƒ¡ãƒ¢ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆï¼ˆIDã¯ä¸€æ™‚çš„ã«ä¹±æ•°ãªã©ã«ã™ã‚‹ï¼‰
    const tempId = 'temp_' + Date.now();
    const tempMemo = {
        id: tempId,
        type: currentMemoCardId ? 'card' : currentMemoTab,
        userId: currentUserId,
        content: content,
        notifyTime: notifyTime || '',
        createdAt: new Date().toISOString(), // ç¾åœ¨æ™‚åˆ»
        relatedUsers: selectedUsers,
        isFinished: false, // â˜…æœªå®Œäº†ã¨ã—ã¦ä½œæˆ
        targetId: currentMemoCardId || ''
    };

    // â–  2. ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã«ä»®è¿½åŠ ã—ã¦ã€å³åº§ã«å†æç”»ï¼
    // (ã‚µãƒ¼ãƒãƒ¼å¾…ã¡æ™‚é–“ã‚’ã‚¼ãƒ­ã«ã™ã‚‹ãŸã‚ã®å·¥å¤«ã§ã™)
    globalMemos.unshift(tempMemo); // å…ˆé ­ã«è¿½åŠ 
    renderMemos(); 

    // å…¥åŠ›æ¬„ã‚’ã‚¯ãƒªã‚¢
    document.getElementById('memo-content').value = '';
    document.getElementById('memo-notify-time').value = '';
    document.querySelectorAll('#memo-user-selector .user-chip').forEach(c => c.classList.remove('selected'));
    
    // â–  3. è£ã§ã‚µãƒ¼ãƒãƒ¼ã«é€ä¿¡
    const newMemoPayload = {
        type: tempMemo.type, 
        userId: tempMemo.userId,
        content: tempMemo.content,
        notifyTime: tempMemo.notifyTime,
        relatedUsers: tempMemo.relatedUsers,
        targetId: tempMemo.targetId
    };

    google.script.run.withSuccessHandler((memos) => {
        // æˆåŠŸã—ãŸã‚‰ã€ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰ã®æ­£å¼ãªãƒ‡ãƒ¼ã‚¿ï¼ˆæ­£å¼ãªIDä»˜ãï¼‰ã§ä¸Šæ›¸ã
        globalMemos = memos;
        renderMemos();
        
        showToast('ãƒ¡ãƒ¢ã‚’ä¿å­˜ã—ã¾ã—ãŸ');
        // GM.gainXp(XP_TABLE.memo, 'ãƒ¡ãƒ¢ä½œæˆ'); 
        
        btn.disabled = false;
        
    }).withFailureHandler((e) => {
        // å¤±æ•—ã—ãŸã‚‰ä»®ãƒ‡ãƒ¼ã‚¿ã‚’æ¶ˆã—ã¦ã‚¨ãƒ©ãƒ¼è¡¨ç¤º
        alert("ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ: " + e);
        globalMemos = globalMemos.filter(m => m.id !== tempId); // ä»®ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤
        renderMemos();
        btn.disabled = false;
    }).addMemo(newMemoPayload);
}

/**
 * â˜…ä¿®æ­£å®Œäº†ï¼šãƒ¡ãƒ¢ä¸€è¦§ã‚’æç”»ã™ã‚‹é–¢æ•°ï¼ˆå·¦å³åˆ†å‰²ç‰ˆï¼‰
 */
function renderMemos() {
    const listUnfinished = document.getElementById('memo-list-unfinished');
    const listFinished = document.getElementById('memo-list-finished');
    
    listUnfinished.innerHTML = '';
    listFinished.innerHTML = '';
    
    let filtered = [];

    // ãƒ¢ãƒ¼ãƒ‰ã«ã‚ˆã‚‹ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
    if (currentMemoCardId) {
        filtered = globalMemos.filter(m => m.type === 'card');
    } else {
        filtered = globalMemos.filter(m => m.type === currentMemoTab);
    }
    
    // â˜…å®Œäº†ãƒ»æœªå®Œäº†ã«åˆ†å‰²
    const unfinishedItems = filtered.filter(m => !m.isFinished);
    const finishedItems = filtered.filter(m => m.isFinished);

    // ã‚«ã‚¦ãƒ³ãƒˆæ›´æ–°
    document.getElementById('memo-count-unfinished').textContent = unfinishedItems.length;
    document.getElementById('memo-count-finished').textContent = finishedItems.length;
    
    // --- å…±é€šã®HTMLç”Ÿæˆé–¢æ•° ---
// --- å…±é€šã®HTMLç”Ÿæˆé–¢æ•° ---
    const createMemoHtml = (m, isDoneList) => {
        const li = document.createElement('li');
        // å®Œäº†æ¸ˆã¿ã‹ã©ã†ã‹ã®ã‚¯ãƒ©ã‚¹
        li.className = isDoneList ? 'memo-item memo-finished' : 'memo-item';
        
        // â˜…è¿½åŠ ï¼šTrelloç”±æ¥ã®å ´åˆã€èƒŒæ™¯è‰²ã‚’å°‘ã—å¤‰ãˆã‚‹ãªã©ã®ã‚¹ã‚¿ã‚¤ãƒ«
        if (m.isTrelloOnly) {
            li.style.borderLeft = "4px solid #0079bf"; // Trelloã£ã½ã„é’ç·š
            li.style.backgroundColor = "#f4f5f7"; // è–„ã„ã‚°ãƒ¬ãƒ¼
        }

        let deadlineHtml = '';
        const dVal = m.notifyTime || m.deadline; 
        // æœªå®Œäº†ãƒªã‚¹ãƒˆã§ã®ã¿æœŸé™ã‚’ç›®ç«‹ãŸã›ã‚‹
        if (dVal && !isDoneList) {
            deadlineHtml = `<div class="memo-notify" style="color:#e67e22; font-weight:bold; margin-top:4px;">
                <span class="material-icons" style="font-size:12px;">event_busy</span> æœŸé™: ${dVal}
            </div>`;
        }

        const contextParam = currentMemoCardId ? `'card', '${currentMemoCardId}'` : `'personal'`;
        
        // ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¤ã‚³ãƒ³ï¼šå®Œäº†ãƒªã‚¹ãƒˆãªã‚‰ã€Œæˆ»ã™ã€ã‚¢ã‚¤ã‚³ãƒ³ã€æœªå®Œäº†ãªã‚‰ã€Œãƒã‚§ãƒƒã‚¯ã€ã‚¢ã‚¤ã‚³ãƒ³
        const checkIcon = isDoneList ? 'replay' : 'check_circle_outline';
        const checkTitle = isDoneList ? 'æœªå®Œäº†ã«æˆ»ã™' : 'å®Œäº†ã«ã™ã‚‹';
        const checkColorClass = isDoneList ? '' : 'checked'; // CSSã§è‰²ä»˜ã‘ç”¨

        // ã‚¿ã‚°ç”Ÿæˆ
        let relatedHtml = '';
        if (m.relatedUsers && m.relatedUsers.length > 0) {
             relatedHtml = '<div class="memo-related-tags">';
             m.relatedUsers.forEach(user => {
                 if(user && user.trim() !== '') {
                     relatedHtml += `<span class="memo-tag">${escapeHtml(user)}</span>`;
                 }
             });
             relatedHtml += '</div>';
        }

        li.innerHTML = `
            <div class="memo-header">
                <div style="display:flex; align-items:center;">
                    <span class="material-icons btn-memo-check ${checkColorClass}" 
                          onclick="execToggleMemoStatus('${m.id}', ${contextParam})" 
                          title="${checkTitle}" style="font-size:18px;">${checkIcon}</span>
                    
                    <span>${m.createdAt || ''} <span style="margin-left:5px; color:#ccc;">by ${escapeHtml(m.userId)}</span></span>
                </div>
                <span class="material-icons btn-delete-memo" onclick="deleteMemo('${m.id}', ${contextParam})" title="å‰Šé™¤">delete</span>
            </div>
            <div class="memo-content" style="font-size:13px; white-space: pre-wrap;">${escapeHtml(m.content)}</div>
            ${relatedHtml}
            ${deadlineHtml}
        `;
        return li;
    };

    // --- æœªå®Œäº†ãƒªã‚¹ãƒˆæç”» ---
    if (unfinishedItems.length === 0) {
        listUnfinished.innerHTML = '<li style="text-align:center; color:#999; font-size:12px; padding:20px;">ã‚¿ã‚¹ã‚¯ã¯ã‚ã‚Šã¾ã›ã‚“ ğŸ‰</li>';
    } else {
        // æ–°ã—ã„é †
        unfinishedItems.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
        unfinishedItems.forEach(m => listUnfinished.appendChild(createMemoHtml(m, false)));
    }

    // --- å®Œäº†ãƒªã‚¹ãƒˆæç”» ---
    if (finishedItems.length === 0) {
        listFinished.innerHTML = '<li style="text-align:center; color:#999; font-size:12px; padding:20px;">å®Œäº†å±¥æ­´ãªã—</li>';
    } else {
        // å®Œäº†æ¸ˆã¿ã¯æ–°ã—ã„é †ï¼ˆæœ€è¿‘å®Œäº†ã—ãŸã‚‚ã®ã‚’ä¸Šã«è¦‹ãŸã„å ´åˆãŒå¤šã„ãŒã€ä½œæˆæ—¥é †ã§çµ±ä¸€ï¼‰
        finishedItems.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
        finishedItems.forEach(m => listFinished.appendChild(createMemoHtml(m, true)));
    }
}

/**
 * â˜…ä¿®æ­£ï¼šãƒã‚§ãƒƒã‚¯æ™‚ã®ã€Œæˆ»ã‚Šã€ã‚’é˜²ãå®Œå…¨ãªæ¥½è¦³çš„UIç‰ˆ
 * ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰ã®è¿”ä¿¡ã§ç”»é¢ã‚’å†æç”»ã›ãšã€ãƒ­ãƒ¼ã‚«ãƒ«ã®å¤‰æ›´ã‚’æ­£ã¨ã™ã‚‹
 */
function execToggleMemoStatus(id, context, cardId = null) {
    // å¼•æ•°è£œå®Œ
    if (context === 'card' && !cardId && currentMemoCardId) {
        cardId = currentMemoCardId;
    }

    // â–  1. å³åº§ã«ç”»é¢ã¨å†…éƒ¨ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°ï¼ˆã“ã“ã¾ã§ã¯ä»¥å‰ã¨åŒã˜ï¼‰
    const targetMemo = globalMemos.find(m => m.id === id);
    if (targetMemo) {
        targetMemo.isFinished = !targetMemo.isFinished;
        renderMemos(); // ç”»é¢ä¸Šã¯å³ç§»å‹•
        
        // åŠ¹æœéŸ³
        if (GM && GM.data.settings.soundSe && targetMemo.isFinished) {
             GM.playSe('gain');
             GM.gainXp(10, 'ã‚¿ã‚¹ã‚¯å®Œäº†');
        }
    }

    // â–  2. ã‚µãƒ¼ãƒãƒ¼ã¸é€ä¿¡ï¼ˆâ˜…ã“ã“ã‚’å¤‰æ›´ï¼‰
    // æˆåŠŸã—ã¦ã‚‚ renderMemos() ã‚’å‘¼ã°ãªã„ã‚ˆã†ã«ã—ã¾ã™ã€‚
    // ã“ã‚Œã«ã‚ˆã‚Šã€Œã‚µãƒ¼ãƒãƒ¼ä¿å­˜ä¸­ã®ã‚¿ã‚¤ãƒ ãƒ©ã‚°ã«ã‚ˆã‚‹å·»ãæˆ»ã‚Šã€ãŒ100%é˜²ã’ã¾ã™ã€‚
    google.script.run.withSuccessHandler(() => {
        console.log("ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ä¿å­˜å®Œäº†: " + id);
        // ã“ã“ã§ globalMemos = memos; renderMemos(); ã‚’ã—ã¦ã„ãŸã®ãŒæˆ»ã‚‹åŸå› ã§ã—ãŸ
    }).withFailureHandler((e) => {
        // å¤±æ•—ã—ãŸæ™‚ã ã‘ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ä¼ãˆã€å…ƒã®çŠ¶æ…‹ã«æˆ»ã™
        alert("ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ç”»é¢ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚\n" + e.message);
        targetMemo.isFinished = !targetMemo.isFinished; // å…ƒã«æˆ»ã™
        renderMemos();
    }).toggleMemoStatus(id, currentUserId, context, cardId);
}

/**
 * â˜…ä¿®æ­£ï¼šãƒ¡ãƒ¢å‰Šé™¤é–¢æ•° (deleteMemo) ã‚’ä¸Šæ›¸ã
 * ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆï¼ˆã©ã“ã‹ã‚‰å‰Šé™¤ã—ãŸã‹ï¼‰ã‚’å—ã‘å–ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹
 */
function deleteMemo(id, context = 'personal', cardId = null) {
    if (!confirm('ã“ã®ãƒ¡ãƒ¢ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')) return;
    
    // å¼•æ•°ãŒè¶³ã‚Šãªã„å ´åˆã®è£œå®Œï¼ˆUIã‹ã‚‰å‘¼ã°ã‚ŒãŸã¨ãç”¨ï¼‰
    if (context === 'card' && !cardId && currentMemoCardId) {
        cardId = currentMemoCardId;
    }

    google.script.run.withSuccessHandler((memos) => {
        globalMemos = memos;
        renderMemos(); // å†æç”»
        showToast('ãƒ¡ãƒ¢ã‚’å‰Šé™¤ã—ã¾ã—ãŸ');
    }).withFailureHandler((e) => {
        alert("å‰Šé™¤å¤±æ•—: " + e.message);
    }).deleteMemo(id, currentUserId, context, cardId);
}

/**
 * â˜…æ–°è¦è¿½åŠ ï¼šæœŸé™åˆ‡ã‚Œã‚¢ã‚¤ã‚³ãƒ³ã®ã¿ã‚’æ›´æ–°ã™ã‚‹é–¢æ•°
 * ãƒšãƒ¼ã‚¸ãƒªãƒ­ãƒ¼ãƒ‰ã›ãšã«ãƒœã‚¿ãƒ³ã®è¦‹ãŸç›®ã ã‘ã‚’å¤‰ãˆã¾ã™
 */
function refreshOverdueStatus() {
    console.log("æœŸé™åˆ‡ã‚Œã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’æ›´æ–°ä¸­...");
    google.script.run.withSuccessHandler((overdueIds) => {
        // ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°
        globalData.overdueMemoCardIds = overdueIds;

        // ç”»é¢ä¸Šã®ã™ã¹ã¦ã®ã‚«ãƒ¼ãƒ‰ãƒ¡ãƒ¢ãƒœã‚¿ãƒ³ã‚’ãƒã‚§ãƒƒã‚¯
        const buttons = document.querySelectorAll('.btn-card-memo-trigger');
        
        buttons.forEach(btn => {
            // ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã®å¼•æ•°ã‹ã‚‰ã‚«ãƒ¼ãƒ‰IDã‚’æŠ½å‡ºã™ã‚‹ç°¡æ˜“çš„ãªæ–¹æ³•
            // (æœ¬æ¥ã¯ data-card-id å±æ€§ã‚’æŒãŸã›ã‚‹ã®ãŒç†æƒ³ã§ã™ãŒã€ç¾çŠ¶ã®æ§‹é€ ã«åˆã‚ã›ã¦è§£æã—ã¾ã™)
            const onClickAttr = btn.getAttribute('onclick'); 
            // openCardMemoModal(event, 'ID', 'Name') å½¢å¼ã‹ã‚‰IDã‚’æŠœãå‡ºã™
            const match = onClickAttr.match(/'([^']+)',/); 
            
            if (match && match[1]) {
                const cardId = match[1];
                const isOverdue = overdueIds.includes(cardId);
                const textSpan = btn.querySelector('span'); // ã‚¢ã‚¤ã‚³ãƒ³éƒ¨åˆ†

                if (isOverdue) {
                    // æœŸé™åˆ‡ã‚Œã‚¹ã‚¿ã‚¤ãƒ«é©ç”¨
                    btn.classList.add('overdue');
btn.innerHTML = `æœŸé™åˆ‡`;
                    btn.title = "ã€æ³¨æ„ã€‘æœŸé™åˆ‡ã‚Œã®æœªå®Œäº†ã‚¿ã‚¹ã‚¯ãŒã‚ã‚Šã¾ã™ï¼";
                } else {
                    // ...
                    btn.innerHTML = `ãƒ¡ãƒ¢`;
                    btn.title = "ã“ã®ã‚«ãƒ¼ãƒ‰ã®ãƒ¡ãƒ¢å¸³ã‚’é–‹ã";
                }
            }
        });
        console.log("æœŸé™åˆ‡ã‚Œã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°å®Œäº†");
    }).getOverdueMemoCardIds();
}

/**
 * â˜…è¿½åŠ ï¼šã‚µã‚¤ãƒ‰ãƒãƒ¼å´ã®æ¤œç´¢å…¥åŠ›ãƒãƒ³ãƒ‰ãƒ©ãƒ¼
 * å…¥åŠ›å€¤ã‚’ãƒ˜ãƒƒãƒ€ãƒ¼å´ã«ã‚³ãƒ”ãƒ¼ã—ã¦ãƒ¡ã‚¤ãƒ³å‡¦ç†ã‚’å‘¼ã³ã¾ã™
 */
function handleSidebarSearchInput() {
    const sideInput = document.getElementById('sidebar-search-input');
    const mainInput = document.getElementById('search-input');
    
    // ãƒ¡ã‚¤ãƒ³ã®ãƒœãƒƒã‚¯ã‚¹ã«å€¤ã‚’åŒæœŸ
    if (mainInput && sideInput) {
        mainInput.value = sideInput.value;
    }
    
    // ãƒ¡ã‚¤ãƒ³ã®å‡¦ç†ã‚’å®Ÿè¡Œ
    handleSearchInput();
}

/**
 * â˜…ä¿®æ­£ç‰ˆï¼šæ¤œç´¢å…¥åŠ›æ™‚ã®ãƒãƒ³ãƒ‰ãƒ©ãƒ¼
 * ãƒ»æ–‡å­—ãŒç©ºã«ãªã£ã¦ã‚‚ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚’é–‰ã˜ãªã„ã‚ˆã†ã«å¤‰æ›´ã—ã¾ã—ãŸ
 */
function handleSearchInput() {
    const mainInput = document.getElementById('search-input');
    const sideInput = document.getElementById('sidebar-search-input');
    const val = mainInput.value.trim();

    // åŒæœŸå‡¦ç†
    if (sideInput && document.activeElement !== sideInput) {
        sideInput.value = val;
    }

    // ã‚¢ã‚¤ã‚³ãƒ³åˆ‡ã‚Šæ›¿ãˆ
    updateSearchIcons('search', val);
    updateSearchIcons('sidebar-search', val);

    // ãƒ¡ã‚¤ãƒ³ç”»é¢ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
    applyFilters();

    // â˜…å¤‰æ›´ç‚¹ï¼šæ–‡å­—ãŒãªãã¦ã‚‚ã€æ¤œç´¢ãƒ¢ãƒ¼ãƒ‰ãªã‚‰ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚’é–‹ãã£ã±ãªã—ã«ã™ã‚‹
    if (val) {
        openSearchSidebar(val);
    } else {
        if (currentSidebarType === 'search') {
            // æ–‡å­—ãŒç©ºã®å ´åˆã‚‚ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚’ç¶­æŒï¼ˆå†…å®¹ã¯ç©ºã«ã™ã‚‹ã‹ã€å…¨ä»¶å‡ºã™ã‹ã¯ãŠå¥½ã¿ã§ï¼‰
            // ã“ã“ã§ã¯ç©ºæ–‡å­—ã§æ¤œç´¢ï¼å…¨ä»¶è¡¨ç¤ºã®çŠ¶æ…‹ã«ãªã‚Šã¾ã™ãŒã€ã‚µã‚¤ãƒ‰ãƒãƒ¼ã¯é–‰ã˜ã¾ã›ã‚“
            openSearchSidebar(''); 
        }
    }
}

/**
 * â˜…è¿½åŠ ï¼šã‚¢ã‚¤ã‚³ãƒ³è¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆã®å…±é€šé–¢æ•°
 * IDã®ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’å—ã‘å–ã‚Šã€è™«çœ¼é¡ã¨âœ•ã‚’åˆ‡ã‚Šæ›¿ãˆã¾ã™
 */
function updateSearchIcons(prefix, hasValue) {
    const clearBtn = document.getElementById(prefix + '-clear-btn');
    const glassIcon = document.getElementById(prefix + '-glass-icon');
    
    if (clearBtn && glassIcon) {
        if (hasValue) {
            glassIcon.classList.add('hidden');
            clearBtn.classList.remove('hidden');
        } else {
            glassIcon.classList.remove('hidden');
            clearBtn.classList.add('hidden');
        }
    }
}

/**
 * â˜…ä¿®æ­£ç‰ˆï¼šæ¤œç´¢ãƒªã‚»ãƒƒãƒˆé–¢æ•°ï¼ˆâœ•ãƒœã‚¿ãƒ³ç”¨ï¼‰
 * ãƒ»ãƒ†ã‚­ã‚¹ãƒˆã®ã¿å‰Šé™¤ã—ã€ã‚µã‚¤ãƒ‰ãƒãƒ¼ã¯é–‰ã˜ãšã«ç¶­æŒã—ã¾ã™
 */
function clearSearch() {
    const mainInput = document.getElementById('search-input');
    const sideInput = document.getElementById('sidebar-search-input');
    
    // ä¸¡æ–¹ã®æ–‡å­—ã‚’ç©ºã«ã™ã‚‹
    if(mainInput) mainInput.value = '';
    if(sideInput) sideInput.value = '';
    
    // å¤‰æ›´ã‚’åæ˜ ï¼ˆã“ã®ä¸­ã§ã€Œæ–‡å­—ãŒç©ºã§ã‚‚ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚’ç¶­æŒã™ã‚‹å‡¦ç†ã€ãŒå‹•ãã¾ã™ï¼‰
    handleSearchInput();

    // â˜…å‰Šé™¤ï¼šcloseSidebarForcibly(); 
    // â†‘ ã“ã‚Œã‚’å‰Šé™¤ã—ãŸã®ã§ã€âœ•ã‚’æŠ¼ã—ã¦ã‚‚ã‚µã‚¤ãƒ‰ãƒãƒ¼ã¯é–‰ã˜ãªããªã‚Šã¾ã™
}

/**
 * â˜…è¿½åŠ ï¼šæ¤œç´¢çµæœã‚’ã‚µã‚¤ãƒ‰ãƒãƒ¼ã«è¡¨ç¤ºã™ã‚‹é–¢æ•°
 */
function openSearchSidebar(searchText) {
    const sidebar = document.getElementById('sidebar-right');
    const overlay = document.getElementById('sidebar-overlay');
    const container = document.getElementById('sidebar-content');
    const title = document.getElementById('sidebar-title');

    // ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚’é–‹ãå‡¦ç†
    sidebar.classList.add('open');
    overlay.classList.remove('hidden');
    overlay.classList.add('open');
    
    // ç¾åœ¨ã®ãƒ¢ãƒ¼ãƒ‰ã‚’ 'search' ã«è¨­å®š
    currentSidebarType = 'search';

    // ã‚¿ã‚¤ãƒˆãƒ«ã®æ›´æ–°
    title.innerHTML = `<span class="material-icons" style="color:#0079bf;">search</span> "${escapeHtml(searchText)}" ã®çµæœ`;
    container.innerHTML = '';

    // æ¤œç´¢ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆã‚«ãƒ¼ãƒ‰åã«æ¤œç´¢èªãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹ï¼‰
    const lowText = searchText.toLowerCase();
    const hits = globalData.cards.filter(c => (c.name || '').toLowerCase().includes(lowText));

    if (hits.length === 0) {
        container.innerHTML = '<div style="padding:10px; color:#999; text-align:center;">è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ</div>';
        return;
    }

    // ãƒªã‚¹ãƒˆã”ã¨ã«ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã—ã¦è¡¨ç¤º
    globalData.lists.forEach(list => {
        const cardsInList = hits.filter(c => c.idList === list.id);
        
        if (cardsInList.length > 0) {
            // ãƒªã‚¹ãƒˆåã®ãƒ˜ãƒƒãƒ€ãƒ¼
            const header = document.createElement('div');
            header.className = 'sidebar-list-header';
            header.textContent = list.name;
            container.appendChild(header);

            // ã‚«ãƒ¼ãƒ‰ã‚’è¿½åŠ ï¼ˆcreateCardElementã‚’å†åˆ©ç”¨ï¼‰
            cardsInList.forEach(c => {
                // ã‚µã‚¤ãƒ‰ãƒãƒ¼å†…ã§ã¯ãƒ­ãƒƒã‚¯çŠ¶æ…‹ï¼ˆisLocked=trueï¼‰ã¨ã—ã¦è¡¨ç¤º
                container.appendChild(createCardElement(c, true)); 
            });
        }
    });
}

/**
 * â˜…ä¿®æ­£ï¼šã‚«ãƒ¼ãƒ‰ã®èª¬æ˜ã‚’ã‚µã‚¤ãƒ‰ãƒãƒ¼ã«è¡¨ç¤ºï¼†ç·¨é›†æ©Ÿèƒ½è¿½åŠ 
 */
function openDescriptionSidebar(e, cardId) {
    if(e) e.stopPropagation();

    const card = globalData.cards.find(c => String(c.id) === String(cardId));
    if (!card) return;

    const sidebar = document.getElementById('sidebar-right');
    const overlay = document.getElementById('sidebar-overlay');
    const container = document.getElementById('sidebar-content');
    const title = document.getElementById('sidebar-title');

    sidebar.classList.add('open');
    overlay.classList.remove('hidden');
    overlay.classList.add('open');
    currentSidebarType = 'description';

    title.innerHTML = `<span class="material-icons" style="color:#0079bf;">description</span> èª¬æ˜è©³ç´°`;

    // ç”Ÿã®ãƒ†ã‚­ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ï¼ˆç·¨é›†ç”¨ï¼‰
    const rawDesc = card.desc || "";
    
    // è¡¨ç¤ºç”¨HTMLï¼ˆãƒªãƒ³ã‚¯åŒ–ãªã©ï¼‰
    let descHtml = '<span style="color:#999; font-style:italic;">(èª¬æ˜ã¯ã‚ã‚Šã¾ã›ã‚“)</span>';
    if (rawDesc.trim() !== "") {
        const escapedDesc = escapeHtml(rawDesc);
        descHtml = escapedDesc.replace(/(https?:\/\/[^\s]+)/g, '<a href="$1" target="_blank">$1</a>');
    }

    container.innerHTML = `
        <div style="padding:10px 0;">
            <h4 style="margin:0 0 10px 0; font-size:14px; border-bottom:1px solid #eee; padding-bottom:5px;">
                ${escapeHtml(card.name)}
            </h4>
            
            <div id="desc-view-mode">
                <div class="sidebar-description">${descHtml}</div>
                <div class="desc-actions">
                    <button class="btn-edit-desc" onclick="enableDescEdit()">
                        <span class="material-icons" style="font-size:14px;">edit</span> ç·¨é›†
                    </button>
                </div>
            </div>

            <div id="desc-edit-mode" class="hidden">
                <textarea id="desc-textarea" class="sidebar-desc-editor" placeholder="èª¬æ˜ã‚’å…¥åŠ›...">${escapeHtml(rawDesc)}</textarea>
                <div class="desc-actions">
                    <button class="btn-cancel" onclick="cancelDescEdit()" style="padding:6px 12px; font-size:12px;">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
                    <button class="btn-save" onclick="saveDescription('${String(card.id)}')" style="padding:6px 12px; font-size:12px;">
                        <span class="material-icons" style="font-size:14px; vertical-align:middle;">save</span> ä¿å­˜ã—ã¦Trelloã¸åæ˜ 
                    </button>
                </div>
            </div>
            
            <div style="margin-top:30px; text-align:center;">
                <a href="${card.url}" target="_blank" class="btn-save" style="text-decoration:none; display:inline-block; font-size:12px;">
                    <span class="material-icons" style="font-size:14px; vertical-align:middle;">open_in_new</span> Trelloã§é–‹ã
                </a>
            </div>
        </div>
    `;
}

/**
 * â˜…è¿½åŠ ï¼šèª¬æ˜æ–‡ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ã«ã™ã‚‹
 */
function enableDescEdit() {
    document.getElementById('desc-view-mode').classList.add('hidden');
    document.getElementById('desc-edit-mode').classList.remove('hidden');
    document.getElementById('desc-textarea').focus();
}

/**
 * â˜…è¿½åŠ ï¼šèª¬æ˜æ–‡ç·¨é›†ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«
 */
function cancelDescEdit() {
    document.getElementById('desc-edit-mode').classList.add('hidden');
    document.getElementById('desc-view-mode').classList.remove('hidden');
    // ãƒªã‚»ãƒƒãƒˆã—ãŸã„å ´åˆã¯ã“ã“ã§å€¤ã‚’æˆ»ã™å‡¦ç†ã‚’å…¥ã‚Œã‚‹
}

/**
 * â˜…è¿½åŠ ï¼šèª¬æ˜æ–‡ã‚’ä¿å­˜ã—ã¦Trelloã¸é€ä¿¡
 */
function saveDescription(cardId) {
    const newDesc = document.getElementById('desc-textarea').value;
    const saveBtn = document.querySelector('#desc-edit-mode .btn-save');
    
    saveBtn.textContent = 'ä¿å­˜ä¸­...';
    saveBtn.disabled = true;

    // ã‚µãƒ¼ãƒãƒ¼ã¸é€ä¿¡
    google.script.run.withSuccessHandler((res) => {
        if (res.success) {
            // ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‡ãƒ¼ã‚¿ã®æ›´æ–°
            const card = globalData.cards.find(c => String(c.id) === String(cardId));
            if (card) {
                card.desc = newDesc; // ãƒ­ãƒ¼ã‚«ãƒ«æ›´æ–°
            }
            
            showToast('èª¬æ˜ã‚’æ›´æ–°ã—ã¾ã—ãŸ');
            GM.gainXp(XP_TABLE.create, 'èª¬æ˜æ›´æ–°'); // å°‘ã—XPã‚’ã‚ã’ã‚‹

            // ç”»é¢ã‚’é–²è¦§ãƒ¢ãƒ¼ãƒ‰ã«æˆ»ã—ã¦å†æç”»
            openDescriptionSidebar(null, cardId);
        } else {
            alert('ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ: ' + res.error);
            saveBtn.textContent = 'ä¿å­˜ã—ã¦Trelloã¸åæ˜ ';
            saveBtn.disabled = false;
        }
    }).withFailureHandler((e) => {
        alert('é€šä¿¡ã‚¨ãƒ©ãƒ¼: ' + e.message);
        saveBtn.textContent = 'ä¿å­˜ã—ã¦Trelloã¸åæ˜ ';
        saveBtn.disabled = false;
    }).updateTrelloDescription(cardId, newDesc); // ã“ã“ã§GASé–¢æ•°ã‚’å‘¼ã¶ãŒã€cardIdã¯ShortLink(safeId)ã®å ´åˆãŒã‚ã‚‹
                                                 // gas.gså´ã¯ updateTrelloDescription ã§ãã®ã¾ã¾URLã«ä½¿ã£ã¦ã„ã‚‹ãŸã‚
                                                 // Trello APIã¯ ID / ShortLink ã©ã¡ã‚‰ã§ã‚‚å—ã‘ä»˜ã‘ã‚‹ã®ã§OK
}

// =========================================
// â˜…ãƒªã‚¹ãƒˆè¨­å®šãƒ»æŠ˜ã‚ŠãŸãŸã¿æ©Ÿèƒ½ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
// =========================================

const LIST_COLORS = [
    '#ffadad', '#ffd6a5', '#fdffb6', '#caffbf', '#9bf6ff', '#a0c4ff',
    '#bdb2ff', '#ffc6ff', '#fffffc', '#e5e5e5', '#f0f4f8', '#dcd6f7',
    '#f4acb7', '#ffcad4', '#ffe5d9', '#d8e2dc', '#ece4db', '#9d8189',
    '#e29578', '#ffddd2', '#edf6f9', '#83c5be', '#006d77', '#f28482',
    '#84a59d', '#f6bd60', '#f7ede2', '#f5cac3', '#00b4d8', '#ade8f4',
    '#caf0f8', '#d0f4de', '#a9def9', '#e4c1f9', '#ff99c8', '#fcf6bd'
];

// è‰²ã‚’æš—ã/æ˜ã‚‹ãã™ã‚‹è£œåŠ©é–¢æ•°
function adjustColor(color, amount) {
    return '#' + color.replace(/^#/, '').replace(/../g, color => ('0'+Math.min(255, Math.max(0, parseInt(color, 16) + amount)).toString(16)).substr(-2));
}

function toggleListSettings(listId, btn) {
    if(window.event) window.event.stopPropagation();
    
    // ä»–ã®ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã‚’é–‰ã˜ã‚‹
    document.querySelectorAll('.list-settings-popup').forEach(el => el.classList.add('hidden'));

    const popup = document.getElementById(`settings-popup-${listId}`);
    if (popup.classList.contains('hidden')) {
        popup.classList.remove('hidden');
        renderColorGrid(listId);
    } else {
        popup.classList.add('hidden');
    }
}

// ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ä»¥å¤–ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰é–‰ã˜ã‚‹
window.addEventListener('click', () => {
    document.querySelectorAll('.list-settings-popup').forEach(el => el.classList.add('hidden'));
});

function renderColorGrid(listId) {
    const grid = document.getElementById(`color-grid-${listId}`);
    if (grid.children.length > 0) return; // æ—¢ã«ç”Ÿæˆæ¸ˆã¿ãªã‚‰ä½•ã‚‚ã—ãªã„

    LIST_COLORS.forEach(color => {
        const swatch = document.createElement('div');
        swatch.className = 'color-swatch';
        swatch.style.backgroundColor = color;
        swatch.onclick = (e) => {
            e.stopPropagation();
            setListColor(listId, color);
        };
        grid.appendChild(swatch);
    });
}

function setListColor(listId, color) {
    const settings = JSON.parse(localStorage.getItem('trello_list_settings') || '{}');
    if (!settings[listId]) settings[listId] = {};
    
    settings[listId].color = color;
    localStorage.setItem('trello_list_settings', JSON.stringify(settings));
    
    // å³åº§ã«åæ˜ ï¼ˆãƒªãƒ­ãƒ¼ãƒ‰ãªã—ã§ï¼‰
    applyFilters(); 
}

function toggleListCollapse(listId) {
    const settings = JSON.parse(localStorage.getItem('trello_list_settings') || '{}');
    if (!settings[listId]) settings[listId] = {};
    
    settings[listId].collapsed = !settings[listId].collapsed;
    localStorage.setItem('trello_list_settings', JSON.stringify(settings));
    
    // å³åº§ã«åæ˜ 
    applyFilters();
}

// =========================================
// â˜…ã‚«ãƒ¼ãƒ‰è¨­å®šç”»é¢ã‹ã‚‰ã®ç§»å‹•æ©Ÿèƒ½
// =========================================

function openMoveFromAssignment() {
    // è¨­å®šãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹
    document.getElementById('assignment-modal').classList.add('hidden');
    
    // ç§»å‹•ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‹ã
    // currentEditCardId ã¯è¨­å®šãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‹ãéš›ã«ã‚»ãƒƒãƒˆã•ã‚Œã¦ã„ã‚‹ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°
    if (currentEditCardId) {
        // ã‚«ãƒ¼ãƒ‰æƒ…å ±ã‚’å–å¾—ã—ã¦ãƒªã‚¹ãƒˆIDã‚’ç‰¹å®š
        const card = globalData.cards.find(c => String(c.id) === String(currentEditCardId));
        const listId = card ? card.idList : null;
        
        openMoveModal(currentEditCardId, listId);
    }
}

GM.updateShopUI = function() {
    const modalBody = document.querySelector('#shop-modal .modal');
    if (!modalBody) return;

    // ãƒ¢ãƒ¼ãƒ€ãƒ«ã®ä¸­èº«ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ãƒ»ãƒªã‚¹ãƒˆãƒ»é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³ï¼‰ã‚’ã™ã¹ã¦å†æ§‹ç¯‰ã—ã¾ã™
    let html = `
        <h3><span class="material-icons">shopping_cart</span> XPã‚·ãƒ§ãƒƒãƒ—</h3>
        <p style="font-size:12px; margin-bottom:15px; color:#666;">XPã‚’æ¶ˆè²»ã—ã¦ä½œæ¥­ã‚’è‡ªå‹•åŒ–ãƒ»åŠ¹ç‡åŒ–ã—ã‚ˆã†ï¼</p>
        
        <div id="shop-items-container" style="overflow-y: auto; max-height: 60vh; padding-right: 5px;">
    `;

    // ã‚¢ã‚¤ãƒ†ãƒ ãƒªã‚¹ãƒˆã®ç”Ÿæˆ
    Object.keys(SHOP_ITEMS).forEach(key => {
        const item = SHOP_ITEMS[key];
        const count = this.data.inventory[key] || 0;
        const cost = Math.floor(item.baseCost * Math.pow(1.15, count));
        const canBuy = this.data.xp >= cost;
        
        // ãƒ¦ãƒ‹ãƒ¼ã‚¯ã‚¢ã‚¤ãƒ†ãƒ ãªã©ã®è£…é£¾è¨­å®š
        const uniqueStyle = item.isUnique ? 'border:2px solid #9b59b6; background:linear-gradient(to right, #f3e5f5, #fff);' : 'background:#fff;';
        const icon = item.type === 'click' ? 'ğŸ–±ï¸' : (item.isUnique ? 'ğŸ”®' : 'ğŸ¤–');
        const effectText = item.type === 'click' ? `ã‚¯ãƒªãƒƒã‚¯åŠ› +${item.clickPower}` : `${item.xpPerSec.toLocaleString()} XP/ç§’`;

        html += `
        <div class="shop-item" style="display:flex; justify-content:space-between; align-items:center; padding:10px; border:1px solid #ddd; border-radius:8px; margin-bottom:8px; ${uniqueStyle}">
            <div class="shop-info">
                <h4 style="margin:0 0 4px 0; font-size:14px; color:${item.isUnique ? '#8e44ad' : '#333'}">
                    ${icon} ${item.name}
                </h4>
                <div style="font-size:10px; color:#666;">${item.desc || ''}</div>
                <div style="font-size:11px; font-weight:bold; color:#0079bf; margin-top:2px;">${effectText}</div>
                <div style="font-size:10px; margin-top:2px;">æ‰€æŒæ•°: <b>${count}</b></div>
            </div>
            <button class="btn-buy" onclick="GM.buyItem('${key}')" ${canBuy ? '' : 'disabled'} 
                style="padding:6px 12px; border-radius:4px; font-weight:bold; font-size:12px; border:none; color:white; cursor:${canBuy ? 'pointer' : 'not-allowed'}; background:${canBuy ? '#0079bf' : '#ccc'};">
                æ¶ˆè²» ${cost.toLocaleString()} XP
            </button>
        </div>`;
    });

    html += `</div>`; // ã‚³ãƒ³ãƒ†ãƒŠé–‰ã˜

    // ãƒ•ãƒƒã‚¿ãƒ¼ï¼ˆé–‰ã˜ã‚‹ãƒœã‚¿ãƒ³ï¼‰
    html += `
        <div class="modal-buttons" style="border-top: 1px solid #eee; margin-top: 15px; padding-top: 10px;">
            <button class="btn-save" onclick="document.getElementById('shop-modal').classList.add('hidden')">é–‰ã˜ã‚‹</button>
        </div>
    `;

    // HTMLã‚’é©ç”¨
    modalBody.innerHTML = html;
};

// ãƒœã‚¿ãƒ³ã‹ã‚‰å‘¼ã°ã‚Œã‚‹é–¢æ•°ã‚’ã€ä¿®æ­£ã—ãŸå‡¦ç†ã‚’ä½¿ã†ã‚ˆã†ã«å¤‰æ›´
window.openShopModal = function() {
    GM.updateShopUI(); // å†…å®¹ã‚’æœ€æ–°ã«ã—ã¦ã‹ã‚‰
    document.getElementById('shop-modal').classList.remove('hidden'); // è¡¨ç¤ºã™ã‚‹
};

// èª­ã¿è¾¼ã¿ç›´ã—ï¼ˆã“ã‚Œã§å£Šã‚Œã¦ã„ãŸè¡¨ç¤ºã‚¨ãƒªã‚¢ãŒä¿®å¾©ã•ã‚Œã¾ã™ï¼‰
GM.updateShopUI();

// â˜…ç«¶é¦¬ã‚²ãƒ¼ãƒ æ‹¡å¼µï¼šã‚ªãƒƒã‚ºä¸€è¦§è¡¨ç¤ºæ©Ÿèƒ½
// æ—¢å­˜ã® GameSystem (GM) ã«æ©Ÿèƒ½ã‚’è¿½åŠ ãƒ»ä¸Šæ›¸ãã—ã¾ã™

// 1. å³ãƒ‘ãƒãƒ«ã®è¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰ç®¡ç†å¤‰æ•°ã‚’è¿½åŠ 
GM.raceRightView = 'newspaper'; // 'newspaper' or 'odds'

// 2. ç«¶é¦¬ç”»é¢æç”»é–¢æ•° (renderRaceBetting) ã‚’ä¸Šæ›¸ãã—ã¦ã€å³ãƒ‘ãƒãƒ«ã®åˆ‡ã‚Šæ›¿ãˆã«å¯¾å¿œ
GM.renderRaceBetting = function() {
    const container = document.getElementById('race-betting-area');
    const raceTimeStr = this.raceState.nextRace ? `${this.raceState.nextRace.h}:${('0'+this.raceState.nextRace.m).slice(-2)}` : '--:--';
    
    // ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç”Ÿæˆï¼ˆå³ãƒ‘ãƒãƒ«ã«åˆ‡ã‚Šæ›¿ãˆãƒœã‚¿ãƒ³ã‚’è¿½åŠ ï¼‰
    container.innerHTML = `
        <div class="race-layout">
            <div class="race-left">
                <div class="bets-list-header">
                    <span>ğŸ« ã¿ã‚“ãªã®æŠ•ç¥¨</span>
                    <button onclick="GM.fetchAllUserBets()" style="background:none; border:none; color:#fff; cursor:pointer;" title="æ›´æ–°"><span class="material-icons" style="font-size:14px;">refresh</span></button>
                </div>
                <div id="bets-list-content" class="bets-list-content"></div>
            </div>

            <div class="race-center">
                <div id="center-betting-area">
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px; border-bottom:1px solid #eee; padding-bottom:5px;">
                        <h4 style="margin:0;">æŠ•ç¥¨ãƒ•ã‚©ãƒ¼ãƒ  (${raceTimeStr})</h4>
                        <div style="display:flex; gap:5px;">
                            <button class="btn-game-mini" onclick="GM.openPastResults()" title="ä»Šæ—¥ã®çµæœã‚’ç¢ºèª" style="background:#f1f2f6; border:1px solid #ccc; color:#333;">
                                <span class="material-icons" style="font-size:14px;">history</span> çµæœ
                            </button>
                            <button class="btn-game-mini" onclick="GM.borrowMoney()" title="ãŠé‡‘ã‚’å€Ÿã‚Šã‚‹" style="background:#fff3cd; border:1px solid #ffeeba; color:#856404;">
                                <span class="material-icons" style="font-size:14px;">credit_card</span> å€Ÿå…¥
                            </button>
                        </div>
                    </div>

                    <div class="betting-container">
                        <div class="betting-row">
                            <div class="betting-label">å¼åˆ¥</div>
                            <div class="betting-options">
                                <select id="bet-type-select" onchange="GM.updateBetUI()">
                                    <option value="WIN">å˜å‹</option><option value="PLACE">è¤‡å‹</option><option value="QUINELLA">é¦¬é€£</option><option value="WIDE">ãƒ¯ã‚¤ãƒ‰</option><option value="EXACTA">é¦¬å˜</option><option value="TRIO">3é€£è¤‡</option><option value="TRIFECTA">3é€£å˜</option>
                                </select>
                            </div>
                        </div>
                        <div class="betting-row">
                            <div class="betting-label">æ–¹å¼</div>
                            <div class="betting-options">
                                <select id="bet-mode-select" onchange="GM.updateBetUI()">
                                    <option value="NORMAL">é€šå¸¸ / ãƒœãƒƒã‚¯ã‚¹</option><option value="AXIS_1">1é ­è»¸æµã—</option><option value="AXIS_2">2é ­è»¸æµã—</option>
                                </select>
                            </div>
                        </div>
                        
                        <div id="mark-sheet-area"></div>

                        <div class="betting-row" style="border:none; margin-top:10px; background:#fafafa; padding:10px; flex-direction:column; align-items:stretch;">
                            <div style="display:flex; align-items:center; margin-bottom:5px;">
                                <div class="betting-label">1ç‚¹ã‚ãŸã‚Š</div>
                                <input type="number" id="bet-unit-price" value="100" min="100" step="100" style="width:80px; text-align:right;" oninput="GM.updateBetCount()"> å††
                            </div>
                            <div style="display:flex; justify-content:space-between; align-items:center; border-top:1px solid #ddd; padding-top:5px;">
                                <div style="font-size:12px; font-weight:bold;">
                                    <span id="bet-count-disp">0</span>ç‚¹ Ã— <span id="bet-price-disp">100</span>å†† = <span id="bet-total-disp" style="color:#e74c3c; font-size:14px;">0</span> å††
                                </div>
                                <button class="btn-save" onclick="GM.placeBet()" style="font-size:14px; padding:6px 20px;">æŠ•ç¥¨ã™ã‚‹</button>
                            </div>
                        </div>
                    </div>
                    <div style="text-align:right; font-size:12px; margin-top:5px;">
                        æ‰€æŒé‡‘: <span style="font-weight:bold; color:#f1c40f; font-size:14px;">Â¥${(this.data.money||0).toLocaleString()}</span>
                    </div>
                </div>

                <div id="center-view-area" class="hidden" style="flex:1; display:flex; flex-direction:column;">
                    <div class="race-track" id="race-track-inner">
                        <div class="race-goal-line"></div>
                    </div>
                    <div id="race-status-text" style="text-align:center; font-weight:bold; font-size:24px; margin-top:20px; color:#333;"></div>
                </div>
            </div>

            <div class="race-right" style="display:flex; flex-direction:column; height:100%;">
                <div style="display:flex; border-bottom:1px solid #ddd; background:#eee;">
                    <button id="btn-view-newspaper" onclick="GM.switchRaceRightView('newspaper')" style="flex:1; border:none; padding:8px; cursor:pointer; font-weight:bold; color:#666;">ğŸ“° æ–°è</button>
                    <button id="btn-view-odds" onclick="GM.switchRaceRightView('odds')" style="flex:1; border:none; padding:8px; cursor:pointer; font-weight:bold; color:#666;">ğŸ“Š ã‚ªãƒƒã‚º</button>
                </div>
                <div id="race-right-content" style="flex:1; overflow-y:auto; background:#fff;"></div>
            </div>
        </div>
    `;
    
    // åˆæœŸè¡¨ç¤ºã®æ›´æ–°
    this.updateBetUI();
    this.renderRaceRightContent(); // å³ãƒ‘ãƒãƒ«ã®ä¸­èº«ã‚’æç”»
    setTimeout(() => this.fetchAllUserBets(), 100);
};

// 3. å³ãƒ‘ãƒãƒ«ã®è¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆé–¢æ•°
GM.switchRaceRightView = function(view) {
    this.raceRightView = view;
    this.renderRaceRightContent();
};

// 4. å³ãƒ‘ãƒãƒ«ã®ä¸­èº«ã‚’æç”»ã™ã‚‹é–¢æ•°
GM.renderRaceRightContent = function() {
    const container = document.getElementById('race-right-content');
    const btnNews = document.getElementById('btn-view-newspaper');
    const btnOdds = document.getElementById('btn-view-odds');
    if(!container) return;

    // ãƒœã‚¿ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ«æ›´æ–°
    if(this.raceRightView === 'newspaper') {
        btnNews.style.background = '#fff'; btnNews.style.color = '#0079bf'; btnNews.style.borderBottom = '2px solid #0079bf';
        btnOdds.style.background = '#eee'; btnOdds.style.color = '#666'; btnOdds.style.borderBottom = 'none';
        
        // æ–°èãƒ‡ãƒ¼ã‚¿ã®æç”»ï¼ˆå…ƒã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’ç§»æ¤ï¼‰
        const paper = this.data.raceData.newspaper;
        if (paper && paper.horses) {
            let html = `
                <div class="newspaper-header">ğŸ ç«¶é¦¬ã‚¨ã‚¤ãƒˆ (å…¬å¼)</div>
                <table class="newspaper-table">
                    <thead>
                        <tr><th style="width:20px;">å°</th><th style="width:20px;">ç•ª</th><th>é¦¬å</th><th style="width:35px;">ã‚ªãƒƒã‚º</th><th style="width:30px;">èª¿å­</th><th style="width:30px;">AI</th><th>çŸ­è©•</th></tr>
                    </thead>
                    <tbody>
            `;
            paper.horses.forEach(h => {
                const probColor = h.aiProb > 40 ? '#eb5a46' : (h.aiProb > 20 ? '#f1c40f' : '#333');
                html += `<tr><td class="cell-mark ${h.mark.c}">${h.mark.s}</td><td style="font-weight:bold;">${h.id}</td><td class="cell-horse" style="font-size:10px;">${h.name}</td><td style="font-weight:bold; color:#d35400;">${h.baseOdds.toFixed(1)}</td><td class="${h.condition.class}">${h.condition.icon}</td><td style="font-weight:bold; color:${probColor};">${h.aiProb}%</td><td style="font-size:10px;">${h.comment}</td></tr>`;
            });
            html += `</tbody></table>`;
            container.innerHTML = html;
        } else {
            container.innerHTML = '<div style="padding:10px;">ãƒ‡ãƒ¼ã‚¿æº–å‚™ä¸­...</div>';
        }

    } else {
        // ã‚ªãƒƒã‚ºä¸€è¦§ã®æç”»
        btnOdds.style.background = '#fff'; btnOdds.style.color = '#d35400'; btnOdds.style.borderBottom = '2px solid #d35400';
        btnNews.style.background = '#eee'; btnNews.style.color = '#666'; btnNews.style.borderBottom = 'none';

        const type = document.getElementById('bet-type-select') ? document.getElementById('bet-type-select').value : 'WIN';
        container.innerHTML = this.generateOddsList(type);
    }
};

// â˜…ä¿®æ­£ï¼šã‚ªãƒƒã‚ºä¸€è¦§ç”Ÿæˆé–¢æ•°ã®ãƒã‚°ä¿®æ­£ç‰ˆ
// çµ„ã¿åˆã‚ã›ï¼ˆé¦¬é€£ãƒ»3é€£è¤‡ãªã©ï¼‰ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ãƒ­ã‚¸ãƒƒã‚¯ã‚’å†å®šç¾©ã—ã¾ã™

GM.generateOddsList = function(type) {
    const horses = this.data.raceData.newspaper ? this.data.raceData.newspaper.horses : [];
    if (!horses || horses.length === 0) return '<div style="padding:10px;">ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“</div>';

    // è¡¨ç¤ºåã®å®šç¾©
    const typeNames = {
        WIN: 'å˜å‹', PLACE: 'è¤‡å‹',
        QUINELLA: 'é¦¬é€£', WIDE: 'ãƒ¯ã‚¤ãƒ‰', EXACTA: 'é¦¬å˜',
        TRIO: '3é€£è¤‡', TRIFECTA: '3é€£å˜'
    };

    let html = `<div style="padding:8px; background:#f5f5f5; font-weight:bold; font-size:12px; border-bottom:1px solid #ddd; position:sticky; top:0; z-index:10;">ğŸ“Š ${typeNames[type] || type} ã‚ªãƒƒã‚ºä¸€è¦§</div>`;
    html += `<table class="newspaper-table" style="width:100%;">
                <thead>
                    <tr>
                        <th style="width:60px;">ç•ª</th>
                        <th>çµ„åˆã›</th>
                        <th style="text-align:right; width:60px;">ã‚ªãƒƒã‚º</th>
                    </tr>
                </thead>
                <tbody>`;

    const list = [];
    const n = horses.length;

    // ã‚ªãƒƒã‚ºè¨ˆç®—ç”¨ãƒ˜ãƒ«ãƒ‘ãƒ¼ï¼ˆç°¡æ˜“è¨ˆç®—å¼ï¼‰
    const calcOdds = (ids, factor) => {
        const targets = ids.map(id => horses.find(h => h.id == id));
        if (targets.some(h => !h)) return 0;
        
        // ã‚ªãƒƒã‚ºã®ç©ç®—ï¼ˆåŸºæœ¬å€¤ï¼‰
        let product = targets.reduce((acc, h) => acc * h.baseOdds, 1);
        // çµ„ã¿åˆã‚ã›æ•°ã‚„é›£æ˜“åº¦ã«å¿œã˜ãŸä¿‚æ•°ã‚’æ›ã‘ã‚‹
        let odds = product * factor;
        // æœ€ä½1.0å€ã€å°æ•°ã¯ç¬¬1ä½ã¾ã§
        return Math.max(1.0, parseFloat(odds.toFixed(1)));
    };

    // --- 1. å˜å‹ãƒ»è¤‡å‹ ---
    if (type === 'WIN' || type === 'PLACE') {
        horses.forEach(h => {
            let odds = h.baseOdds;
            if (type === 'PLACE') odds = Math.max(1.0, odds / 3.0); // è¤‡å‹ã¯å®‰ã
            list.push({ num: h.id, label: h.name, odds: odds });
        });
    }
    // --- 2. 2é ­ã®çµ„ã¿åˆã‚ã› (é¦¬é€£, ãƒ¯ã‚¤ãƒ‰, é¦¬å˜) ---
    else if (['QUINELLA', 'WIDE', 'EXACTA'].includes(type)) {
        for (let i = 0; i < n; i++) {
            for (let j = 0; j < n; j++) {
                if (i === j) continue; // åŒã˜é¦¬ã¯é¸ã¹ãªã„

                // é¦¬é€£ã¨ãƒ¯ã‚¤ãƒ‰ã¯ã€Œé †ä¸åŒã€ãªã®ã§ã€é‡è¤‡ã‚’é¿ã‘ã‚‹ï¼ˆä¾‹: 1-2 ã¨ 2-1 ã¯åŒã˜æ‰±ã„ï¼‰
                if ((type === 'QUINELLA' || type === 'WIDE') && i >= j) continue;

                const h1 = horses[i];
                const h2 = horses[j];
                let factor = 0.2; // é¦¬é€£ã®åŸºæº–
                if (type === 'WIDE') factor = 0.08; // ãƒ¯ã‚¤ãƒ‰ã¯å®‰ã„
                if (type === 'EXACTA') factor = 0.5; // é¦¬å˜ã¯é«˜ã„

                list.push({
                    num: `${h1.id}-${h2.id}`,
                    label: `${h1.name} - ${h2.name}`,
                    odds: calcOdds([h1.id, h2.id], factor)
                });
            }
        }
    }
    // --- 3. 3é ­ã®çµ„ã¿åˆã‚ã› (3é€£è¤‡, 3é€£å˜) ---
    else if (['TRIO', 'TRIFECTA'].includes(type)) {
        for (let i = 0; i < n; i++) {
            for (let j = 0; j < n; j++) {
                if (i === j) continue;
                for (let k = 0; k < n; k++) {
                    if (k === i || k === j) continue;

                    // 3é€£è¤‡ã¯ã€Œé †ä¸åŒã€ãªã®ã§ã€æ˜‡é †ï¼ˆi<j<kï¼‰ã®ã¨ãã ã‘ç”Ÿæˆã—ã¦é‡è¤‡ã‚’é˜²ã
                    if (type === 'TRIO') {
                        if (!(i < j && j < k)) continue;
                    }

                    const h1 = horses[i];
                    const h2 = horses[j];
                    const h3 = horses[k];
                    let factor = 0.1; // 3é€£è¤‡ã®åŸºæº–
                    if (type === 'TRIFECTA') factor = 0.8; // 3é€£å˜ã¯è¶…é«˜é…å½“

                    list.push({
                        num: `${h1.id}-${h2.id}-${h3.id}`,
                        label: '', // 3é ­ã¯åå‰ãŒé•·ã„ã®ã§çœç•¥
                        odds: calcOdds([h1.id, h2.id, h3.id], factor)
                    });
                }
            }
        }
    }

    // ãƒªã‚¹ãƒˆã‚’æç”»
    if (list.length === 0) {
        html += `<tr><td colspan="3" style="padding:20px; text-align:center; color:#999;">çµ„ã¿åˆã‚ã›ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“</td></tr>`;
    } else {
        list.forEach(item => {
            // ã‚ªãƒƒã‚ºã®è‰²åˆ†ã‘ï¼ˆäººæ°—ãªã‚‰èµ¤ã€å¤§ç©´ãªã‚‰ã‚°ãƒ¬ãƒ¼ãªã©ï¼‰
            let color = '#333';
            if (item.odds < 5.0) color = '#d35400';
            else if (item.odds > 100.0) color = '#95a5a6';

            html += `<tr>
                <td style="text-align:center; font-weight:bold; font-family:'Roboto', sans-serif;">${item.num}</td>
                <td style="font-size:10px; color:#666;">${item.label}</td>
                <td style="text-align:right; font-weight:bold; color:${color}; font-size:13px;">${item.odds.toFixed(1)}</td>
            </tr>`;
        });
    }

    html += `</tbody></table>`;
    return html;
};

// ç”»é¢ãŒè¡¨ç¤ºä¸­ã®å ´åˆã€å³åº§ã«æ›´æ–°ã‚’åæ˜ 
if(document.getElementById('race-right-content') && GM.raceRightView === 'odds') {
    GM.renderRaceRightContent();
}

/* ==================================================================================
   index.html ã®ä¿®æ­£ç®‡æ‰€
   ä»¥ä¸‹ã®2ã¤ã®é–¢æ•° (GM.updateRaceStatus ã¨ GM.placeBet) ã‚’ã“ã®ã‚³ãƒ¼ãƒ‰ã§ç½®ãæ›ãˆã¦ãã ã•ã„
   ================================================================================== */

// ä¿®æ­£1ï¼šãƒ¬ãƒ¼ã‚¹IDã‚’ç¢ºå®Ÿã«ç”Ÿæˆã™ã‚‹ã‚ˆã†ã«å¤‰æ›´
GM.updateRaceStatus = function() {
    const now = new Date();
    const currentHour = now.getHours();
    const currentMin = now.getMinutes();
    const currentTimeVal = currentHour * 60 + currentMin;

    let nextRace = null;
    let raceStatus = 'CLOSED';

    for (let i = 0; i < RACE_SCHEDULE.length; i++) {
        const race = RACE_SCHEDULE[i];
        
        // â˜…é‡è¦ï¼šãƒ¬ãƒ¼ã‚¹IDã‚’ã“ã“ã§ç¢ºå®Ÿã«ç”Ÿæˆã—ã¦ã‚»ãƒƒãƒˆã™ã‚‹
        // (ä¾‹: 9æ™‚55åˆ†ã®ãƒ¬ãƒ¼ã‚¹ -> "race_0955")
        race.id = 'race_' + String(race.h).padStart(2, '0') + String(race.m).padStart(2, '0');

        const raceTimeVal = race.h * 60 + race.m;
        const voteStartVal = raceTimeVal - 60; // 60åˆ†å‰ã‹ã‚‰æŠ•ç¥¨é–‹å§‹
        const raceEndVal = raceTimeVal + 5;    // 5åˆ†å¾Œã¾ã§èµ°è¡Œä¸­æ‰±ã„

        if (currentTimeVal >= raceTimeVal && currentTimeVal < raceEndVal) {
            nextRace = race;
            raceStatus = 'RUNNING';
            break;
        } else if (currentTimeVal >= voteStartVal && currentTimeVal < raceTimeVal) {
            nextRace = race;
            raceStatus = 'OPEN';
            break;
        } else if (currentTimeVal < voteStartVal) {
            if (!nextRace) nextRace = race;
            break; // æœªæ¥ã®ãƒ¬ãƒ¼ã‚¹
        }
    }

    const btn = document.getElementById('btn-open-race');
    if (!btn) return;

    // ç¾åœ¨ã®çŠ¶æ…‹ã‚’ä¿å­˜
    this.raceState.nextRace = nextRace;
    this.raceState.status = raceStatus;

    if (raceStatus === 'OPEN') {
        btn.disabled = false;
        btn.innerText = "æŠ•ç¥¨";
        btn.title = `ç¬¬${this.getRaceNumber(nextRace)}ãƒ¬ãƒ¼ã‚¹ æŠ•ç¥¨å—ä»˜ä¸­ (${nextRace.h}:${String(nextRace.m).padStart(2, '0')})`;
        btn.classList.remove('running');
        btn.style.background = "";
    } else if (raceStatus === 'RUNNING') {
        btn.disabled = false;
        btn.innerText = "ç™ºèµ°";
        btn.title = "ãƒ¬ãƒ¼ã‚¹é–‹å‚¬ä¸­ï¼";
        btn.classList.add('running');
        btn.style.background = "linear-gradient(to bottom, #c0392b, #e74c3c)";
    } else {
        btn.disabled = true;
        btn.innerText = "ç«¶é¦¬";
        btn.title = "é–‹å‚¬æ™‚é–“å¤–ã§ã™";
        btn.classList.remove('running');
        btn.style.background = "";
    }
};

// 2. æŠ•ç¥¨å‡¦ç†ï¼ˆã‚¨ãƒ©ãƒ¼ã®åŸå› ã ã£ãŸdescå¤‰æ•°ã‚’å®šç¾©ã—ã€å®‰å…¨ãªã‚µãƒ¼ãƒãƒ¼é€šä¿¡ã‚’è¡Œã„ã¾ã™ï¼‰
GM.placeBet = function() {
    // æœ€æ–°ã®è¨ˆç®—çŠ¶æ…‹ã‚’å–å¾—
    const { count, total, combinations } = this.updateBetCount();
    
    const type = document.getElementById('bet-type-select').value;
    const mode = document.getElementById('bet-mode-select').value;
    const unitPrice = parseInt(document.getElementById('bet-unit-price').value, 10);

    // ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯
    if (!this.raceState.nextRace) {
        alert('ãƒ¬ãƒ¼ã‚¹æƒ…å ±ãŒã‚ã‚Šã¾ã›ã‚“ã€‚ç”»é¢ã‚’æ›´æ–°ã—ã¦ãã ã•ã„ã€‚');
        return;
    }
    if (count === 0) {
        alert('è²·ã„ç›®ãŒé¸æŠã•ã‚Œã¦ã„ã¾ã›ã‚“');
        return;
    }
    if (this.data.money < total) {
        alert(`æ‰€æŒé‡‘ãŒè¶³ã‚Šã¾ã›ã‚“ï¼\nå¿…è¦: Â¥${total.toLocaleString()}\næ‰€æŒ: Â¥${this.data.money.toLocaleString()}`);
        return;
    }
    if (unitPrice < 100) {
        alert('1ç‚¹ã‚ãŸã‚Š100å††ä»¥ä¸Šã§å…¥åŠ›ã—ã¦ãã ã•ã„');
        return;
    }

    if (!confirm(`åˆè¨ˆ ${total.toLocaleString()}å†† ã§ã™ã€‚\næŠ•ç¥¨ã—ã¾ã™ã‹ï¼Ÿ`)) return;

    // â˜…ä¿®æ­£ï¼šèª¬æ˜æ–‡(desc)ã‚’ä½œæˆï¼ˆä»¥å‰ã®ã‚¨ãƒ©ãƒ¼åŸå› ã‚’è§£æ¶ˆï¼‰
    const typeNames = { WIN:'å˜å‹', PLACE:'è¤‡å‹', QUINELLA:'é¦¬é€£', WIDE:'ãƒ¯ã‚¤ãƒ‰', EXACTA:'é¦¬å˜', TRIO:'3é€£è¤‡', TRIFECTA:'3é€£å˜' };
    const typeName = typeNames[type] || type;
    const desc = `${typeName} ${count}ç‚¹è³¼å…¥`;

    const betData = {
        raceId: this.raceState.nextRace.id,
        type: type,
        mode: mode,
        amount: total,
        unitPrice: unitPrice,
        count: count,
        desc: desc, 
        combinations: combinations,
        snapshotHorses: [...horsesgatya] 
    };

    // ãƒœã‚¿ãƒ³ã‚’ä¸€æ™‚çš„ã«ç„¡åŠ¹åŒ–
    const btn = document.querySelector('#center-betting-area .btn-save');
    if(btn) { btn.disabled = true; btn.textContent = 'å‡¦ç†ä¸­...'; }

    // â˜…é‡è¦ï¼šæ–°æ©Ÿèƒ½ placeBetAtomic (ã‚µãƒ¼ãƒãƒ¼å´) ã‚’å‘¼ã³å‡ºã™
    google.script.run.withSuccessHandler((res) => {
        // æˆåŠŸæ™‚
        this.data.money = res.newBalance; // æ®‹é«˜æ›´æ–°
        this.updateMoneyDisplay();
        this.showToast("âœ… æŠ•ç¥¨ã—ã¾ã—ãŸï¼");
        
        // è‡ªåˆ†ã®æŠ•ç¥¨ãƒªã‚¹ãƒˆã‚’å†èª­ã¿è¾¼ã¿ã—ã¦è¡¨ç¤º
        this.fetchAllUserBets();
        
        // ãƒ­ãƒ¼ã‚«ãƒ«å±¥æ­´ã«ã‚‚è¿½åŠ 
        if (!this.data.raceData.activeBets) this.data.raceData.activeBets = [];
        this.data.raceData.activeBets.push(betData);
        this.save();

        if(btn) { btn.disabled = false; btn.textContent = 'æŠ•ç¥¨ã™ã‚‹'; }

    }).withFailureHandler((e) => {
        // å¤±æ•—æ™‚
        alert("æŠ•ç¥¨ã‚¨ãƒ©ãƒ¼: " + e.message);
        if(btn) { btn.disabled = false; btn.textContent = 'æŠ•ç¥¨ã™ã‚‹'; }
    }).placeBetAtomic(betData.raceId, this.userId, betData, total);
};

// 3. ã‚¦ã‚©ãƒ¬ãƒƒãƒˆåŒæœŸ & æ‰€æŒé‡‘æ›´æ–°ï¼ˆã‚µãƒ¼ãƒãƒ¼ã®è¨˜éŒ²ã¨åŒæœŸï¼‰
GM.syncWallet = function() {
    if (!this.userId) return;
    google.script.run.withSuccessHandler((balance) => {
        this.data.money = balance;
        this.updateMoneyDisplay();
    }).getWalletBalance(this.userId);
};

// ===============================================
// â˜…ãƒ©ãƒ³ã‚­ãƒ³ã‚°è¡¨ç¤ºæ©Ÿèƒ½ï¼ˆé•·è€…ç•ªä»˜ï¼‰
// ===============================================

GM.showRankingWindow = function() {
    // èª­ã¿è¾¼ã¿ä¸­è¡¨ç¤º
    const modalBody = document.getElementById('ranking-list-body'); // â€»HTMLå´ã«ã“ã®IDã‚’æŒã¤divã‚’ç”¨æ„ã—ã¦ãã ã•ã„
    if (modalBody) {
        modalBody.innerHTML = '<div style="text-align:center; padding:20px;"><i class="fas fa-spinner fa-spin"></i> ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ä¸­...</div>';
    }
    
    // ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’è¡¨ç¤ºï¼ˆæ—¢å­˜ã®ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤ºãƒ­ã‚¸ãƒƒã‚¯ã«åˆã‚ã›ã¦ãã ã•ã„ï¼‰
    // ä¾‹: $('#rankingModal').modal('show'); ãªã©
    // ã“ã“ã§ã¯æ±ç”¨çš„ã«ã€HTMLè¦ç´ ãŒã‚ã‚‹å‰æã§é€²ã‚ã¾ã™

    // ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰ãƒ©ãƒ³ã‚­ãƒ³ã‚°å–å¾—
    google.script.run.withSuccessHandler((rankingData) => {
        this.renderRankingList(rankingData);
    }).getMoneyRanking();
};

GM.renderRankingList = function(list) {
    const container = document.getElementById('ranking-list-body'); // è¡¨ç¤ºå…ˆã®div ID
    if (!container) return;

    if (!list || list.length === 0) {
        container.innerHTML = '<p style="text-align:center; padding:20px;">ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“</p>';
        return;
    }

    let html = '<div class="ranking-container">';

    list.forEach((item, index) => {
        const rank = index + 1;
        const isMe = (String(item.user) === String(this.userId));
        
        // ã‚¯ãƒ©ã‚¹ã®æ±ºå®š (1ä½~3ä½ã€è‡ªåˆ†)
        let rowClass = 'ranking-item';
        if (rank === 1) rowClass += ' rank-1';
        else if (rank === 2) rowClass += ' rank-2';
        else if (rank === 3) rowClass += ' rank-3';
        if (isMe) rowClass += ' is-me';

        // ãƒˆãƒ­ãƒ•ã‚£ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³
        let trophy = '';
        if (rank === 1) trophy = '<span class="trophy-icon">ğŸ‘‘</span>';
        else if (rank === 2) trophy = '<span class="trophy-icon">ğŸ¥ˆ</span>';
        else if (rank === 3) trophy = '<span class="trophy-icon">ğŸ¥‰</span>';

        // åå‰ï¼ˆIDã‹ã‚‰æ¨æ¸¬ã™ã‚‹ã‹ã€ãã®ã¾ã¾è¡¨ç¤ºï¼‰
        // â€»ã‚‚ã—ãƒ¡ãƒ³ãƒãƒ¼åç°¿ãŒã‚ã‚Œã°ã“ã“ã§å¤‰æ›ã§ãã¾ã™ãŒã€ä»Šå›ã¯IDã‚’è¡¨ç¤ºã—ã¾ã™
        const displayName = item.user; 

        html += `
            <div class="${rowClass}">
                <div class="rank-badge">${rank}</div>
                <div class="rank-user-info">
                    <div class="rank-name">${trophy} ${displayName} ${isMe ? '<span style="font-size:10px; color:#2196f3; margin-left:5px;">(ã‚ãªãŸ)</span>' : ''}</div>
                </div>
                <div class="rank-money">Â¥${Number(item.money).toLocaleString()}</div>
            </div>
        `;
    });

    html += '</div>';
    container.innerHTML = html;
};
</script>
</body>
</html>